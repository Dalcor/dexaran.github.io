"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{1422:(e,t,r)=>{r.d(t,{$:()=>r$});var n=r(18587),i=r(73320),a=r(4181),s=r(75411),o=r(12581),l=r(84428),c=r(66568),u=r(78568);function f(e){if(!(e instanceof c.C))return!1;let t=e.walk(e=>e instanceof u.M);return t instanceof u.M&&(t.data?.errorName==="HttpError"||t.data?.errorName==="ResolverError"||t.data?.errorName==="ResolverNotContract"||t.data?.errorName==="ResolverNotFound"||t.data?.errorName==="ReverseAddressMismatch"||t.data?.errorName==="UnsupportedResolverProfile")}var d=r(60337),h=r(76429),p=r(22106),m=r(18860),y=r(89762);function b(e){if(66!==e.length||0!==e.indexOf("[")||65!==e.indexOf("]"))return null;let t=`0x${e.slice(1,65)}`;return(0,y.q)(t)?t:null}function g(e){let t=new Uint8Array(32).fill(0);if(!e)return(0,l.My)(t);let r=e.split(".");for(let e=r.length-1;e>=0;e-=1){let n=b(r[e]),i=n?(0,p.ZJ)(n):(0,m.S)((0,p.Af)(r[e]),"bytes");t=(0,m.S)((0,h.xW)([t,i]),"bytes")}return(0,l.My)(t)}function w(e){let t=e.replace(/^\.|\.$/gm,"");if(0===t.length)return new Uint8Array(1);let r=new Uint8Array((0,p.Af)(t).byteLength+2),n=0,i=t.split(".");for(let e=0;e<i.length;e++){var a;let t=(0,p.Af)(i[e]);t.byteLength>255&&(t=(0,p.Af)((a=function(e){let t=new Uint8Array(32).fill(0);return e?b(e)||(0,m.S)((0,p.Af)(e)):(0,l.My)(t)}(i[e]),`[${a.slice(2)}]`))),r[n]=t.length,r.set(t,n+1),n+=t.length+1}return r.byteLength!==n+1?r.slice(0,n+1):r}var v=r(49586),x=r(27854);async function E(e,t){let{blockNumber:r,blockTag:c,coinType:u,name:h,gatewayUrls:p,strict:m}=t,{chain:y}=e,b=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!y)throw Error("client chain not configured. universalResolverAddress is required.");return(0,s.M)({blockNumber:r,chain:y,contract:"ensUniversalResolver"})})(),E=y?.ensTlds;if(E&&!E.some(e=>h.endsWith(e)))return null;let B=null!=u?[g(h),BigInt(u)]:[g(h)];try{let t=(0,a.p)({abi:n.Rm,functionName:"addr",args:B}),s={address:b,abi:n.Ag,functionName:"resolveWithGateways",args:[(0,l.nj)(w(h)),t,p??[d.J]],blockNumber:r,blockTag:c},u=(0,v.T)(e,x.J,"readContract"),f=await u(s);if("0x"===f[0])return null;let m=(0,i.e)({abi:n.Rm,args:B,functionName:"addr",data:f[0]});if("0x"===m||"0x00"===(0,o.B)(m))return null;return m}catch(e){if(m)throw e;if(f(e))return null;throw e}}class B extends c.C{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class P extends c.C{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class A extends c.C{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class I extends c.C{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}c.C;let C=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,T=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,N=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,S=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function k(e){try{let t=await fetch(e,{method:"HEAD"});if(200===t.status){let e=t.headers.get("content-type");return e?.startsWith("image/")}return!1}catch(t){if("object"==typeof t&&void 0!==t.response||!Object.hasOwn(globalThis,"Image"))return!1;return new Promise(t=>{let r=new Image;r.onload=()=>{t(!0)},r.onerror=()=>{t(!1)},r.src=e})}}function R(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function O({uri:e,gatewayUrls:t}){let r=N.test(e);if(r)return{uri:e,isOnChain:!0,isEncoded:r};let n=R(t?.ipfs,"https://ipfs.io"),i=R(t?.arweave,"https://arweave.net"),a=e.match(C),{protocol:s,subpath:o,target:l,subtarget:c=""}=a?.groups||{},u="ipns:/"===s||"ipns/"===o,f="ipfs:/"===s||"ipfs/"===o||T.test(e);if(e.startsWith("http")&&!u&&!f){let r=e;return t?.arweave&&(r=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:r,isOnChain:!1,isEncoded:!1}}if((u||f)&&l)return{uri:`${n}/${u?"ipns":"ipfs"}/${l}${c}`,isOnChain:!1,isEncoded:!1};if("ar:/"===s&&l)return{uri:`${i}/${l}${c||""}`,isOnChain:!1,isEncoded:!1};let d=e.replace(S,"");if(d.startsWith("<svg")&&(d=`data:image/svg+xml;base64,${btoa(d)}`),d.startsWith("data:")||d.startsWith("{"))return{uri:d,isOnChain:!0,isEncoded:!1};throw new A({uri:e})}function F(e){if("object"!=typeof e||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new B({data:e});return e.image||e.image_url||e.image_data}async function U({gatewayUrls:e,uri:t}){try{let r=await fetch(t).then(e=>e.json());return await q({gatewayUrls:e,uri:F(r)})}catch{throw new A({uri:t})}}async function q({gatewayUrls:e,uri:t}){let{uri:r,isOnChain:n}=O({uri:t,gatewayUrls:e});if(n||await k(r))return r;throw new A({uri:t})}async function z(e,{nft:t}){if("erc721"===t.namespace)return(0,x.J)(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if("erc1155"===t.namespace)return(0,x.J)(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new I({namespace:t.namespace})}async function $(e,{gatewayUrls:t,record:r}){return/eip155:/i.test(r)?M(e,{gatewayUrls:t,record:r}):q({uri:r,gatewayUrls:t})}async function M(e,{gatewayUrls:t,record:r}){let n=function(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));let[r,n,i]=t.split("/"),[a,s]=r.split(":"),[o,l]=n.split(":");if(!a||"eip155"!==a.toLowerCase())throw new P({reason:"Only EIP-155 supported"});if(!s)throw new P({reason:"Chain ID not found"});if(!l)throw new P({reason:"Contract address not found"});if(!i)throw new P({reason:"Token ID not found"});if(!o)throw new P({reason:"ERC namespace not found"});return{chainID:Number.parseInt(s,10),namespace:o.toLowerCase(),contractAddress:l,tokenID:i}}(r),{uri:i,isOnChain:a,isEncoded:s}=O({uri:await z(e,{nft:n}),gatewayUrls:t});if(a&&(i.includes("data:application/json;base64,")||i.startsWith("{")))return q({uri:F(JSON.parse(s?atob(i.replace("data:application/json;base64,","")):i)),gatewayUrls:t});let o=n.tokenID;return"erc1155"===n.namespace&&(o=o.replace("0x","").padStart(64,"0")),U({gatewayUrls:t,uri:i.replace(/(?:0x)?{id}/,o)})}async function L(e,t){let{blockNumber:r,blockTag:o,key:c,name:u,gatewayUrls:h,strict:p}=t,{chain:m}=e,y=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!m)throw Error("client chain not configured. universalResolverAddress is required.");return(0,s.M)({blockNumber:r,chain:m,contract:"ensUniversalResolver"})})(),b=m?.ensTlds;if(b&&!b.some(e=>u.endsWith(e)))return null;try{let t={address:y,abi:n.Ag,args:[(0,l.nj)(w(u)),(0,a.p)({abi:n.SJ,functionName:"text",args:[g(u),c]}),h??[d.J]],functionName:"resolveWithGateways",blockNumber:r,blockTag:o},s=(0,v.T)(e,x.J,"readContract"),f=await s(t);if("0x"===f[0])return null;let p=(0,i.e)({abi:n.SJ,functionName:"text",data:f[0]});return""===p?null:p}catch(e){if(p)throw e;if(f(e))return null;throw e}}async function H(e,{blockNumber:t,blockTag:r,assetGatewayUrls:n,name:i,gatewayUrls:a,strict:s,universalResolverAddress:o}){let l=await (0,v.T)(e,L,"getEnsText")({blockNumber:t,blockTag:r,key:"avatar",name:i,universalResolverAddress:o,gatewayUrls:a,strict:s});if(!l)return null;try{return await $(e,{record:l,gatewayUrls:n})}catch{return null}}async function G(e,t){let{address:r,blockNumber:i,blockTag:a,coinType:o=60n,gatewayUrls:l,strict:c}=t,{chain:u}=e,h=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!u)throw Error("client chain not configured. universalResolverAddress is required.");return(0,s.M)({blockNumber:i,chain:u,contract:"ensUniversalResolver"})})();try{let t={address:h,abi:n.oX,args:[r,o,l??[d.J]],functionName:"reverseWithGateways",blockNumber:i,blockTag:a},s=(0,v.T)(e,x.J,"readContract"),[c]=await s(t);return c||null}catch(e){if(c)throw e;if(f(e))return null;throw e}}async function j(e,t){let{blockNumber:r,blockTag:n,name:i}=t,{chain:a}=e,o=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!a)throw Error("client chain not configured. universalResolverAddress is required.");return(0,s.M)({blockNumber:r,chain:a,contract:"ensUniversalResolver"})})(),c=a?.ensTlds;if(c&&!c.some(e=>i.endsWith(e)))throw Error(`${i} is not a valid ENS TLD (${c?.join(", ")}) for chain "${a.name}" (id: ${a.id}).`);let[u]=await (0,v.T)(e,x.J,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[(0,l.nj)(w(i))],blockNumber:r,blockTag:n});return u}var D=r(76900),_=r(51011),W=r(96462),K=r(89649),V=r(58637),Z=r(95420);async function J(e,t){let{account:r=e.account,blockNumber:n,blockTag:i="latest",blobs:a,data:s,gas:o,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:h,value:p,...m}=t,y=r?(0,_.J)(r):void 0;try{(0,Z.c)(t);let r="bigint"==typeof n?(0,l.cK)(n):void 0,b=e.chain?.formatters?.transactionRequest?.format,g=(b||V.Bv)({...(0,K.o)(m,{format:b}),account:y,blobs:a,data:s,gas:o,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:h,value:p},"createAccessList"),w=await e.request({method:"eth_createAccessList",params:[g,r||i]});return{accessList:w.accessList,gasUsed:BigInt(w.gasUsed)}}catch(r){throw(0,W.d)(r,{...t,account:y,chain:e.chain})}}function Q(e,{method:t}){let r={};return"fallback"===e.transport.type&&e.transport.onResponse?.(({method:e,response:n,status:i,transport:a})=>{"success"===i&&t===e&&(r[n]=a.request)}),t=>r[t]||e.request}async function Y(e){let t=Q(e,{method:"eth_newBlockFilter"}),r=await e.request({method:"eth_newBlockFilter"});return{id:r,request:t(r),type:"block"}}var X=r(80044);class ee extends c.C{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}var et=r(8685),er=r(44497),en=r(24029),ei=r(42330);let ea="/docs/contract/encodeEventTopics";function es(e){let{abi:t,eventName:r,args:n}=e,i=t[0];if(r){let e=(0,ei.iY)({abi:t,name:r});if(!e)throw new X.M_(r,{docsPath:ea});i=e}if("event"!==i.type)throw new X.M_(void 0,{docsPath:ea});let a=(0,en.B)(i),s=(0,et.h)(a),o=[];if(n&&"inputs"in i){let e=i.inputs?.filter(e=>"indexed"in e&&e.indexed),t=Array.isArray(n)?n:Object.values(n).length>0?e?.map(e=>n[e.name])??[]:[];t.length>0&&(o=e?.map((e,r)=>Array.isArray(t[r])?t[r].map((n,i)=>eo({param:e,value:t[r][i]})):void 0!==t[r]&&null!==t[r]?eo({param:e,value:t[r]}):null)??[])}return[s,...o]}function eo({param:e,value:t}){if("string"===e.type||"bytes"===e.type)return(0,m.S)((0,p.ZJ)(t));if("tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))throw new ee(e.type);return(0,er.h)([e],[t])}async function el(e,t){let{address:r,abi:n,args:i,eventName:a,fromBlock:s,strict:o,toBlock:c}=t,u=Q(e,{method:"eth_newFilter"}),f=a?es({abi:n,args:i,eventName:a}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:r,fromBlock:"bigint"==typeof s?(0,l.cK)(s):s,toBlock:"bigint"==typeof c?(0,l.cK)(c):c,topics:f}]});return{abi:n,args:i,eventName:a,id:d,request:u(d),strict:!!o,type:"event"}}async function ec(e,{address:t,args:r,event:n,events:i,fromBlock:a,strict:s,toBlock:o}={}){let c=i??(n?[n]:void 0),u=Q(e,{method:"eth_newFilter"}),f=[];c&&(f=[c.flatMap(e=>es({abi:[e],eventName:e.name,args:r}))],n&&(f=f[0]));let d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:"bigint"==typeof a?(0,l.cK)(a):a,toBlock:"bigint"==typeof o?(0,l.cK)(o):o,...f.length?{topics:f}:{}}]});return{abi:c,args:r,eventName:n?n.name:void 0,fromBlock:a,id:d,request:u(d),strict:!!s,toBlock:o,type:"event"}}async function eu(e){let t=Q(e,{method:"eth_newPendingTransactionFilter"}),r=await e.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:t(r),type:"transaction"}}var ef=r(4016),ed=r(73062);async function eh(e,t){let{abi:r,address:n,args:i,functionName:s,dataSuffix:o,...l}=t,c=(0,a.p)({abi:r,args:i,functionName:s});try{return await (0,v.T)(e,ed.Q,"estimateGas")({data:`${c}${o?o.replace("0x",""):""}`,to:n,...l})}catch(t){let e=l.account?(0,_.J)(l.account):void 0;throw(0,ef.j)(t,{abi:r,address:n,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:e?.address})}}var ep=r(10155),em=r(14124),ey=r(53548);async function eb(e){return BigInt(await e.request({method:"eth_blobBaseFee"}))}var eg=r(42073),ew=r(17626),ev=r(94747);async function ex(e,{blockHash:t,blockNumber:r,blockTag:n="latest"}={}){let i,a=void 0!==r?(0,l.cK)(r):void 0;return i=t?await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):await e.request({method:"eth_getBlockTransactionCountByNumber",params:[a||n]},{dedupe:!!a}),(0,ev.ME)(i)}var eE=r(69960),eB=r(74833),eP=r(53385),eA=r(41568),eI=r(45696),eC=r(37826);let eT="/docs/contract/decodeEventLog";function eN(e){let{abi:t,data:r,strict:n,topics:i}=e,a=n??!0,[s,...o]=i;if(!s)throw new X._z({docsPath:eT});let l=t.find(e=>"event"===e.type&&s===(0,et.h)((0,en.B)(e)));if(!(l&&"name"in l)||"event"!==l.type)throw new X.kE(s,{docsPath:eT});let{name:c,inputs:u}=l,f=u?.some(e=>!("name"in e&&e.name)),d=f?[]:{},h=u.map((e,t)=>[e,t]).filter(([e])=>"indexed"in e&&e.indexed);for(let e=0;e<h.length;e++){let[t,r]=h[e],n=o[e];if(!n)throw new X.l3({abiItem:l,param:t});d[f?r:t.name||r]=function({param:e,value:t}){return"string"===e.type||"bytes"===e.type||"tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/)?t:((0,eC.n)([e],t)||[])[0]}({param:t,value:n})}let p=u.filter(e=>!("indexed"in e&&e.indexed));if(p.length>0){if(r&&"0x"!==r)try{let e=(0,eC.n)(p,r);if(e)if(f)for(let t=0;t<u.length;t++)d[t]=d[t]??e.shift();else for(let t=0;t<p.length;t++)d[p[t].name]=e[t]}catch(e){if(a){if(e instanceof X.Iy||e instanceof eA.SK)throw new X.fo({abiItem:l,data:r,params:p,size:(0,eI.E)(r)});throw e}}else if(a)throw new X.fo({abiItem:l,data:"0x",params:p,size:0})}return{eventName:c,args:Object.values(d).length>0?d:void 0}}function eS(e){let{abi:t,args:r,logs:n,strict:i=!0}=e,a=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return n.map(e=>{try{let n=t.find(t=>"event"===t.type&&e.topics[0]===(0,et.h)(t));if(!n)return null;let s=eN({...e,abi:[n],strict:i});if(a&&!a.includes(s.eventName)||!function(e){let{args:t,inputs:r,matchArgs:n}=e;if(!n)return!0;if(!t)return!1;function i(e,t,r){try{if("address"===e.type)return(0,eP.h)(t,r);if("string"===e.type||"bytes"===e.type)return(0,m.S)((0,p.ZJ)(t))===r;return t===r}catch{return!1}}return Array.isArray(t)&&Array.isArray(n)?n.every((e,n)=>{if(null==e)return!0;let a=r[n];return!!a&&(Array.isArray(e)?e:[e]).some(e=>i(a,e,t[n]))}):!("object"!=typeof t||Array.isArray(t)||"object"!=typeof n||Array.isArray(n))&&Object.entries(n).every(([e,n])=>{if(null==n)return!0;let a=r.find(t=>t.name===e);return!!a&&(Array.isArray(n)?n:[n]).some(r=>i(a,r,t[e]))})}({args:s.args,inputs:n.inputs,matchArgs:r}))return null;return{...s,...e}}catch(n){let t,r;if(n instanceof X.kE)return null;if(n instanceof X.fo||n instanceof X.l3){if(i)return null;t=n.abiItem.name,r=n.abiItem.inputs?.some(e=>!("name"in e&&e.name))}return{...e,args:r?[]:{},eventName:t}}}).filter(Boolean)}var ek=r(40098);async function eR(e,{address:t,blockHash:r,fromBlock:n,toBlock:i,event:a,events:s,args:o,strict:c}={}){let u=s??(a?[a]:void 0),f=[];u&&(f=[u.flatMap(e=>es({abi:[e],eventName:e.name,args:s?void 0:o}))],a&&(f=f[0]));let d=(r?await e.request({method:"eth_getLogs",params:[{address:t,topics:f,blockHash:r}]}):await e.request({method:"eth_getLogs",params:[{address:t,topics:f,fromBlock:"bigint"==typeof n?(0,l.cK)(n):n,toBlock:"bigint"==typeof i?(0,l.cK)(i):i}]})).map(e=>(0,ek.e)(e));return u?eS({abi:u,args:o,logs:d,strict:c??!1}):d}async function eO(e,t){let{abi:r,address:n,args:i,blockHash:a,eventName:s,fromBlock:o,toBlock:l,strict:c}=t,u=s?(0,ei.iY)({abi:r,name:s}):void 0,f=u?void 0:r.filter(e=>"event"===e.type);return(0,v.T)(e,eR,"getLogs")({address:n,args:i,blockHash:a,event:u,events:f,fromBlock:o,toBlock:l,strict:c})}class eF extends c.C{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function eU(e,t){let{address:r,factory:n,factoryData:i}=t;try{let[t,a,s,o,l,c,u]=await (0,v.T)(e,x.J,"readContract")({abi:eq,address:r,functionName:"eip712Domain",factory:n,factoryData:i});return{domain:{name:a,version:s,chainId:Number(o),verifyingContract:l,salt:c},extensions:u,fields:t}}catch(e){if("ContractFunctionExecutionError"===e.name&&"ContractFunctionZeroDataError"===e.cause.name)throw new eF({address:r});throw e}}let eq=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];async function ez(e,{blockCount:t,blockNumber:r,blockTag:n="latest",rewardPercentiles:i}){var a;let s="bigint"==typeof r?(0,l.cK)(r):void 0;return{baseFeePerGas:(a=await e.request({method:"eth_feeHistory",params:[(0,l.cK)(t),s||n,i]},{dedupe:!!s})).baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:a.gasUsedRatio,oldestBlock:BigInt(a.oldestBlock),reward:a.reward?.map(e=>e.map(e=>BigInt(e)))}}async function e$(e,{filter:t}){let r="strict"in t&&t.strict,n=await t.request({method:"eth_getFilterChanges",params:[t.id]});if("string"==typeof n[0])return n;let i=n.map(e=>(0,ek.e)(e));return"abi"in t&&t.abi?eS({abi:t.abi,logs:i,strict:r}):i}async function eM(e,{filter:t}){let r=t.strict??!1,n=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(e=>(0,ek.e)(e));return t.abi?eS({abi:t.abi,logs:n,strict:r}):n}var eL=r(94310);async function eH(e,{address:t,blockNumber:r,blockTag:n,storageKeys:i}){let a=void 0!==r?(0,l.cK)(r):void 0;var s=await e.request({method:"eth_getProof",params:[t,i,a||(n??"latest")]});return{...s,balance:s.balance?BigInt(s.balance):void 0,nonce:s.nonce?(0,ev.ME)(s.nonce):void 0,storageProof:s.storageProof?s.storageProof.map(e=>({...e,value:BigInt(e.value)})):void 0}}async function eG(e,{address:t,blockNumber:r,blockTag:n="latest",slot:i}){let a=void 0!==r?(0,l.cK)(r):void 0;return await e.request({method:"eth_getStorageAt",params:[t,i,a||n]})}var ej=r(33828);async function eD(e,{hash:t,transactionReceipt:r}){let[n,i]=await Promise.all([(0,v.T)(e,ew.G,"getBlockNumber")({}),t?(0,v.T)(e,ej.x,"getTransaction")({hash:t}):void 0]),a=r?.blockNumber||i?.blockNumber;return a?n-a+1n:0n}var e_=r(80771),eW=r(50636),eK=r(42417),eV=r(91268),eZ=r(4174),eJ=r(31750),eQ=r(89529),eY=r(77309);async function eX(e,t){let{blockNumber:r,blockTag:n=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:o,traceTransfers:c,validation:f}=t;try{let t=[];for(let e of s){let r=e.blockOverrides?eV.J(e.blockOverrides):void 0,n=e.calls.map(e=>{let t=e.account?(0,_.J)(e.account):void 0,r=e.abi?(0,a.p)(e):e.data,n={...e,account:t,data:e.dataSuffix?(0,h.xW)([r||"0x",e.dataSuffix]):r,from:e.from??t?.address};return(0,Z.c)(n),(0,V.Bv)(n)}),i=e.stateOverrides?(0,eY.yH)(e.stateOverrides):void 0;t.push({blockOverrides:r,calls:n,stateOverrides:i})}let d="bigint"==typeof r?(0,l.cK)(r):void 0;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:t,returnFullTransactions:o,traceTransfers:c,validation:f},d||n]})).map((e,t)=>({...(0,eQ.$)(e),calls:e.calls.map((e,r)=>{let{abi:n,args:a,functionName:o,to:l}=s[t].calls[r],c=e.error?.data??e.returnData,f=BigInt(e.gasUsed),d=e.logs?.map(e=>(0,ek.e)(e)),h="0x1"===e.status?"success":"failure",p=n&&"success"===h&&"0x"!==c?(0,i.e)({abi:n,data:c,functionName:o}):null,m=(()=>{let t;if("success"!==h&&(e.error?.data==="0x"?t=new X.O:e.error&&(t=new u.$S(e.error)),t))return(0,ef.j)(t,{abi:n??[],address:l??"0x",args:a,functionName:o??"<unknown>"})})();return{data:c,gasUsed:f,logs:d,status:h,..."success"===h?{result:p}:{error:m}}})}))}catch(t){let e=(0,eJ.l)(t,{});if(e instanceof eZ.RM)throw t;throw e}}var e0=r(23519),e1=r(22904),e2=r(71069),e6=r(72380),e5=r(72422),e8=r(67925),e4=r(95042),e3=r(78375);function e7(e,t){if(ts(e)>t)throw new tu({givenSize:ts(e),maxSize:t})}function e9(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function te(e,t={}){let{dir:r="left"}=t,n=e,i=0;for(let e=0;e<n.length-1;e++)if("0"===n["left"===r?e:n.length-e-1].toString())i++;else break;return"left"===r?n.slice(i):n.slice(0,n.length-i)}var tt=r(66433),tr=r(26156);let tn=new TextDecoder,ti=new TextEncoder;function ta(e,t={}){let{size:r}=t,n=e;r&&(tt.Sl(e,r),n=e3.M7(e,r));let i=n.slice(2);i.length%2&&(i=`0${i}`);let a=i.length/2,s=new Uint8Array(a);for(let e=0,t=0;e<a;e++){let r=e9(i.charCodeAt(t++)),n=e9(i.charCodeAt(t++));if(void 0===r||void 0===n)throw new e8.C(`Invalid byte sequence ("${i[t-2]}${i[t-1]}" in "${i}").`);s[e]=16*r+n}return s}function ts(e){return e.length}function to(e,t={}){let{size:r}=t;void 0!==r&&e7(e,r);let n=e3.uK(e,t);return e3.Ro(n,t)}function tl(e){return te(e,{dir:"left"})}class tc extends e8.C{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}e8.C;class tu extends e8.C{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class tf extends e8.C{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SliceOffsetOutOfBoundsError"})}}class td extends e8.C{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}function th(e,t={}){var r;let{as:n="string"==typeof e?"Hex":"Bytes"}=t,i=(0,e4.lY)(e instanceof Uint8Array?e:"string"==typeof e?ta(e):(r=e)instanceof Uint8Array?r:new Uint8Array(r));return"Bytes"===n?i:e3.uK(i)}class tp extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}let tm={checksum:new tp(8192)}.checksum,ty=/^0x[a-fA-F0-9]{40}$/;function tb(e,t={}){let{strict:r=!0}=t;if(!ty.test(e))throw new tv({address:e,cause:new tx});if(r){if(e.toLowerCase()===e)return;if(tg(e)!==e)throw new tv({address:e,cause:new tE})}}function tg(e){if(tm.has(e))return tm.get(e);tb(e,{strict:!1});let t=e.substring(2).toLowerCase(),r=th(function(e,t={}){let{size:r}=t,n=ti.encode(e);return"number"==typeof r?(e7(n,r),function(e,t={}){let{dir:r,size:n=32}=t;if(0===n)return e;if(e.length>n)throw new td({size:e.length,targetSize:n,type:"Bytes"});let i=new Uint8Array(n);for(let t=0;t<n;t++){let a="right"===r;i[a?t:n-t-1]=e[a?t:e.length-t-1]}return i}(n,{dir:"right",size:r})):n}(t),{as:"Bytes"}),n=t.split("");for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&n[e]&&(n[e]=n[e].toUpperCase()),(15&r[e>>1])>=8&&n[e+1]&&(n[e+1]=n[e+1].toUpperCase());let i=`0x${n.join("")}`;return tm.set(e,i),i}function tw(e,t={}){let{strict:r=!0}=t??{};try{return tb(e,{strict:r}),!0}catch{return!1}}class tv extends e8.C{constructor({address:e,cause:t}){super(`Address "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class tx extends e8.C{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class tE extends e8.C{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function tB(e){let t=!0,r="",n=0,i="",a=!1;for(let s=0;s<e.length;s++){let o=e[s];if(["(",")",","].includes(o)&&(t=!0),"("===o&&n++,")"===o&&n--,t){if(0===n){if(" "===o&&["event","function","error",""].includes(i))i="";else if(i+=o,")"===o){a=!0;break}continue}if(" "===o){","!==e[s-1]&&","!==r&&",("!==r&&(r="",t=!1);continue}i+=o,r+=o}}if(!a)throw new e8.C("Unable to normalize signature.");return i}function tP(e,t={}){let{prepare:r=!0}=t,n=Array.isArray(e)||"string"==typeof e?function(e){let t;if("string"==typeof e)t=(0,e6.uT)(e);else{let r=(0,e2.e)(e),n=e.length;for(let i=0;i<n;i++){let n=e[i];if(!(0,e1.WL)(n)){t=(0,e6.uT)(n,r);break}}}if(!t)throw new e0.xo({signature:e});return t}(e):e;return{...n,...r?{hash:tC(n)}:{}}}function tA(e,t,r){let n,{args:i=[],prepare:a=!0}=r??{},s=e3.tf(t,{strict:!1}),o=e.filter(e=>s?"function"===e.type||"error"===e.type?tI(e)===e3.di(t,0,4):"event"===e.type&&tC(e)===t:"name"in e&&e.name===t);if(0===o.length)throw new tN({name:t});if(1===o.length)return{...o[0],...a?{hash:tC(o[0])}:{}};for(let e of o){if("inputs"in e){if(!i||0===i.length){if(!e.inputs||0===e.inputs.length)return{...e,...a?{hash:tC(e)}:{}};continue}if(e.inputs&&0!==e.inputs.length&&e.inputs.length===i.length&&i.every((t,r)=>{let n="inputs"in e&&e.inputs[r];return!!n&&function e(t,r){let n=typeof t,i=r.type;switch(i){case"address":return tw(t,{strict:!1});case"bool":return"boolean"===n;case"function":case"string":return"string"===n;default:if("tuple"===i&&"components"in r)return Object.values(r.components).every((r,n)=>e(Object.values(t)[n],r));if(/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(i))return"number"===n||"bigint"===n;if(/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(i))return"string"===n||t instanceof Uint8Array;if(/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(i))return Array.isArray(t)&&t.every(t=>e(t,{...r,type:i.replace(/(\[[0-9]{0,}\])$/,"")}));return!1}}(t,n)})){if(n&&"inputs"in n&&n.inputs){let t=function e(t,r,n){for(let i in t){let a=t[i],s=r[i];if("tuple"===a.type&&"tuple"===s.type&&"components"in a&&"components"in s)return e(a.components,s.components,n[i]);let o=[a.type,s.type];if(o.includes("address")&&o.includes("bytes20")||(o.includes("address")&&o.includes("string")||o.includes("address")&&o.includes("bytes"))&&tw(n[i],{strict:!1}))return o}}(e.inputs,n.inputs,i);if(t)throw new tT({abiItem:e,type:t[0]},{abiItem:n,type:t[1]})}n=e}}}let l=(()=>{if(n)return n;let[e,...t]=o;return{...e,overloads:t}})();if(!l)throw new tN({name:t});return{...l,...a?{hash:tC(l)}:{}}}function tI(...e){let t=(()=>{if(Array.isArray(e[0])){let[t,r]=e;return tA(t,r)}return e[0]})();return e3.di(tC(t),0,4)}function tC(...e){let t=(()=>{if(Array.isArray(e[0])){let[t,r]=e;return tA(t,r)}return e[0]})();return"string"!=typeof t&&"hash"in t&&t.hash?t.hash:th(e3.sH(function(...e){let t=(()=>{if(Array.isArray(e[0])){let[t,r]=e;return tA(t,r)}return e[0]})();return tB("string"==typeof t?t:e5.B(t))}(t)))}class tT extends e8.C{constructor(e,t){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${tB(e5.B(e.abiItem))}\`, and`,`\`${t.type}\` in \`${tB(e5.B(t.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class tN extends e8.C{constructor({name:e,data:t,type:r="item"}){super(`ABI ${r}${e?` with name "${e}"`:t?` with data "${t}"`:""} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}e8.C;var tS=r(14771),tk=r(29183);let tR=/^(.*)\[([0-9]*)\]$/,tO=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,tF=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,tU=2n**256n-1n;function tq(e){let t=0;for(let r=0;r<e.length;r++){let{dynamic:n,encoded:i}=e[r];n?t+=32:t+=e3.Ej(i)}let r=[],n=[],i=0;for(let a=0;a<e.length;a++){let{dynamic:s,encoded:o}=e[a];s?(r.push(e3.oB(t+i,{size:32})),n.push(o),i+=e3.Ej(o)):r.push(o)}return e3.xW(...r,...n)}function tz(e){let t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function t$(e){let{type:t}=e;if("string"===t||"bytes"===t||t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(t$);let r=tz(e.type);return!!(r&&t$({...e,type:r[1]}))}let tM={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:1/0,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new tG({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new tH({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new tL({offset:e});let t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new tL({offset:e});let t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){let r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){let t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){let t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){let t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();let r=this.inspectBytes(e);return this.position+=t??e,r},readUint8(){this.assertReadLimit(),this._touch();let e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();let e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();let e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();let e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){let t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===1/0)return;let e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};class tL extends e8.C{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class tH extends e8.C{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class tG extends e8.C{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function tj(e,t,r){let{checksumAddress:n=!1}=r??{};if(e.length!==t.length)throw new tJ({expectedLength:e.length,givenLength:t.length});let i=tq(function({checksumAddress:e,parameters:t,values:r}){let n=[];for(let i=0;i<t.length;i++)n.push(function e({checksumAddress:t=!1,parameter:r,value:n}){let i=tz(r.type);if(i){let[a,s]=i;return function(t,r){let{checksumAddress:n,length:i,parameter:a}=r,s=null===i;if(!Array.isArray(t))throw new tQ(t);if(!s&&t.length!==i)throw new tV({expectedLength:i,givenLength:t.length,type:`${a.type}[${i}]`});let o=!1,l=[];for(let r=0;r<t.length;r++){let i=e({checksumAddress:n,parameter:a,value:t[r]});i.dynamic&&(o=!0),l.push(i)}if(s||o){let e=tq(l);if(s){let t=e3.oB(l.length,{size:32});return{dynamic:!0,encoded:l.length>0?e3.xW(t,e):t}}if(o)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:e3.xW(...l.map(({encoded:e})=>e))}}(n,{checksumAddress:t,length:a,parameter:{...r,type:s}})}if("tuple"===r.type)return function(t,r){let{checksumAddress:n,parameter:i}=r,a=!1,s=[];for(let r=0;r<i.components.length;r++){let o=i.components[r],l=Array.isArray(t)?r:o.name,c=e({checksumAddress:n,parameter:o,value:t[l]});s.push(c),c.dynamic&&(a=!0)}return{dynamic:a,encoded:a?tq(s):e3.xW(...s.map(({encoded:e})=>e))}}(n,{checksumAddress:t,parameter:r});if("address"===r.type)return function(e,t){let{checksum:r=!1}=t;return tb(e,{strict:r}),{dynamic:!1,encoded:e3.Ho(e.toLowerCase())}}(n,{checksum:t});if("bool"===r.type){var a=n;if("boolean"!=typeof a)throw new e8.C(`Invalid boolean value: "${a}" (type: ${typeof a}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:e3.Ho(e3.xb(a))}}if(r.type.startsWith("uint")||r.type.startsWith("int")){let e=r.type.startsWith("int"),[,,t="256"]=tF.exec(r.type)??[];return function(e,{signed:t,size:r}){if("number"==typeof r){let n=2n**(BigInt(r)-(t?1n:0n))-1n,i=t?-n-1n:0n;if(e>n||e<i)throw new e3.Ty({max:n.toString(),min:i.toString(),signed:t,size:r/8,value:e.toString()})}return{dynamic:!1,encoded:e3.oB(e,{size:32,signed:t})}}(n,{signed:e,size:Number(t)})}if(r.type.startsWith("bytes"))return function(e,{type:t}){let[,r]=t.split("bytes"),n=e3.Ej(e);if(!r){let t=e;return n%32!=0&&(t=e3.M7(t,32*Math.ceil((e.length-2)/2/32))),{dynamic:!0,encoded:e3.xW(e3.Ho(e3.oB(n,{size:32})),t)}}if(n!==Number.parseInt(r,10))throw new tZ({expectedSize:Number.parseInt(r,10),value:e});return{dynamic:!1,encoded:e3.M7(e)}}(n,{type:r.type});if("string"===r.type){var s=n;let e=e3.sH(s),t=Math.ceil(e3.Ej(e)/32),r=[];for(let n=0;n<t;n++)r.push(e3.M7(e3.di(e,32*n,(n+1)*32)));return{dynamic:!0,encoded:e3.xW(e3.M7(e3.oB(e3.Ej(e),{size:32})),...r)}}throw new tY(r.type)}({checksumAddress:e,parameter:t[i],value:r[i]}));return n}({checksumAddress:n,parameters:e,values:t}));return 0===i.length?"0x":i}function tD(e,t){if(e.length!==t.length)throw new tJ({expectedLength:e.length,givenLength:t.length});let r=[];for(let n=0;n<e.length;n++){let i=e[n],a=t[n];r.push(tD.encode(i,a))}return e3.xW(...r)}function t_(e){return Array.isArray(e)&&"string"==typeof e[0]||"string"==typeof e?function(e){let t=[];if("string"==typeof e){let r=(0,e6.NV)(e),n=r.length;for(let e=0;e<n;e++)t.push((0,e6.Pj)(r[e],{modifiers:e1.Dv}))}else{let r=(0,e2.e)(e),n=e.length;for(let i=0;i<n;i++){let n=e[i];if((0,e1.WL)(n))continue;let a=(0,e6.NV)(n),s=a.length;for(let e=0;e<s;e++)t.push((0,e6.Pj)(a[e],{modifiers:e1.Dv,structs:r}))}}if(0===t.length)throw new tS.A9({params:e});return t}(e):e}(tD||(tD={})).encode=function e(t,r,n=!1){if("address"===t)return tb(r),e3.Ho(r.toLowerCase(),32*!!n);if("string"===t)return e3.sH(r);if("bytes"===t)return r;if("bool"===t)return e3.Ho(e3.xb(r),n?32:1);let i=t.match(tF);if(i){let[e,t,a="256"]=i,s=Number.parseInt(a,10)/8;return e3.oB(r,{size:n?32:s,signed:"int"===t})}let a=t.match(tO);if(a){let[e,t]=a;if(Number.parseInt(t,10)!==(r.length-2)/2)throw new tZ({expectedSize:Number.parseInt(t,10),value:r});return e3.M7(r,32*!!n)}let s=t.match(tR);if(s&&Array.isArray(r)){let[t,n]=s,i=[];for(let t=0;t<r.length;t++)i.push(e(n,r[t],!0));return 0===i.length?"0x":e3.xW(...i)}throw new tY(t)};class tW extends e8.C{constructor({data:e,parameters:t,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${tk.Q(t)})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class tK extends e8.C{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class tV extends e8.C{constructor({expectedLength:e,givenLength:t,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${t}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class tZ extends e8.C{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${e3.Ej(t)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class tJ extends e8.C{constructor({expectedLength:e,givenLength:t}){super(`ABI encoding parameters/values length mismatch.
Expected length (parameters): ${e}
Given length (values): ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class tQ extends e8.C{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class tY extends e8.C{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function tX(e,t={}){return tP(e,t)}function t0(e,t,r){let n=tA(e,t,r);if("function"!==n.type)throw new tN({name:t,type:"function"});return n}let t1="0x0000000000000000000000000000000000000000";var t2=r(32547);async function t6(e,t){let{blockNumber:r,blockTag:n,calls:i,stateOverrides:s,traceAssetChanges:o,traceTransfers:l,validation:u}=t,f=t.account?(0,_.J)(t.account):void 0;if(o&&!f)throw new c.C("`account` is required when `traceAssetChanges` is true");let d=f?function(...e){let[t,r]=(()=>{if(Array.isArray(e[0])){let[t,r]=e;return[function(e){let t=e.find(e=>"constructor"===e.type);if(!t)throw new tN({name:"constructor"});return t}(t),r]}return e})(),{bytecode:n,args:i}=r;return e3.xW(n,t.inputs?.length&&i?.length?tj(t.inputs,i):"0x")}(tP("constructor(bytes, bytes)"),{bytecode:t2.LX,args:["0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033",function(...e){let[t,r=[]]=(()=>{if(Array.isArray(e[0])){let[t,r,n]=e;return[t0(t,r,{args:n}),n]}let[t,r]=e;return[t,r]})(),{overloads:n}=t,i=n?t0([t,...n],t.name,{args:r}):t,a=tI(i),s=r.length>0?tj(i.inputs,r):void 0;return s?e3.xW(a,s):a}(tX("function getBalance(address)"),[f.address])]}):void 0,h=o?await Promise.all(t.calls.map(async t=>{if(!t.data&&!t.abi)return;let{accessList:r}=await J(e,{account:f.address,...t,data:t.abi?(0,a.p)(t):t.data});return r.map(({address:e,storageKeys:t})=>t.length>0?e:null)})).then(e=>e.flat().filter(Boolean)):[],p=await eX(e,{blockNumber:r,blockTag:n,blocks:[...o?[{calls:[{data:d}],stateOverrides:s},{calls:h.map((e,t)=>({abi:[tX("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[f.address],to:e,from:t1,nonce:t})),stateOverrides:[{address:t1,nonce:0}]}]:[],{calls:[...i,{}].map(e=>({...e,from:f?.address})),stateOverrides:s},...o?[{calls:[{data:d}]},{calls:h.map((e,t)=>({abi:[tX("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[f.address],to:e,from:t1,nonce:t})),stateOverrides:[{address:t1,nonce:0}]},{calls:h.map((e,t)=>({to:e,abi:[tX("function decimals() returns (uint256)")],functionName:"decimals",from:t1,nonce:t})),stateOverrides:[{address:t1,nonce:0}]},{calls:h.map((e,t)=>({to:e,abi:[tX("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:t1,nonce:t})),stateOverrides:[{address:t1,nonce:0}]},{calls:h.map((e,t)=>({to:e,abi:[tX("function symbol() returns (string)")],functionName:"symbol",from:t1,nonce:t})),stateOverrides:[{address:t1,nonce:0}]}]:[]],traceTransfers:l,validation:u}),m=o?p[2]:p[0],[y,b,,g,w,v,x,E]=o?p:[],{calls:B,...P}=m,A=B.slice(0,-1)??[],I=[...y?.calls??[],...b?.calls??[]].map(e=>"success"===e.status?(0,ev.uU)(e.data):null),C=[...g?.calls??[],...w?.calls??[]].map(e=>"success"===e.status?(0,ev.uU)(e.data):null),T=(v?.calls??[]).map(e=>"success"===e.status?e.result:null),N=(E?.calls??[]).map(e=>"success"===e.status?e.result:null),S=(x?.calls??[]).map(e=>"success"===e.status?e.result:null),k=[];for(let[e,t]of C.entries()){let r=I[e];if("bigint"!=typeof t||"bigint"!=typeof r)continue;let n=T[e-1],i=N[e-1],a=S[e-1],s=0===e?{address:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",decimals:18,symbol:"ETH"}:{address:h[e-1],decimals:a||n?Number(n??1):void 0,symbol:i??void 0};k.some(e=>e.token.address===s.address)||k.push({token:s,value:{pre:r,post:t,diff:t-r}})}return{assetChanges:k,block:P,results:A}}async function t5(e,t){let{abi:r,address:n,args:s,dataSuffix:o,functionName:l,...c}=t,u=c.account?(0,_.J)(c.account):e.account,f=(0,a.p)({abi:r,args:s,functionName:l});try{let{data:a}=await (0,v.T)(e,D.T,"call")({batch:!1,data:`${f}${o?o.replace("0x",""):""}`,to:n,...c,account:u}),d=(0,i.e)({abi:r,args:s,functionName:l,data:a||"0x"}),h=r.filter(e=>"name"in e&&e.name===t.functionName);return{result:d,request:{abi:h,address:n,args:s,dataSuffix:o,functionName:l,...c,account:u}}}catch(e){throw(0,ef.j)(e,{abi:r,address:n,args:s,docsPath:"/docs/contract/simulateContract",functionName:l,sender:u?.address})}}async function t8(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}let t4="0x6492649264926492649264926492649264926492649264926492649264926492";class t3 extends e8.C{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function t7(e,t={}){let{recovered:r}=t;if(void 0===e.r||void 0===e.s||r&&void 0===e.yParity)throw new rr({signature:e});if(e.r<0n||e.r>tU)throw new rn({value:e.r});if(e.s<0n||e.s>tU)throw new ri({value:e.s});if("number"==typeof e.yParity&&0!==e.yParity&&1!==e.yParity)throw new ra({value:e.yParity})}function t9(e){if(130!==e.length&&132!==e.length)throw new rt({signature:e});let t=BigInt(e3.di(e,0,32)),r=BigInt(e3.di(e,32,64)),n=(()=>{let t=Number(`0x${e.slice(130)}`);if(!Number.isNaN(t))try{return re(t)}catch{throw new ra({value:t})}})();return void 0===n?{r:t,s:r}:{r:t,s:r,yParity:n}}function re(e){if(0===e||27===e)return 0;if(1===e||28===e)return 1;if(e>=35)return+(e%2==0);throw new rs({value:e})}class rt extends e8.C{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${e3.Ej(e3.HT(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class rr extends e8.C{constructor({signature:e}){super(`Signature \`${tr.A(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class rn extends e8.C{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class ri extends e8.C{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class ra extends e8.C{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class rs extends e8.C{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}let ro=t_("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function rl(e){if("string"==typeof e){if("0x8010801080108010801080108010801080108010801080108010801080108010"!==e3.di(e,-32))throw new rc(e)}else t7(e.authorization)}class rc extends e8.C{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}}var ru=r(24642),rf=r(96685),rd=r(58275);async function rh({address:e,authorization:t,signature:r}){return(0,eP.h)((0,rf.b)(e),await (0,rd.g)({authorization:t,signature:r}))}var rp=r(90964),rm=r(58575);async function ry(e,t){let r,{address:n,hash:i,erc6492VerifierAddress:a=t.universalSignatureVerifierAddress??e.chain?.contracts?.erc6492Verifier?.address,multicallAddress:s=t.multicallAddress??e.chain?.contracts?.multicall3?.address}=t,o=(r=t.signature,(0,y.q)(r)?r:"object"==typeof r&&"r"in r&&"s"in r?function({r:e,s:t,to:r="hex",v:n,yParity:i}){let a=(()=>{if(0===i||1===i)return i;if(n&&(27n===n||28n===n||n>=35n))return+(n%2n===0n);throw Error("Invalid `v` or `yParity` value")})(),s=`0x${new rm.secp256k1.Signature((0,ev.uU)(e),(0,ev.uU)(t)).toCompactHex()}${0===a?"1b":"1c"}`;return"hex"===r?s:(0,p.aT)(s)}(r):(0,l.My)(r));try{if(function(e){try{return rl(e),!0}catch{return!1}}(o))return await rb(e,{...t,multicallAddress:s,signature:o});return await rg(e,{...t,verifierAddress:a,signature:o})}catch(e){try{if((0,eP.h)((0,rf.b)(n),await (0,rp.x)({hash:i,signature:o})))return!0}catch{}if(e instanceof rv)return!1;throw e}}async function rb(e,t){let{address:r,blockNumber:i,blockTag:s,hash:o,multicallAddress:c}=t,{authorization:u,data:f,signature:d,to:p}=function(e){rl(e);let t=e3.Ro(e3.di(e,-64,-32)),r=e3.di(e,-t-64,-64),n=e3.di(e,0,-t-64),[i,a,s]=function(e,t,r={}){let{as:n="Array",checksumAddress:i=!1}=r,a="string"==typeof t?ta(t):t,s=function(e,{recursiveReadLimit:t=8192}={}){let r=Object.create(tM);return r.bytes=e,r.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}(a);if(0===ts(a)&&e.length>0)throw new tK;if(ts(a)&&32>ts(a))throw new tW({data:"string"==typeof t?t:e3.uK(t),parameters:e,size:ts(a)});let o=0,l="Array"===n?[]:{};for(let t=0;t<e.length;++t){let r=e[t];s.setPosition(o);let[a,c]=function e(t,r,n){let{checksumAddress:i,staticPosition:a}=n,s=tz(r.type);if(s){let[n,o]=s;return function(t,r,n){let{checksumAddress:i,length:a,staticPosition:s}=n;if(!a){let n=s+to(t.readBytes(32)),a=n+32;t.setPosition(n);let o=to(t.readBytes(32)),l=t$(r),c=0,u=[];for(let n=0;n<o;++n){t.setPosition(a+(l?32*n:c));let[s,o]=e(t,r,{checksumAddress:i,staticPosition:a});c+=o,u.push(s)}return t.setPosition(s+32),[u,32]}if(t$(r)){let n=s+to(t.readBytes(32)),o=[];for(let s=0;s<a;++s){t.setPosition(n+32*s);let[a]=e(t,r,{checksumAddress:i,staticPosition:n});o.push(a)}return t.setPosition(s+32),[o,32]}let o=0,l=[];for(let n=0;n<a;++n){let[n,a]=e(t,r,{checksumAddress:i,staticPosition:s+o});o+=a,l.push(n)}return[l,o]}(t,{...r,type:o},{checksumAddress:i,length:n,staticPosition:a})}if("tuple"===r.type)return function(t,r,n){let{checksumAddress:i,staticPosition:a}=n,s=0===r.components.length||r.components.some(({name:e})=>!e),o=s?[]:{},l=0;if(t$(r)){let n=a+to(t.readBytes(32));for(let a=0;a<r.components.length;++a){let c=r.components[a];t.setPosition(n+l);let[u,f]=e(t,c,{checksumAddress:i,staticPosition:n});l+=f,o[s?a:c?.name]=u}return t.setPosition(a+32),[o,32]}for(let n=0;n<r.components.length;++n){let c=r.components[n],[u,f]=e(t,c,{checksumAddress:i,staticPosition:a});o[s?n:c?.name]=u,l+=f}return[o,l]}(t,r,{checksumAddress:i,staticPosition:a});if("address"===r.type)return function(e,t={}){let r,{checksum:n=!1}=t,i=e.readBytes(32);return[(r=e3.uK(function(e,t,r,n={}){let{strict:i}=n;!1;let a=e.slice(-20,void 0);return i&&function(e,t,r){if("number"==typeof r&&ts(e)!==r- -20)throw new tf({offset:r,position:"end",size:ts(e)})}(a,0,void 0),a}(i,0)),n?tg(r):r),32]}(t,{checksum:i});if("bool"===r.type)return[function(e,t={}){let{size:r}=t,n=e;if(void 0!==r&&(e7(n,r),n=tl(n)),n.length>1||n[0]>1)throw new tc(n);return!!n[0]}(t.readBytes(32),{size:32}),32];if(r.type.startsWith("bytes"))return function(e,t,{staticPosition:r}){let[n,i]=t.type.split("bytes");if(!i){let t=to(e.readBytes(32));e.setPosition(r+t);let n=to(e.readBytes(32));if(0===n)return e.setPosition(r+32),["0x",32];let i=e.readBytes(n);return e.setPosition(r+32),[e3.uK(i),32]}return[e3.uK(e.readBytes(Number.parseInt(i,10),32)),32]}(t,r,{staticPosition:a});if(r.type.startsWith("uint")||r.type.startsWith("int")){var o,l;let e,n,i;return o=t,e=(l=r).type.startsWith("int"),n=Number.parseInt(l.type.split("int")[1]||"256",10),i=o.readBytes(32),[n>48?function(e,t={}){let{size:r}=t;void 0!==r&&e7(e,r);let n=e3.uK(e,t);return e3.Dg(n,t)}(i,{signed:e}):to(i,{signed:e}),32]}if("string"===r.type)return function(e,{staticPosition:t}){let r=to(e.readBytes(32));e.setPosition(t+r);let n=to(e.readBytes(32));if(0===n)return e.setPosition(t+32),["",32];let i=function(e,t={}){let{size:r}=t,n=e;return void 0!==r&&(e7(n,r),n=te(n,{dir:"right"})),tn.decode(n)}(tl(e.readBytes(n,32)));return e.setPosition(t+32),[i,32]}(t,{staticPosition:a});throw new tY(r.type)}(s,r,{checksumAddress:i,staticPosition:0});o+=c,"Array"===n?l.push(a):l[r.name??t]=a}return l}(ro,r);return{authorization:function(e,t={}){return"string"==typeof e.chainId?function(e){let{address:t,chainId:r,nonce:n}=e,i=function(e){if(void 0!==e.r&&void 0!==e.s){var t;let r;return t=e,t7(r=(()=>{var e,r;let n;if("string"==typeof t)return t9(t);if(t instanceof Uint8Array)return t9(e3.uK(t));return"string"==typeof t.r?(e=t,n=(()=>{let t=e.v?Number(e.v):void 0,r=e.yParity?Number(e.yParity):void 0;if("number"==typeof t&&"number"!=typeof r&&(r=re(t)),"number"!=typeof r)throw new ra({value:e.yParity});return r})(),{r:BigInt(e.r),s:BigInt(e.s),yParity:n}):t.v?{r:(r=t).r,s:r.s,yParity:re(r.v)}:{r:t.r,s:t.s,...void 0!==t.yParity?{yParity:t.yParity}:{}}})()),r}}(e);return{address:t,chainId:Number(r),nonce:BigInt(n),...i}}(e):{...e,...t.signature}}({address:i.delegation,chainId:Number(i.chainId),nonce:i.nonce,yParity:i.yParity,r:i.r,s:i.s}),signature:n,...s&&"0x"!==s?{data:s,to:a}:{}}}(t.signature);if(await (0,eB.Q)(e,{address:r,blockNumber:i,blockTag:s})===(0,h.aP)(["0xef0100",u.address]))return await rw(e,{address:r,blockNumber:i,blockTag:s,hash:o,signature:d});let m={address:u.address,chainId:Number(u.chainId),nonce:Number(u.nonce),r:(0,l.cK)(u.r,{size:32}),s:(0,l.cK)(u.s,{size:32}),yParity:u.yParity};if(!await rh({address:r,authorization:m}))throw new rv;let y=await (0,v.T)(e,x.J,"readContract")({...c?{address:c}:{code:t2.Ez},authorizationList:[m],abi:n.v2,blockNumber:i,blockTag:"pending",functionName:"aggregate3",args:[[...f?[{allowFailure:!0,target:p??r,callData:f}]:[],{allowFailure:!0,target:r,callData:(0,a.p)({abi:n.UW,functionName:"isValidSignature",args:[o,d]})}]]}),b=y[y.length-1]?.returnData;if(b?.startsWith("0x1626ba7e"))return!0;throw new rv}async function rg(e,t){let{address:r,factory:i,factoryData:s,hash:o,signature:l,verifierAddress:c,...f}=t,d=await (async()=>!i&&!s||function(e){try{if(e3.di(e,-32)!==t4)throw new t3(e);return!0}catch{return!1}}(l)?l:function(e){let{data:t,signature:r,to:n}=e;return e3.xW(tj(t_("address, bytes, bytes"),[n,t,r]),t4)}({data:s,signature:l,to:i}))(),h=c?{to:c,data:(0,a.p)({abi:n.E5,functionName:"isValidSig",args:[r,o,d]}),...f}:{data:(0,ru.m)({abi:n.E5,args:[r,o,d],bytecode:t2.fT}),...f},{data:p}=await (0,v.T)(e,D.T,"call")(h).catch(e=>{if(e instanceof u.zX)throw new rv;throw e});if((0,ev.Nx)(p??"0x0"))return!0;throw new rv}async function rw(e,t){let{address:r,blockNumber:i,blockTag:a,hash:s,signature:o}=t;if((await (0,v.T)(e,x.J,"readContract")({address:r,abi:n.UW,args:[s,o],blockNumber:i,blockTag:a,functionName:"isValidSignature"}).catch(e=>{if(e instanceof u.bG)throw new rv;throw e})).startsWith("0x1626ba7e"))return!0;throw new rv}class rv extends Error{}var rx=r(12706);async function rE(e,{address:t,message:r,factory:n,factoryData:i,signature:a,...s}){return ry(e,{address:t,factory:n,factoryData:i,hash:(0,rx.A)(r),signature:a,...s})}var rB=r(83893);async function rP(e,t){let{address:r,factory:n,factoryData:i,signature:a,message:s,primaryType:o,types:l,domain:c,...u}=t;return ry(e,{address:r,factory:n,factoryData:i,hash:(0,rB.Zh)({message:s,primaryType:o,types:l,domain:c}),signature:a,...u})}var rA=r(1864),rI=r(57513),rC=r(28992),rT=r(43609),rN=r(91497),rS=r(65261);let rk=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,rR=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;var rO=r(80339);async function rF(e,t){let{address:r,domain:n,message:i,nonce:a,scheme:s,signature:o,time:l=new Date,...c}=t,u=function(e){let{scheme:t,statement:r,...n}=e.match(rk)?.groups??{},{chainId:i,expirationTime:a,issuedAt:s,notBefore:o,requestId:l,...c}=e.match(rR)?.groups??{},u=e.split("Resources:")[1]?.split("\n- ").slice(1);return{...n,...c,...i?{chainId:Number(i)}:{},...a?{expirationTime:new Date(a)}:{},...s?{issuedAt:new Date(s)}:{},...o?{notBefore:new Date(o)}:{},...l?{requestId:l}:{},...u?{resources:u}:{},...t?{scheme:t}:{},...r?{statement:r}:{}}}(i);if(!u.address||!function(e){let{address:t,domain:r,message:n,nonce:i,scheme:a,time:s=new Date}=e;if(r&&n.domain!==r||i&&n.nonce!==i||a&&n.scheme!==a||n.expirationTime&&s>=n.expirationTime||n.notBefore&&s<n.notBefore)return!1;try{if(!n.address||!(0,rO.P)(n.address,{strict:!1})||t&&!(0,eP.h)(n.address,t))return!1}catch{return!1}return!0}({address:r,domain:n,message:u,nonce:a,scheme:s,time:l}))return!1;let f=(0,rx.A)(i);return ry(e,{address:u.address,hash:f,signature:o,...c})}var rU=r(15674),rq=r(45312),rz=r(96023);function r$(e){return{call:t=>(0,D.T)(e,t),createAccessList:t=>J(e,t),createBlockFilter:()=>Y(e),createContractEventFilter:t=>el(e,t),createEventFilter:t=>ec(e,t),createPendingTransactionFilter:()=>eu(e),estimateContractGas:t=>eh(e,t),estimateGas:t=>(0,ed.Q)(e,t),getBalance:t=>(0,ey.r)(e,t),getBlobBaseFee:()=>eb(e),getBlock:t=>(0,eg.g)(e,t),getBlockNumber:t=>(0,ew.G)(e,t),getBlockTransactionCount:t=>ex(e,t),getBytecode:t=>(0,eB.Q)(e,t),getChainId:()=>(0,eE.T)(e),getCode:t=>(0,eB.Q)(e,t),getContractEvents:t=>eO(e,t),getEip712Domain:t=>eU(e,t),getEnsAddress:t=>E(e,t),getEnsAvatar:t=>H(e,t),getEnsName:t=>G(e,t),getEnsResolver:t=>j(e,t),getEnsText:t=>L(e,t),getFeeHistory:t=>ez(e,t),estimateFeesPerGas:t=>(0,ep._)(e,t),getFilterChanges:t=>e$(e,t),getFilterLogs:t=>eM(e,t),getGasPrice:()=>(0,eL.L)(e),getLogs:t=>eR(e,t),getProof:t=>eH(e,t),estimateMaxPriorityFeePerGas:t=>(0,em.b)(e,t),getStorageAt:t=>eG(e,t),getTransaction:t=>(0,ej.x)(e,t),getTransactionConfirmations:t=>eD(e,t),getTransactionCount:t=>(0,e_.y)(e,t),getTransactionReceipt:t=>(0,eW.h)(e,t),multicall:t=>(0,eK.C)(e,t),prepareTransactionRequest:t=>(0,rU.ft)(e,t),readContract:t=>(0,x.J)(e,t),sendRawTransaction:t=>(0,rq.L)(e,t),sendRawTransactionSync:t=>(0,rz.s)(e,t),simulate:t=>eX(e,t),simulateBlocks:t=>eX(e,t),simulateCalls:t=>t6(e,t),simulateContract:t=>t5(e,t),verifyHash:t=>ry(e,t),verifyMessage:t=>rE(e,t),verifySiweMessage:t=>rF(e,t),verifyTypedData:t=>rP(e,t),uninstallFilter:t=>t8(e,t),waitForTransactionReceipt:t=>(0,rA.n)(e,t),watchBlocks:t=>(function(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:r=!1,emitOnBegin:n=!1,onBlock:i,onError:a,includeTransactions:s,poll:o,pollingInterval:l=e.pollingInterval}){let c,u,f,d,h,p=void 0!==o?o:"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type),m=s??!1;return p?(u=(0,rN.A)(["watchBlocks",e.uid,t,r,n,m,l]),(0,rC.lB)(u,{onBlock:i,onError:a},i=>(0,rT.w)(async()=>{try{let n=await (0,v.T)(e,eg.g,"getBlock")({blockTag:t,includeTransactions:m});if(null!==n.number&&c?.number!=null){if(n.number===c.number)return;if(n.number-c.number>1&&r)for(let t=c?.number+1n;t<n.number;t++){let r=await (0,v.T)(e,eg.g,"getBlock")({blockNumber:t,includeTransactions:m});i.onBlock(r,c),c=r}}(c?.number==null||"pending"===t&&n?.number==null||null!==n.number&&n.number>c.number)&&(i.onBlock(n,c),c=n)}catch(e){i.onError?.(e)}},{emitOnBegin:n,interval:l}))):(f=!0,d=!0,h=()=>f=!1,(async()=>{try{n&&(0,v.T)(e,eg.g,"getBlock")({blockTag:t,includeTransactions:m}).then(e=>{!f||d&&(i(e,void 0),d=!1)}).catch(a);let r=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),{unsubscribe:s}=await r.subscribe({params:["newHeads"],async onData(t){if(!f)return;let r=await (0,v.T)(e,eg.g,"getBlock")({blockNumber:t.result?.number,includeTransactions:m}).catch(()=>{});f&&(i(r,c),d=!1,c=r)},onError(e){a?.(e)}});h=s,f||h()}catch(e){a?.(e)}})(),()=>h())})(e,t),watchBlockNumber:t=>(0,rI.q)(e,t),watchContractEvent:t=>(function(e,t){let r,n,i,a,s,{abi:o,address:l,args:c,batch:u=!0,eventName:f,fromBlock:d,onError:h,onLogs:p,poll:m,pollingInterval:y=e.pollingInterval,strict:b}=t;return(void 0!==m?m:"bigint"==typeof d||"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type))?(r=b??!1,n=(0,rN.A)(["watchContractEvent",l,c,u,e.uid,f,y,r,d]),(0,rC.lB)(n,{onLogs:p,onError:h},t=>{let n,i;void 0!==d&&(n=d-1n);let a=!1,s=(0,rT.w)(async()=>{if(!a){try{i=await (0,v.T)(e,el,"createContractEventFilter")({abi:o,address:l,args:c,eventName:f,strict:r,fromBlock:d})}catch{}a=!0;return}try{let a;if(i)a=await (0,v.T)(e,e$,"getFilterChanges")({filter:i});else{let t=await (0,v.T)(e,ew.G,"getBlockNumber")({});a=n&&n<t?await (0,v.T)(e,eO,"getContractEvents")({abi:o,address:l,args:c,eventName:f,fromBlock:n+1n,toBlock:t,strict:r}):[],n=t}if(0===a.length)return;if(u)t.onLogs(a);else for(let e of a)t.onLogs([e])}catch(e){i&&e instanceof rS.Di&&(a=!1),t.onError?.(e)}},{emitOnBegin:!0,interval:y});return async()=>{i&&await (0,v.T)(e,t8,"uninstallFilter")({filter:i}),s()}})):(i=(0,rN.A)(["watchContractEvent",l,c,u,e.uid,f,y,b??!1]),a=!0,s=()=>a=!1,(0,rC.lB)(i,{onLogs:p,onError:h},t=>((async()=>{try{let r=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),n=f?es({abi:o,eventName:f,args:c}):[],{unsubscribe:i}=await r.subscribe({params:["logs",{address:l,topics:n}],onData(e){if(!a)return;let r=e.result;try{let{eventName:e,args:n}=eN({abi:o,data:r.data,topics:r.topics,strict:b}),i=(0,ek.e)(r,{args:n,eventName:e});t.onLogs([i])}catch(a){let e,n;if(a instanceof X.fo||a instanceof X.l3){if(b)return;e=a.abiItem.name,n=a.abiItem.inputs?.some(e=>!("name"in e&&e.name))}let i=(0,ek.e)(r,{args:n?[]:{},eventName:e});t.onLogs([i])}},onError(e){t.onError?.(e)}});s=i,a||s()}catch(e){h?.(e)}})(),()=>s())))})(e,t),watchEvent:t=>(function(e,{address:t,args:r,batch:n=!0,event:i,events:a,fromBlock:s,onError:o,onLogs:l,poll:c,pollingInterval:u=e.pollingInterval,strict:f}){let d,h,p,m=void 0!==c?c:"bigint"==typeof s||"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type),y=f??!1;return m?(d=(0,rN.A)(["watchEvent",t,r,n,e.uid,i,u,s]),(0,rC.lB)(d,{onLogs:l,onError:o},o=>{let l,c;void 0!==s&&(l=s-1n);let f=!1,d=(0,rT.w)(async()=>{if(!f){try{c=await (0,v.T)(e,ec,"createEventFilter")({address:t,args:r,event:i,events:a,strict:y,fromBlock:s})}catch{}f=!0;return}try{let s;if(c)s=await (0,v.T)(e,e$,"getFilterChanges")({filter:c});else{let n=await (0,v.T)(e,ew.G,"getBlockNumber")({});s=l&&l!==n?await (0,v.T)(e,eR,"getLogs")({address:t,args:r,event:i,events:a,fromBlock:l+1n,toBlock:n}):[],l=n}if(0===s.length)return;if(n)o.onLogs(s);else for(let e of s)o.onLogs([e])}catch(e){c&&e instanceof rS.Di&&(f=!1),o.onError?.(e)}},{emitOnBegin:!0,interval:u});return async()=>{c&&await (0,v.T)(e,t8,"uninstallFilter")({filter:c}),d()}})):(h=!0,p=()=>h=!1,(async()=>{try{let n=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),s=a??(i?[i]:void 0),c=[];s&&(c=[s.flatMap(e=>es({abi:[e],eventName:e.name,args:r}))],i&&(c=c[0]));let{unsubscribe:u}=await n.subscribe({params:["logs",{address:t,topics:c}],onData(e){if(!h)return;let t=e.result;try{let{eventName:e,args:r}=eN({abi:s??[],data:t.data,topics:t.topics,strict:y}),n=(0,ek.e)(t,{args:r,eventName:e});l([n])}catch(i){let e,r;if(i instanceof X.fo||i instanceof X.l3){if(f)return;e=i.abiItem.name,r=i.abiItem.inputs?.some(e=>!("name"in e&&e.name))}let n=(0,ek.e)(t,{args:r?[]:{},eventName:e});l([n])}},onError(e){o?.(e)}});p=u,h||p()}catch(e){o?.(e)}})(),()=>p())})(e,t),watchPendingTransactions:t=>(function(e,{batch:t=!0,onError:r,onTransactions:n,poll:i,pollingInterval:a=e.pollingInterval}){let s,o,l;return(void 0!==i?i:"webSocket"!==e.transport.type&&"ipc"!==e.transport.type)?(s=(0,rN.A)(["watchPendingTransactions",e.uid,t,a]),(0,rC.lB)(s,{onTransactions:n,onError:r},r=>{let n,i=(0,rT.w)(async()=>{try{if(!n)try{n=await (0,v.T)(e,eu,"createPendingTransactionFilter")({});return}catch(e){throw i(),e}let a=await (0,v.T)(e,e$,"getFilterChanges")({filter:n});if(0===a.length)return;if(t)r.onTransactions(a);else for(let e of a)r.onTransactions([e])}catch(e){r.onError?.(e)}},{emitOnBegin:!0,interval:a});return async()=>{n&&await (0,v.T)(e,t8,"uninstallFilter")({filter:n}),i()}})):(o=!0,l=()=>o=!1,(async()=>{try{let{unsubscribe:t}=await e.transport.subscribe({params:["newPendingTransactions"],onData(e){if(!o)return;let t=e.result;n([t])},onError(e){r?.(e)}});l=t,o||l()}catch(e){r?.(e)}})(),()=>l())})(e,t)}}},1864:(e,t,r)=>{r.d(t,{n:()=>p});var n=r(9471),i=r(96002),a=r(49586),s=r(28992),o=r(45437),l=r(7528),c=r(91497),u=r(42073),f=r(33828),d=r(50636),h=r(57513);async function p(e,t){let r,p,m,y,b,{checkReplacement:g=!0,confirmations:w=1,hash:v,onReplaced:x,retryCount:E=6,retryDelay:B=({count:e})=>200*~~(1<<e),timeout:P=18e4}=t,A=(0,c.A)(["waitForTransactionReceipt",e.uid,v]),I=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval,C=!1,{promise:T,resolve:N,reject:S}=(0,o.Y)(),k=P?setTimeout(()=>{b?.(),y?.(),S(new i.WA({hash:v}))},P):void 0;return y=(0,s.lB)(A,{onReplaced:x,resolve:N,reject:S},async t=>{if((m=await (0,a.T)(e,d.h,"getTransactionReceipt")({hash:v}).catch(()=>void 0))&&w<=1){clearTimeout(k),t.resolve(m),y?.();return}b=(0,a.T)(e,h.q,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:I,async onBlockNumber(s){let o=e=>{clearTimeout(k),b?.(),e(),y?.()},c=s;if(!C)try{if(m){if(w>1&&(!m.blockNumber||c-m.blockNumber+1n<w))return;o(()=>t.resolve(m));return}if(g&&!r&&(C=!0,await (0,l.b)(async()=>{(r=await (0,a.T)(e,f.x,"getTransaction")({hash:v})).blockNumber&&(c=r.blockNumber)},{delay:B,retryCount:E}),C=!1),m=await (0,a.T)(e,d.h,"getTransactionReceipt")({hash:v}),w>1&&(!m.blockNumber||c-m.blockNumber+1n<w))return;o(()=>t.resolve(m))}catch(s){if(s instanceof i.Kz||s instanceof i.Kc){if(!r){C=!1;return}try{p=r,C=!0;let i=await (0,l.b)(()=>(0,a.T)(e,u.g,"getBlock")({blockNumber:c,includeTransactions:!0}),{delay:B,retryCount:E,shouldRetry:({error:e})=>e instanceof n.l});C=!1;let s=i.transactions.find(({from:e,nonce:t})=>e===p.from&&t===p.nonce);if(!s||(m=await (0,a.T)(e,d.h,"getTransactionReceipt")({hash:s.hash}),w>1&&(!m.blockNumber||c-m.blockNumber+1n<w)))return;let f="replaced";s.to===p.to&&s.value===p.value&&s.input===p.input?f="repriced":s.from===s.to&&0n===s.value&&(f="cancelled"),o(()=>{t.onReplaced?.({reason:f,replacedTransaction:p,transaction:s,transactionReceipt:m}),t.resolve(m)})}catch(e){o(()=>t.reject(e))}}else o(()=>t.reject(s))}}})}),T}},6593:(e,t,r)=>{r.d(t,{T:()=>i,Z:()=>a});var n=r(66568);class i extends n.C{constructor({docsPath:e}={}){super("Could not find an Account to execute with this Action.\nPlease provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client.",{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class a extends n.C{constructor({docsPath:e,metaMessages:t,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:t,name:"AccountTypeNotSupportedError"})}}},9471:(e,t,r)=>{r.d(t,{l:()=>i});var n=r(66568);class i extends n.C{constructor({blockHash:e,blockNumber:t}){let r="Block";e&&(r=`Block at hash "${e}"`),t&&(r=`Block at number "${t}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}},10155:(e,t,r)=>{r.d(t,{O:()=>c,_:()=>l});var n=r(50474),i=r(49586),a=r(14124),s=r(42073),o=r(94310);async function l(e,t){return c(e,t)}async function c(e,t){let{block:r,chain:l=e.chain,request:c,type:u="eip1559"}=t||{},f=await (async()=>"function"==typeof l?.fees?.baseFeeMultiplier?l.fees.baseFeeMultiplier({block:r,client:e,request:c}):l?.fees?.baseFeeMultiplier??1.2)();if(f<1)throw new n.sM;let d=f.toString().split(".")[1]?.length??0,h=10**d,p=e=>e*BigInt(Math.ceil(f*h))/BigInt(h),m=r||await (0,i.T)(e,s.g,"getBlock")({});if("function"==typeof l?.fees?.estimateFeesPerGas){let t=await l.fees.estimateFeesPerGas({block:r,client:e,multiply:p,request:c,type:u});if(null!==t)return t}if("eip1559"===u){if("bigint"!=typeof m.baseFeePerGas)throw new n.pw;let t="bigint"==typeof c?.maxPriorityFeePerGas?c.maxPriorityFeePerGas:await (0,a.N)(e,{block:m,chain:l,request:c}),r=p(m.baseFeePerGas);return{maxFeePerGas:c?.maxFeePerGas??r+t,maxPriorityFeePerGas:t}}return{gasPrice:c?.gasPrice??p(await (0,i.T)(e,o.L,"getGasPrice")({}))}}},10765:(e,t,r)=>{r.d(t,{Id:()=>v,My:()=>d,OG:()=>A,Ph:()=>m,Q5:()=>N,aK:()=>B,aT:()=>p,aY:()=>a,dJ:()=>P,e8:()=>o,fg:()=>C,lX:()=>y,lq:()=>b,qj:()=>w,r4:()=>E,x:()=>S,z:()=>g,zW:()=>l});let n=BigInt(0),i=BigInt(1);function a(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function s(e){if(!a(e))throw Error("Uint8Array expected")}function o(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}function l(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function c(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?n:BigInt("0x"+e)}let u="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,f=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function d(e){if(s(e),u)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=f[e[r]];return t}function h(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function p(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(u)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=h(e.charCodeAt(i)),a=h(e.charCodeAt(i+1));if(void 0===r||void 0===a)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+a}return n}function m(e){return c(d(e))}function y(e){return s(e),c(d(Uint8Array.from(e).reverse()))}function b(e,t){return p(e.toString(16).padStart(2*t,"0"))}function g(e,t){return b(e,t).reverse()}function w(e,t,r){let n;if("string"==typeof t)try{n=p(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(a(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}function v(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];s(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}let x=e=>"bigint"==typeof e&&n<=e;function E(e,t,r){return x(e)&&x(t)&&x(r)&&t<=e&&e<r}function B(e,t,r,n){if(!E(t,r,n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function P(e){let t;for(t=0;e>n;e>>=i,t+=1);return t}let A=e=>(i<<BigInt(e))-i,I=e=>new Uint8Array(e);function C(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=I(e),i=I(e),a=0,s=()=>{n.fill(1),i.fill(0),a=0},o=(...e)=>r(i,n,...e),l=(e=I(0))=>{let t;if(i=o((t=[0],Uint8Array.from(t)),e),n=o(),0!==e.length){let t;i=o((t=[1],Uint8Array.from(t)),e),n=o()}},c=()=>{if(a++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=o()).slice();r.push(t),e+=n.length}return v(...r)};return(e,t)=>{let r;for(s(),l(e);!(r=t(c()));)l();return s(),r}}let T={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||a(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function N(e,t,r={}){let n=(t,r,n)=>{let i=T[r];if("function"!=typeof i)throw Error("invalid validator function");let a=e[t];if((!n||void 0!==a)&&!i(a,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+a)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}function S(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let a=e(r,...n);return t.set(r,a),a}}},12706:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(18860),i=r(76429),a=r(45696),s=r(84428);function o(e,t){let r,o;return(0,n.S)((r="string"==typeof e?(0,s.i3)(e):"string"==typeof e.raw?e.raw:(0,s.My)(e.raw),o=(0,s.i3)(`\x19Ethereum Signed Message:
${(0,a.E)(r)}`),(0,i.xW)([o,r])),t)}},14124:(e,t,r)=>{r.d(t,{N:()=>c,b:()=>l});var n=r(50474),i=r(94747),a=r(49586),s=r(42073),o=r(94310);async function l(e,t){return c(e,t)}async function c(e,t){let{block:r,chain:l=e.chain,request:c}=t||{};try{let t=l?.fees?.maxPriorityFeePerGas??l?.fees?.defaultPriorityFee;if("function"==typeof t){let n=r||await (0,a.T)(e,s.g,"getBlock")({}),i=await t({block:n,client:e,request:c});if(null===i)throw Error();return i}if(void 0!==t)return t;let n=await e.request({method:"eth_maxPriorityFeePerGas"});return(0,i.uU)(n)}catch{let[t,i]=await Promise.all([r?Promise.resolve(r):(0,a.T)(e,s.g,"getBlock")({}),(0,a.T)(e,o.L,"getGasPrice")({})]);if("bigint"!=typeof t.baseFeePerGas)throw new n.pw;let l=i-t.baseFeePerGas;if(l<0n)return 0n;return l}}},15674:(e,t,r)=>{r.d(t,{MM:()=>P,ft:()=>I});var n=r(51011),i=r(10155),a=r(73062),s=r(42073),o=r(80771),l=r(50474),c=r(22106),u=r(84428);function f(e){let{kzg:t}=e,r=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),n="string"==typeof e.blobs[0]?e.blobs.map(e=>(0,c.aT)(e)):e.blobs,i=[];for(let e of n)i.push(Uint8Array.from(t.blobToKzgCommitment(e)));return"bytes"===r?i:i.map(e=>(0,u.My)(e))}function d(e){let{kzg:t}=e,r=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),n="string"==typeof e.blobs[0]?e.blobs.map(e=>(0,c.aT)(e)):e.blobs,i="string"==typeof e.commitments[0]?e.commitments.map(e=>(0,c.aT)(e)):e.commitments,a=[];for(let e=0;e<n.length;e++){let r=n[e],s=i[e];a.push(Uint8Array.from(t.computeBlobKzgProof(r,s)))}return"bytes"===r?a:a.map(e=>(0,u.My)(e))}let h=r(53906).sc;var p=r(89762),m=r(66568);class y extends m.C{constructor({maxSize:e,size:t}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${t} bytes`],name:"BlobSizeTooLargeError"})}}class b extends m.C{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}m.C,m.C;var g=r(14870),w=r(45696),v=r(49586),x=r(95420),E=r(96002),B=r(69960);let P=["blobVersionedHashes","chainId","fees","gas","nonce","type"],A=new Map;async function I(e,t){let r,m,{account:I=e.account,blobs:C,chain:T,gas:N,kzg:S,nonce:k,nonceManager:R,parameters:O=P,type:F}=t,U=I?(0,n.J)(I):I,q={...t,...U?{from:U?.address}:{}};async function z(){return r||(r=await (0,v.T)(e,s.g,"getBlock")({blockTag:"latest"}))}async function $(){return m||(T?T.id:void 0!==t.chainId?t.chainId:m=await (0,v.T)(e,B.T,"getChainId")({}))}if(O.includes("nonce")&&void 0===k&&U)if(R){let t=await $();q.nonce=await R.consume({address:U.address,chainId:t,client:e})}else q.nonce=await (0,v.T)(e,o.y,"getTransactionCount")({address:U.address,blockTag:"pending"});if((O.includes("blobVersionedHashes")||O.includes("sidecars"))&&C&&S){let e=f({blobs:C,kzg:S});if(O.includes("blobVersionedHashes")&&(q.blobVersionedHashes=function(e){let{commitments:t,version:r}=e,n=e.to??("string"==typeof t[0]?"hex":"bytes"),i=[];for(let e of t)i.push(function(e){let{commitment:t,version:r=1}=e,n=e.to??("string"==typeof t?"hex":"bytes"),i=h((0,p.q)(t,{strict:!1})?(0,c.ZJ)(t):t);return i.set([r],0),"bytes"===n?i:(0,u.My)(i)}({commitment:e,to:n,version:r}));return i}({commitments:e,to:"hex"})),O.includes("sidecars")){let t=d({blobs:C,commitments:e,kzg:S});q.sidecars=function(e){let{data:t,kzg:r,to:n}=e,i=e.blobs??function(e){let t=e.to??("string"==typeof e.data?"hex":"bytes"),r="string"==typeof e.data?(0,c.aT)(e.data):e.data,n=(0,w.E)(r);if(!n)throw new b;if(n>761855)throw new y({maxSize:761855,size:n});let i=[],a=!0,s=0;for(;a;){let e=(0,g.l)(new Uint8Array(131072)),t=0;for(;t<4096;){let n=r.slice(s,s+31);if(e.pushByte(0),e.pushBytes(n),n.length<31){e.pushByte(128),a=!1;break}t++,s+=31}i.push(e)}return"bytes"===t?i.map(e=>e.bytes):i.map(e=>(0,u.My)(e.bytes))}({data:t,to:n}),a=e.commitments??f({blobs:i,kzg:r,to:n}),s=e.proofs??d({blobs:i,commitments:a,kzg:r,to:n}),o=[];for(let e=0;e<i.length;e++)o.push({blob:i[e],commitment:a[e],proof:s[e]});return o}({blobs:C,commitments:e,proofs:t,to:"hex"})}}if(O.includes("chainId")&&(q.chainId=await $()),(O.includes("fees")||O.includes("type"))&&void 0===F)try{q.type=function(e){if(e.type)return e.type;if(void 0!==e.authorizationList)return"eip7702";if(void 0!==e.blobs||void 0!==e.blobVersionedHashes||void 0!==e.maxFeePerBlobGas||void 0!==e.sidecars)return"eip4844";if(void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas)return"eip1559";if(void 0!==e.gasPrice)return void 0!==e.accessList?"eip2930":"legacy";throw new E.Vg({transaction:e})}(q)}catch{let t=A.get(e.uid);if(void 0===t){let r=await z();t="bigint"==typeof r?.baseFeePerGas,A.set(e.uid,t)}q.type=t?"eip1559":"legacy"}if(O.includes("fees"))if("legacy"!==q.type&&"eip2930"!==q.type){if(void 0===q.maxFeePerGas||void 0===q.maxPriorityFeePerGas){let r=await z(),{maxFeePerGas:n,maxPriorityFeePerGas:a}=await (0,i.O)(e,{block:r,chain:T,request:q});if(void 0===t.maxPriorityFeePerGas&&t.maxFeePerGas&&t.maxFeePerGas<a)throw new l.RR({maxPriorityFeePerGas:a});q.maxPriorityFeePerGas=a,q.maxFeePerGas=n}}else{if(void 0!==t.maxFeePerGas||void 0!==t.maxPriorityFeePerGas)throw new l.pw;if(void 0===t.gasPrice){let t=await z(),{gasPrice:r}=await (0,i.O)(e,{block:t,chain:T,request:q,type:"legacy"});q.gasPrice=r}}return O.includes("gas")&&void 0===N&&(q.gas=await (0,v.T)(e,a.Q,"estimateGas")({...q,account:U,prepare:U?.type==="local"?[]:["blobVersionedHashes"]})),(0,x.c)(q),delete q.parameters,q}},17626:(e,t,r)=>{r.d(t,{G:()=>s});let n=new Map,i=new Map;async function a(e,{cacheKey:t,cacheTime:r=1/0}){let a,s,o,l=(s=(a=(e,t)=>({clear:()=>t.delete(e),get:()=>t.get(e),set:r=>t.set(e,r)}))(t,n),{clear:()=>{s.clear(),o.clear()},promise:s,response:o=a(t,i)}),c=l.response.get();if(c&&r>0&&Date.now()-c.created.getTime()<r)return c.data;let u=l.promise.get();u||(u=e(),l.promise.set(u));try{let e=await u;return l.response.set({created:new Date,data:e}),e}finally{l.promise.clear()}}async function s(e,{cacheTime:t=e.cacheTime}={}){let r;return BigInt(await a(()=>e.request({method:"eth_blockNumber"}),{cacheKey:(r=e.uid,`blockNumber.${r}`),cacheTime:t}))}},17785:(e,t,r)=>{r.d(t,{c:()=>d});var n=r(66568);class i extends n.C{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}var a=r(49586),s=r(28992),o=r(43609),l=r(45437),c=r(7528),u=r(91497),f=r(90731);async function d(e,t){let r,{id:n,pollingInterval:d=e.pollingInterval,status:p=({statusCode:e})=>200===e||e>=300,retryCount:m=4,retryDelay:y=({count:e})=>200*~~(1<<e),timeout:b=6e4,throwOnFailure:g=!1}=t,w=(0,u.A)(["waitForCallsStatus",e.uid,n]),{promise:v,resolve:x,reject:E}=(0,l.Y)(),B=(0,s.lB)(w,{resolve:x,reject:E},t=>{let s=(0,o.w)(async()=>{let o=e=>{clearTimeout(r),s(),e(),B()};try{let r=await (0,c.b)(async()=>{let t=await (0,a.T)(e,f.k,"getCallsStatus")({id:n});if(g&&"failure"===t.status)throw new i(t);return t},{retryCount:m,delay:y});if(!p(r))return;o(()=>t.resolve(r))}catch(e){o(()=>t.reject(e))}},{interval:d,emitOnBegin:!0});return s});return r=b?setTimeout(()=>{B(),clearTimeout(r),E(new h({id:n}))},b):void 0,await v}class h extends n.C{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}},18893:(e,t,r)=>{r.d(t,{J:()=>l});var n=r(80044),i=r(81693),a=r(56213),s=r(37826),o=r(24029);function l(e){let{abi:t,data:r}=e,l=(0,i.di)(r,0,4),c=t.find(e=>"function"===e.type&&l===(0,a.V)((0,o.B)(e)));if(!c)throw new n.EB(l,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:c.name,args:"inputs"in c&&c.inputs&&c.inputs.length>0?(0,s.n)(c.inputs,(0,i.di)(r,4)):void 0}}},23642:(e,t,r)=>{r.d(t,{s:()=>I});var n=r(3013);class i extends n.Vw{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,n.sd)(e);const r=(0,n.ZJ)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,a=new Uint8Array(i);a.set(r.length>i?e.create().update(r).digest():r);for(let e=0;e<a.length;e++)a[e]^=54;this.iHash.update(a),this.oHash=e.create();for(let e=0;e<a.length;e++)a[e]^=106;this.oHash.update(a),(0,n.uH)(a)}update(e){return(0,n.CC)(this),this.iHash.update(e),this}digestInto(e){(0,n.CC)(this),(0,n.DO)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:a,outputLen:s}=this;return e.finished=n,e.destroyed=i,e.blockLen=a,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let a=(e,t,r)=>new i(e,t).update(r).digest();a.create=(e,t)=>new i(e,t);var s=r(53014),o=r(10765);let l=BigInt(0),c=BigInt(1);function u(e,t){let r=t.negate();return e?r:t}function f(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function d(e,t){f(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e;return{windows:r,windowSize:n,mask:(0,o.OG)(e),maxNumber:i,shiftBy:BigInt(e)}}function h(e,t,r){let{windowSize:n,mask:i,maxNumber:a,shiftBy:s}=r,o=Number(e&i),l=e>>s;o>n&&(o-=a,l+=c);let u=t*n,f=u+Math.abs(o)-1,d=0===o;return{nextN:l,offset:f,isZero:d,isNeg:o<0,isNegF:t%2!=0,offsetF:u}}let p=new WeakMap,m=new WeakMap;function y(e){return m.get(e)||1}function b(e){return(0,s.jr)(e.Fp),(0,o.Q5)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,s.LH)(e.n,e.nBitLength),...e,...{p:e.Fp.ORDER}})}function g(e){void 0!==e.lowS&&(0,o.e8)("lowS",e.lowS),void 0!==e.prehash&&(0,o.e8)("prehash",e.prehash)}class w extends Error{constructor(e=""){super(e)}}let v={Err:w,_tlv:{encode:(e,t)=>{let{Err:r}=v;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,i=(0,o.zW)(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let a=n>127?(0,o.zW)(i.length/2|128):"";return(0,o.zW)(e)+a+i+t},decode(e,t){let{Err:r}=v,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let i=t[n++],a=0;if(128&i){let e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let s=t.subarray(n,n+e);if(s.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===s[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of s)a=a<<8|e;if(n+=e,a<128)throw new r("tlv.decode(long): not minimal encoding")}else a=i;let s=t.subarray(n,n+a);if(s.length!==a)throw new r("tlv.decode: wrong value length");return{v:s,l:t.subarray(n+a)}}},_int:{encode(e){let{Err:t}=v;if(e<E)throw new t("integer: negative integers are not allowed");let r=(0,o.zW)(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=v;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return(0,o.Ph)(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=v,i=(0,o.qj)("signature",e),{v:a,l:s}=n.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");let{v:l,l:c}=n.decode(2,a),{v:u,l:f}=n.decode(2,c);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(l),s:r.decode(u)}},hexFromSig(e){let{_tlv:t,_int:r}=v,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s));return t.encode(48,n+i)}};function x(e,t){return(0,o.My)((0,o.lq)(e,t))}let E=BigInt(0),B=BigInt(1),P=(BigInt(2),BigInt(3)),A=BigInt(4);function I(e,t){let r=t=>(function(e){let t,r=(t=b(e),(0,o.Q5)(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})),{Fp:n,n:i,nByteLength:a,nBitLength:w}=r,I=n.BYTES+1,C=2*n.BYTES+1;function T(e){return(0,s.zi)(e,i)}function N(e){return(0,s.B8)(e,i)}let{ProjectivePoint:S,normPrivateKeyToScalar:k,weierstrassEquation:R,isWithinCurveOrder:O}=function(e){var t;let r=function(e){let t=b(e);(0,o.Q5)(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw Error("invalid endo: CURVE.a must be 0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}(e),{Fp:n}=r,i=(0,s.D0)(r.n,r.nBitLength),a=r.toBytes||((e,t,r)=>{let i=t.toAffine();return(0,o.Id)(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),g=r.fromBytes||(e=>{let t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function w(e){let{a:t,b:i}=r,a=n.sqr(e),s=n.mul(a,e);return n.add(n.add(s,n.mul(e,t)),i)}function v(e,t){let r=n.sqr(t),i=w(e);return n.eql(r,i)}if(!v(r.Gx,r.Gy))throw Error("bad curve params: generator point");let x=n.mul(n.pow(r.a,P),A),I=n.mul(n.sqr(r.b),BigInt(27));if(n.is0(n.add(x,I)))throw Error("bad curve params: a or b");function C(e){let t,{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:a,n:l}=r;if(n&&"bigint"!=typeof e){if((0,o.aY)(e)&&(e=(0,o.My)(e)),"string"!=typeof e||!n.includes(e.length))throw Error("invalid private key");e=e.padStart(2*i,"0")}try{t="bigint"==typeof e?e:(0,o.Ph)((0,o.qj)("private key",e,i))}catch(t){throw Error("invalid private key, expected hex or "+i+" bytes, got "+typeof e)}return a&&(t=(0,s.zi)(t,l)),(0,o.aK)("private key",t,B,l),t}function T(e){if(!(e instanceof k))throw Error("ProjectivePoint expected")}let N=(0,o.x)((e,t)=>{let{px:r,py:i,pz:a}=e;if(n.eql(a,n.ONE))return{x:r,y:i};let s=e.is0();null==t&&(t=s?n.ONE:n.inv(a));let o=n.mul(r,t),l=n.mul(i,t),c=n.mul(a,t);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw Error("invZ was invalid");return{x:o,y:l}}),S=(0,o.x)(e=>{if(e.is0()){if(r.allowInfinityPoint&&!n.is0(e.py))return;throw Error("bad point: ZERO")}let{x:t,y:i}=e.toAffine();if(!n.isValid(t)||!n.isValid(i))throw Error("bad point: x or y not FE");if(!v(t,i))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});class k{constructor(e,t,r){if(null==e||!n.isValid(e))throw Error("x required");if(null==t||!n.isValid(t)||n.is0(t))throw Error("y required");if(null==r||!n.isValid(r))throw Error("z required");this.px=e,this.py=t,this.pz=r,Object.freeze(this)}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw Error("invalid affine point");if(e instanceof k)throw Error("projective point not allowed");let i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?k.ZERO:new k(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=(0,s.pS)(n,e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(k.fromAffine)}static fromHex(e){let t=k.fromAffine(g((0,o.qj)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return k.BASE.multiply(C(e))}static msm(e,t){return function(e,t,r,n){if(!Array.isArray(r))throw Error("array expected");r.forEach((t,r)=>{if(!(t instanceof e))throw Error("invalid point at index "+r)});if(!Array.isArray(n))throw Error("array of scalars expected");n.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)});let i=r.length,a=n.length;if(i!==a)throw Error("arrays of points and scalars must have equal length");let s=e.ZERO,l=(0,o.dJ)(BigInt(i)),c=1;l>12?c=l-3:l>4?c=l-2:l>0&&(c=2);let u=(0,o.OG)(c),f=Array(Number(u)+1).fill(s),d=Math.floor((t.BITS-1)/c)*c,h=s;for(let e=d;e>=0;e-=c){f.fill(s);for(let t=0;t<a;t++){let i=Number(n[t]>>BigInt(e)&u);f[i]=f[i].add(r[t])}let t=s;for(let e=f.length-1,r=s;e>0;e--)r=r.add(f[e]),t=t.add(r);if(h=h.add(t),0!==e)for(let e=0;e<c;e++)h=h.double()}return h}(k,i,e,t)}_setWindowSize(e){F.setWindowSize(this,e)}assertValidity(){S(this)}hasEvenY(){let{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){T(e);let{px:t,py:r,pz:i}=this,{px:a,py:s,pz:o}=e,l=n.eql(n.mul(t,o),n.mul(a,i)),c=n.eql(n.mul(r,o),n.mul(s,i));return l&&c}negate(){return new k(this.px,n.neg(this.py),this.pz)}double(){let{a:e,b:t}=r,i=n.mul(t,P),{px:a,py:s,pz:o}=this,l=n.ZERO,c=n.ZERO,u=n.ZERO,f=n.mul(a,a),d=n.mul(s,s),h=n.mul(o,o),p=n.mul(a,s);return p=n.add(p,p),u=n.mul(a,o),u=n.add(u,u),l=n.mul(e,u),c=n.mul(i,h),c=n.add(l,c),l=n.sub(d,c),c=n.add(d,c),c=n.mul(l,c),l=n.mul(p,l),u=n.mul(i,u),h=n.mul(e,h),p=n.sub(f,h),p=n.mul(e,p),p=n.add(p,u),u=n.add(f,f),f=n.add(u,f),f=n.add(f,h),f=n.mul(f,p),c=n.add(c,f),h=n.mul(s,o),h=n.add(h,h),f=n.mul(h,p),l=n.sub(l,f),u=n.mul(h,d),u=n.add(u,u),new k(l,c,u=n.add(u,u))}add(e){T(e);let{px:t,py:i,pz:a}=this,{px:s,py:o,pz:l}=e,c=n.ZERO,u=n.ZERO,f=n.ZERO,d=r.a,h=n.mul(r.b,P),p=n.mul(t,s),m=n.mul(i,o),y=n.mul(a,l),b=n.add(t,i),g=n.add(s,o);b=n.mul(b,g),g=n.add(p,m),b=n.sub(b,g),g=n.add(t,a);let w=n.add(s,l);return g=n.mul(g,w),w=n.add(p,y),g=n.sub(g,w),w=n.add(i,a),c=n.add(o,l),w=n.mul(w,c),c=n.add(m,y),w=n.sub(w,c),f=n.mul(d,g),c=n.mul(h,y),f=n.add(c,f),c=n.sub(m,f),f=n.add(m,f),u=n.mul(c,f),m=n.add(p,p),m=n.add(m,p),y=n.mul(d,y),g=n.mul(h,g),m=n.add(m,y),y=n.sub(p,y),y=n.mul(d,y),g=n.add(g,y),p=n.mul(m,g),u=n.add(u,p),p=n.mul(w,g),c=n.mul(b,c),c=n.sub(c,p),p=n.mul(b,m),f=n.mul(w,f),new k(c,u,f=n.add(f,p))}subtract(e){return this.add(e.negate())}is0(){return this.equals(k.ZERO)}wNAF(e){return F.wNAFCached(this,e,k.normalizeZ)}multiplyUnsafe(e){let{endo:t,n:i}=r;(0,o.aK)("scalar",e,E,i);let a=k.ZERO;if(e===E)return a;if(this.is0()||e===B)return this;if(!t||F.hasPrecomputes(this))return F.wNAFCachedUnsafe(this,e,k.normalizeZ);let{k1neg:s,k1:l,k2neg:c,k2:u}=t.splitScalar(e),f=a,d=a,h=this;for(;l>E||u>E;)l&B&&(f=f.add(h)),u&B&&(d=d.add(h)),h=h.double(),l>>=B,u>>=B;return s&&(f=f.negate()),c&&(d=d.negate()),d=new k(n.mul(d.px,t.beta),d.py,d.pz),f.add(d)}multiply(e){let t,i,{endo:a,n:s}=r;if((0,o.aK)("scalar",e,B,s),a){let{k1neg:r,k1:s,k2neg:o,k2:l}=a.splitScalar(e),{p:c,f:u}=this.wNAF(s),{p:f,f:d}=this.wNAF(l);c=F.constTimeNegate(r,c),f=F.constTimeNegate(o,f),f=new k(n.mul(f.px,a.beta),f.py,f.pz),t=c.add(f),i=u.add(d)}else{let{p:r,f:n}=this.wNAF(e);t=r,i=n}return k.normalizeZ([t,i])[0]}multiplyAndAddUnsafe(e,t,r){let n=k.BASE,i=(e,t)=>t!==E&&t!==B&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),a=i(this,t).add(i(e,r));return a.is0()?void 0:a}toAffine(e){return N(this,e)}isTorsionFree(){let{h:e,isTorsionFree:t}=r;if(e===B)return!0;if(t)return t(k,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:t}=r;return e===B?this:t?t(k,this):this.multiplyUnsafe(r.h)}toRawBytes(e=!0){return(0,o.e8)("isCompressed",e),this.assertValidity(),a(k,this,e)}toHex(e=!0){return(0,o.e8)("isCompressed",e),(0,o.My)(this.toRawBytes(e))}}k.BASE=new k(r.Gx,r.Gy,n.ONE),k.ZERO=new k(n.ZERO,n.ONE,n.ZERO);let{endo:R,nBitLength:O}=r,F=(t=R?Math.ceil(O/2):O,{constTimeNegate:u,hasPrecomputes:e=>1!==y(e),unsafeLadder(e,t,r=k.ZERO){let n=e;for(;t>l;)t&c&&(r=r.add(n)),n=n.double(),t>>=c;return r},precomputeWindow(e,r){let{windows:n,windowSize:i}=d(r,t),a=[],s=e,o=s;for(let e=0;e<n;e++){o=s,a.push(o);for(let e=1;e<i;e++)o=o.add(s),a.push(o);s=o.double()}return a},wNAF(e,r,n){let i=k.ZERO,a=k.BASE,s=d(e,t);for(let e=0;e<s.windows;e++){let{nextN:t,offset:o,isZero:l,isNeg:c,isNegF:f,offsetF:d}=h(n,e,s);n=t,l?a=a.add(u(f,r[d])):i=i.add(u(c,r[o]))}return{p:i,f:a}},wNAFUnsafe(e,r,n,i=k.ZERO){let a=d(e,t);for(let e=0;e<a.windows&&n!==l;e++){let{nextN:t,offset:s,isZero:o,isNeg:l}=h(n,e,a);if(n=t,!o){let e=r[s];i=i.add(l?e.negate():e)}}return i},getPrecomputes(e,t,r){let n=p.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&p.set(t,r(n))),n},wNAFCached(e,t,r){let n=y(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=y(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){f(r,t),m.set(e,r),p.delete(e)}});return{CURVE:r,ProjectivePoint:k,normPrivateKeyToScalar:C,weierstrassEquation:w,isWithinCurveOrder:function(e){return(0,o.r4)(e,B,r.n)}}}({...r,toBytes(e,t,r){let i=t.toAffine(),a=n.toBytes(i.x),s=o.Id;return((0,o.e8)("isCompressed",r),r)?s(Uint8Array.from([t.hasEvenY()?2:3]),a):s(Uint8Array.from([4]),a,n.toBytes(i.y))},fromBytes(e){let t=e.length,r=e[0],i=e.subarray(1);if(t===I&&(2===r||3===r)){let e,t=(0,o.Ph)(i);if(!(0,o.r4)(t,B,n.ORDER))throw Error("Point is not on curve");let a=R(t);try{e=n.sqrt(a)}catch(e){throw Error("Point is not on curve"+(e instanceof Error?": "+e.message:""))}return(1&r)==1!=((e&B)===B)&&(e=n.neg(e)),{x:t,y:e}}if(t===C&&4===r)return{x:n.fromBytes(i.subarray(0,n.BYTES)),y:n.fromBytes(i.subarray(n.BYTES,2*n.BYTES))};throw Error("invalid Point, expected length of "+I+", or uncompressed "+C+", got "+t)}}),F=(e,t,r)=>(0,o.Ph)(e.slice(t,r));class U{constructor(e,t,r){(0,o.aK)("r",e,B,i),(0,o.aK)("s",t,B,i),this.r=e,this.s=t,null!=r&&(this.recovery=r),Object.freeze(this)}static fromCompact(e){return new U(F(e=(0,o.qj)("compactSignature",e,2*a),0,a),F(e,a,2*a))}static fromDER(e){let{r:t,s:r}=v.toSig((0,o.qj)("DER",e));return new U(t,r)}assertValidity(){}addRecoveryBit(e){return new U(this.r,this.s,e)}recoverPublicKey(e){let{r:t,s:i,recovery:a}=this,s=$((0,o.qj)("msgHash",e));if(null==a||![0,1,2,3].includes(a))throw Error("recovery id invalid");let l=2===a||3===a?t+r.n:t;if(l>=n.ORDER)throw Error("recovery id 2 or 3 invalid");let c=(1&a)==0?"02":"03",u=S.fromHex(c+x(l,n.BYTES)),f=N(l),d=T(-s*f),h=T(i*f),p=S.BASE.multiplyAndAddUnsafe(u,d,h);if(!p)throw Error("point at infinify");return p.assertValidity(),p}hasHighS(){return this.s>i>>B}normalizeS(){return this.hasHighS()?new U(this.r,T(-this.s),this.recovery):this}toDERRawBytes(){return(0,o.aT)(this.toDERHex())}toDERHex(){return v.hexFromSig(this)}toCompactRawBytes(){return(0,o.aT)(this.toCompactHex())}toCompactHex(){return x(this.r,a)+x(this.s,a)}}function q(e){if("bigint"==typeof e)return!1;if(e instanceof S)return!0;let t=(0,o.qj)("key",e).length,i=n.BYTES,s=i+1;if(!r.allowedPrivateKeyLengths&&a!==s)return t===s||t===2*i+1}let z=r.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let t=(0,o.Ph)(e),r=8*e.length-w;return r>0?t>>BigInt(r):t},$=r.bits2int_modN||function(e){return T(z(e))},M=(0,o.OG)(w);function L(e){return(0,o.aK)("num < 2^"+w,e,E,M),(0,o.lq)(e,a)}let H={lowS:r.lowS,prehash:!1},G={lowS:r.lowS,prehash:!1};return S.BASE._setWindowSize(8),{CURVE:r,getPublicKey:function(e,t=!0){return S.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(!0===q(e))throw Error("first arg must be private key");if(!1===q(t))throw Error("second arg must be public key");return S.fromHex(t).multiply(k(e)).toRawBytes(r)},sign:function(e,t,a=H){let{seed:s,k2sig:l}=function(e,t,a=H){if(["recovered","canonical"].some(e=>e in a))throw Error("sign() legacy options not supported");let{hash:s,randomBytes:l}=r,{lowS:c,prehash:u,extraEntropy:f}=a;null==c&&(c=!0),e=(0,o.qj)("msgHash",e),g(a),u&&(e=(0,o.qj)("prehashed msgHash",s(e)));let d=$(e),h=k(t),p=[L(h),L(d)];if(null!=f&&!1!==f){let e=!0===f?l(n.BYTES):f;p.push((0,o.qj)("extraEntropy",e))}return{seed:(0,o.Id)(...p),k2sig:function(e){var t;let r=z(e);if(!O(r))return;let n=N(r),a=S.BASE.multiply(r).toAffine(),s=T(a.x);if(s===E)return;let o=T(n*T(d+s*h));if(o===E)return;let l=2*(a.x!==s)|Number(a.y&B),u=o;return c&&o>i>>B&&(u=(t=o)>i>>B?T(-t):t,l^=1),new U(s,u,l)}}}(e,t,a);return(0,o.fg)(r.hash.outputLen,r.nByteLength,r.hmac)(s,l)},verify:function(e,t,n,i=G){let a,s;t=(0,o.qj)("msgHash",t),n=(0,o.qj)("publicKey",n);let{lowS:l,prehash:c,format:u}=i;if(g(i),"strict"in i)throw Error("options.strict was renamed to lowS");if(void 0!==u&&"compact"!==u&&"der"!==u)throw Error("format must be compact or der");let f="string"==typeof e||(0,o.aY)(e),d=!f&&!u&&"object"==typeof e&&null!==e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!f&&!d)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(d&&(s=new U(e.r,e.s)),f){try{"compact"!==u&&(s=U.fromDER(e))}catch(e){if(!(e instanceof v.Err))throw e}s||"der"===u||(s=U.fromCompact(e))}a=S.fromHex(n)}catch(e){return!1}if(!s||l&&s.hasHighS())return!1;c&&(t=r.hash(t));let{r:h,s:p}=s,m=$(t),y=N(p),b=T(m*y),w=T(h*y),x=S.BASE.multiplyAndAddUnsafe(a,b,w)?.toAffine();return!!x&&T(x.x)===h},ProjectivePoint:S,Signature:U,utils:{isValidPrivateKey(e){try{return k(e),!0}catch(e){return!1}},normPrivateKeyToScalar:k,randomPrivateKey:()=>{let e=(0,s.Tp)(r.n);return(0,s.qy)(r.randomBytes(e),r.n)},precompute:(e=8,t=S.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}})({...e,...{hash:t,hmac:(e,...r)=>a(t,e,(0,n.Id)(...r)),randomBytes:n.po}});return{...r(t),create:r}}},27426:(e,t,r)=>{r.d(t,{v:()=>g});var n=r(51011),i=r(6593),a=r(66568),s=r(58275),o=r(81278),l=r(70969),c=r(89649),u=r(58637),f=r(49586),d=r(86301),h=r(95420),p=r(69960),m=r(15674),y=r(45312);let b=new d.A(128);async function g(e,t){let{account:r=e.account,chain:d=e.chain,accessList:g,authorizationList:w,blobs:v,data:x,gas:E,gasPrice:B,maxFeePerBlobGas:P,maxFeePerGas:A,maxPriorityFeePerGas:I,nonce:C,type:T,value:N,...S}=t;if(void 0===r)throw new i.T({docsPath:"/docs/actions/wallet/sendTransaction"});let k=r?(0,n.J)(r):null;try{(0,h.c)(t);let r=await (async()=>t.to?t.to:null!==t.to&&w&&w.length>0?await (0,s.g)({authorization:w[0]}).catch(()=>{throw new a.C("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if(k?.type==="json-rpc"||null===k){let t;null!==d&&(t=await (0,f.T)(e,p.T,"getChainId")({}),(0,o.v)({currentChainId:t,chain:d}));let n=e.chain?.formatters?.transactionRequest?.format,i=(n||u.Bv)({...(0,c.o)(S,{format:n}),accessList:g,account:k,authorizationList:w,blobs:v,chainId:t,data:x,gas:E,gasPrice:B,maxFeePerBlobGas:P,maxFeePerGas:A,maxPriorityFeePerGas:I,nonce:C,to:r,type:T,value:N},"sendTransaction"),a=b.get(e.uid);try{return await e.request({method:a?"wallet_sendTransaction":"eth_sendTransaction",params:[i]},{retryCount:0})}catch(t){if(!1===a)throw t;if("InvalidInputRpcError"===t.name||"InvalidParamsRpcError"===t.name||"MethodNotFoundRpcError"===t.name||"MethodNotSupportedRpcError"===t.name)return await e.request({method:"wallet_sendTransaction",params:[i]},{retryCount:0}).then(t=>(b.set(e.uid,!0),t)).catch(r=>{if("MethodNotFoundRpcError"===r.name||"MethodNotSupportedRpcError"===r.name)throw b.set(e.uid,!1),t;throw r});throw t}}if(k?.type==="local"){let t=await (0,f.T)(e,m.ft,"prepareTransactionRequest")({account:k,accessList:g,authorizationList:w,blobs:v,chain:d,data:x,gas:E,gasPrice:B,maxFeePerBlobGas:P,maxFeePerGas:A,maxPriorityFeePerGas:I,nonce:C,nonceManager:k.nonceManager,parameters:[...m.MM,"sidecars"],type:T,value:N,...S,to:r}),n=d?.serializers?.transaction,i=await k.signTransaction(t,{serializer:n});return await (0,f.T)(e,y.L,"sendRawTransaction")({serializedTransaction:i})}if(k?.type==="smart")throw new i.Z({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new i.Z({docsPath:"/docs/actions/wallet/sendTransaction",type:k?.type})}catch(e){if(e instanceof i.Z)throw e;throw(0,l.p)(e,{...t,account:k,chain:t.chain||void 0})}}},28992:(e,t,r)=>{r.d(t,{lB:()=>s});let n=new Map,i=new Map,a=0;function s(e,t,r){let s=++a,o=()=>n.get(e)||[],l=()=>{let t,r=o();if(!r.some(e=>e.id===s))return;let a=i.get(e);if(1===r.length&&a){let e=a();e instanceof Promise&&e.catch(()=>{})}t=o(),n.set(e,t.filter(e=>e.id!==s))},c=o();if(n.set(e,[...c,{id:s,fns:t}]),c&&c.length>0)return l;let u={};for(let e in t)u[e]=(...t)=>{let r=o();if(0!==r.length)for(let n of r)n.fns[e]?.(...t)};let f=r(u);return"function"==typeof f&&i.set(e,f),l}},33828:(e,t,r)=>{r.d(t,{x:()=>s});var n=r(96002),i=r(84428),a=r(43748);async function s(e,{blockHash:t,blockNumber:r,blockTag:s,hash:o,index:l}){let c=s||"latest",u=void 0!==r?(0,i.cK)(r):void 0,f=null;if(o?f=await e.request({method:"eth_getTransactionByHash",params:[o]},{dedupe:!0}):t?f=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,(0,i.cK)(l)]},{dedupe:!0}):(u||c)&&(f=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||c,(0,i.cK)(l)]},{dedupe:!!u})),!f)throw new n.Kz({blockHash:t,blockNumber:r,blockTag:c,hash:o,index:l});return(e.chain?.formatters?.transaction?.format||a.uP)(f,"getTransaction")}},35895:(e,t,r)=>{r.d(t,{H4:()=>y,v8:()=>p,$$:()=>m});var n=r(80044),i=r(71386),a=r(91497),s=r(66568);class o extends s.C{constructor({domain:e}){super(`Invalid domain "${(0,a.A)(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class l extends s.C{constructor({primaryType:e,types:t}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(t))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class c extends s.C{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}var u=r(80339),f=r(45696),d=r(84428),h=r(99015);function p(e){let{domain:t,message:r,primaryType:n,types:i}=e,s=(e,t)=>{let r={...t};for(let t of e){let{name:e,type:n}=t;"address"===n&&(r[e]=r[e].toLowerCase())}return r},o=i.EIP712Domain&&t?s(i.EIP712Domain,t):{},l=(()=>{if("EIP712Domain"!==n)return s(i[n],r)})();return(0,a.A)({domain:o,message:l,primaryType:n,types:i})}function m(e){let{domain:t,message:r,primaryType:a,types:s}=e,p=(e,t)=>{for(let r of e){let{name:e,type:a}=r,o=t[e],l=a.match(h.Ge);if(l&&("number"==typeof o||"bigint"==typeof o)){let[e,t,r]=l;(0,d.cK)(o,{signed:"int"===t,size:Number.parseInt(r,10)/8})}if("address"===a&&"string"==typeof o&&!(0,u.P)(o))throw new i.M({address:o});let m=a.match(h.BD);if(m){let[e,t]=m;if(t&&(0,f.E)(o)!==Number.parseInt(t,10))throw new n.BI({expectedSize:Number.parseInt(t,10),givenSize:(0,f.E)(o)})}let y=s[a];y&&(function(e){if("address"===e||"bool"===e||"string"===e||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new c({type:e})}(a),p(y,o))}};if(s.EIP712Domain&&t){if("object"!=typeof t)throw new o({domain:t});p(s.EIP712Domain,t)}if("EIP712Domain"!==a)if(s[a])p(s[a],r);else throw new l({primaryType:a,types:s})}function y({domain:e}){return["string"==typeof e?.name&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},("number"==typeof e?.chainId||"bigint"==typeof e?.chainId)&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}},40098:(e,t,r)=>{r.d(t,{e:()=>n});function n(e,{args:t,eventName:r}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...r?{args:t,eventName:r}:{}}}},42073:(e,t,r)=>{r.d(t,{g:()=>s});var n=r(9471),i=r(84428),a=r(89529);async function s(e,{blockHash:t,blockNumber:r,blockTag:o=e.experimental_blockTag??"latest",includeTransactions:l}={}){let c=l??!1,u=void 0!==r?(0,i.cK)(r):void 0,f=null;if(!(f=t?await e.request({method:"eth_getBlockByHash",params:[t,c]},{dedupe:!0}):await e.request({method:"eth_getBlockByNumber",params:[u||o,c]},{dedupe:!!u})))throw new n.l({blockHash:t,blockNumber:r});return(e.chain?.formatters?.block?.format||a.$)(f,"getBlock")}},43609:(e,t,r)=>{r.d(t,{w:()=>i});var n=r(46269);function i(e,{emitOnBegin:t,initialWaitTime:r,interval:i}){let a=!0,s=()=>a=!1;return(async()=>{let o;t&&(o=await e({unpoll:s}));let l=await r?.(o)??i;await (0,n.u)(l);let c=async()=>{a&&(await e({unpoll:s}),await (0,n.u)(i),c())};c()})(),s}},43748:(e,t,r)=>{r.d(t,{b4:()=>i,uP:()=>a});var n=r(94747);let i={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function a(e,t){let r={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?(0,n.ME)(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?(0,n.ME)(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?i[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(r.authorizationList=e.authorizationList.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))),r.yParity=(()=>{if(e.yParity)return Number(e.yParity);if("bigint"==typeof r.v){if(0n===r.v||27n===r.v)return 0;if(1n===r.v||28n===r.v)return 1;if(r.v>=35n)return+(r.v%2n===0n)}})(),"legacy"===r.type&&(delete r.accessList,delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.yParity),"eip2930"===r.type&&(delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas),"eip1559"===r.type&&delete r.maxFeePerBlobGas,r}},45312:(e,t,r)=>{r.d(t,{L:()=>n});async function n(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}},50474:(e,t,r)=>{r.d(t,{RR:()=>o,pw:()=>s,sM:()=>a});var n=r(22160),i=r(66568);class a extends i.C{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class s extends i.C{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class o extends i.C{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${(0,n.Q)(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}},50636:(e,t,r)=>{r.d(t,{h:()=>a});var n=r(96002),i=r(73260);async function a(e,{hash:t}){let r=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!r)throw new n.Kc({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||i.uL)(r,"getTransactionReceipt")}},53014:(e,t,r)=>{r.d(t,{B8:()=>p,D0:()=>function e(t,r,n=!1,h={}){let b;if(t<=a)throw Error("invalid field: expected ORDER > 0, got "+t);let{nBitLength:g,nByteLength:E}=x(t,r);if(E>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let B=Object.freeze({ORDER:t,isLE:n,BITS:g,BYTES:E,MASK:(0,i.OG)(g),ZERO:a,ONE:s,create:e=>d(e,t),isValid:e=>{if("bigint"!=typeof e)throw Error("invalid field element: expected bigint, got "+typeof e);return a<=e&&e<t},is0:e=>e===a,isOdd:e=>(e&s)===s,neg:e=>d(-e,t),eql:(e,t)=>e===t,sqr:e=>d(e*e,t),add:(e,r)=>d(e+r,t),sub:(e,r)=>d(e-r,t),mul:(e,r)=>d(e*r,t),pow:(e,t)=>(function(e,t,r){if(r<a)throw Error("invalid exponent, negatives unsupported");if(r===a)return e.ONE;if(r===s)return t;let n=e.ONE,i=t;for(;r>a;)r&s&&(n=e.mul(n,i)),i=e.sqr(i),r>>=s;return n})(B,e,t),div:(e,r)=>d(e*p(r,t),t),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:e=>p(e,t),sqrt:h.sqrt||(r=>(b||(b=t%c===l?m:t%f===u?y:function(t){if(t<BigInt(3))throw Error("sqrt is not defined for small field");let r=t-s,n=0;for(;r%o===a;)r/=o,n++;let i=o,l=e(t);for(;1===v(l,i);)if(i++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===n)return m;let c=l.pow(i,r),u=(r+s)/o;return function(e,t){if(e.is0(t))return t;if(1!==v(e,t))throw Error("Cannot find square root");let i=n,a=e.mul(e.ONE,c),o=e.pow(t,r),l=e.pow(t,u);for(;!e.eql(o,e.ONE);){if(e.is0(o))return e.ZERO;let t=1,r=e.sqr(o);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===i)throw Error("Cannot find square root");let n=s<<BigInt(i-t-1),c=e.pow(a,n);i=t,a=e.sqr(c),o=e.mul(o,a),l=e.mul(l,c)}return l}}(t)),b(B,r))),toBytes:e=>n?(0,i.z)(e,E):(0,i.lq)(e,E),fromBytes:e=>{if(e.length!==E)throw Error("Field.fromBytes: expected "+E+" bytes, got "+e.length);return n?(0,i.lX)(e):(0,i.Ph)(e)},invertBatch:e=>w(B,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(B)},LH:()=>x,Tp:()=>B,jr:()=>g,pS:()=>w,qy:()=>P,zH:()=>h,zi:()=>d});var n=r(3013),i=r(10765);let a=BigInt(0),s=BigInt(1),o=BigInt(2),l=BigInt(3),c=BigInt(4),u=BigInt(5),f=BigInt(8);function d(e,t){let r=e%t;return r>=a?r:t+r}function h(e,t,r){let n=e;for(;t-- >a;)n*=n,n%=r;return n}function p(e,t){if(e===a)throw Error("invert: expected non-zero number");if(t<=a)throw Error("invert: expected positive modulus, got "+t);let r=d(e,t),n=t,i=a,o=s,l=s,c=a;for(;r!==a;){let e=n/r,t=n%r,a=i-l*e,s=o-c*e;n=r,r=t,i=l,o=c,l=a,c=s}if(n!==s)throw Error("invert: does not exist");return d(i,t)}function m(e,t){let r=(e.ORDER+s)/c,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw Error("Cannot find square root");return n}function y(e,t){let r=(e.ORDER-u)/f,n=e.mul(t,o),i=e.pow(n,r),a=e.mul(t,i),s=e.mul(e.mul(a,o),i),l=e.mul(a,e.sub(s,e.ONE));if(!e.eql(e.sqr(l),t))throw Error("Cannot find square root");return l}let b=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function g(e){let t=b.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,i.Q5)(e,t)}function w(e,t,r=!1){let n=Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),a=e.inv(i);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),a),n}function v(e,t){let r=(e.ORDER-s)/o,n=e.pow(t,r),i=e.eql(n,e.ONE),a=e.eql(n,e.ZERO),l=e.eql(n,e.neg(e.ONE));if(!i&&!a&&!l)throw Error("invalid Legendre symbol result");return i?1:a?0:-1}function x(e,t){void 0!==t&&(0,n.Fe)(t);let r=void 0!==t?t:e.toString(2).length,i=Math.ceil(r/8);return{nBitLength:r,nByteLength:i}}function E(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function B(e){let t=E(e);return t+Math.ceil(t/2)}function P(e,t,r=!1){let n=e.length,a=E(t),o=B(t);if(n<16||n<o||n>1024)throw Error("expected "+o+"-1024 bytes of input, got "+n);let l=d(r?(0,i.lX)(e):(0,i.Ph)(e),t-s)+s;return r?(0,i.z)(l,a):(0,i.lq)(l,a)}},53385:(e,t,r)=>{r.d(t,{h:()=>a});var n=r(71386),i=r(80339);function a(e,t){if(!(0,i.P)(e,{strict:!1}))throw new n.M({address:e});if(!(0,i.P)(t,{strict:!1}))throw new n.M({address:t});return e.toLowerCase()===t.toLowerCase()}},53906:(e,t,r)=>{r.d(t,{sc:()=>w,qt:()=>x,Zf:()=>v});var n=r(3013);class i extends n.Vw{constructor(e,t,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=(0,n.O8)(this.buffer)}update(e){(0,n.CC)(this),e=(0,n.ZJ)(e),(0,n.DO)(e);let{view:t,buffer:r,blockLen:i}=this,a=e.length;for(let s=0;s<a;){let o=Math.min(i-this.pos,a-s);if(o===i){let t=(0,n.O8)(e);for(;i<=a-s;s+=i)this.process(t,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,n.CC)(this),(0,n.Ht)(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:i,isLE:a}=this,{pos:s}=this;t[s++]=128,(0,n.uH)(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(r,0),s=0);for(let e=s;e<i;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),a=BigInt(0xffffffff),s=Number(r>>i&a),o=Number(r&a),l=4*!!n,c=4*!n;e.setUint32(t+l,s,n),e.setUint32(t+c,o,n)}(r,i-8,BigInt(8*this.length),a),this.process(r,0);let o=(0,n.O8)(e),l=this.outputLen;if(l%4)throw Error("_sha2: outputLen should be aligned to 32bit");let c=l/4,u=this.get();if(c>u.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)o.setUint32(4*e,u[e],a)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:a,pos:s}=this;return e.destroyed=a,e.finished=i,e.length=n,e.pos=s,n%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}let a=Uint32Array.from([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),s=Uint32Array.from([0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4]),o=Uint32Array.from([0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179]);var l=r(31367);let c=Uint32Array.from([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),u=new Uint32Array(64);class f extends i{constructor(e=32){super(64,e,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:a,G:s,H:o}=this;return[e,t,r,n,i,a,s,o]}set(e,t,r,n,i,a,s,o){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|a,this.G=0|s,this.H=0|o}process(e,t){for(let r=0;r<16;r++,t+=4)u[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=u[e-15],r=u[e-2],i=(0,n.Ow)(t,7)^(0,n.Ow)(t,18)^t>>>3,a=(0,n.Ow)(r,17)^(0,n.Ow)(r,19)^r>>>10;u[e]=a+u[e-7]+i+u[e-16]|0}let{A:r,B:i,C:a,D:s,E:o,F:l,G:f,H:d}=this;for(let e=0;e<64;e++){var h,p,m,y;let t=d+((0,n.Ow)(o,6)^(0,n.Ow)(o,11)^(0,n.Ow)(o,25))+((h=o)&l^~h&f)+c[e]+u[e]|0,b=((0,n.Ow)(r,2)^(0,n.Ow)(r,13)^(0,n.Ow)(r,22))+((p=r)&(m=i)^p&(y=a)^m&y)|0;d=f,f=l,l=o,o=s+t|0,s=a,a=i,i=r,r=t+b|0}r=r+this.A|0,i=i+this.B|0,a=a+this.C|0,s=s+this.D|0,o=o+this.E|0,l=l+this.F|0,f=f+this.G|0,d=d+this.H|0,this.set(r,i,a,s,o,l,f,d)}roundClean(){(0,n.uH)(u)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,n.uH)(this.buffer)}}let d=l.lD(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),h=d[0],p=d[1],m=new Uint32Array(80),y=new Uint32Array(80);class b extends i{constructor(e=64){super(128,e,16,!1),this.Ah=0|o[0],this.Al=0|o[1],this.Bh=0|o[2],this.Bl=0|o[3],this.Ch=0|o[4],this.Cl=0|o[5],this.Dh=0|o[6],this.Dl=0|o[7],this.Eh=0|o[8],this.El=0|o[9],this.Fh=0|o[10],this.Fl=0|o[11],this.Gh=0|o[12],this.Gl=0|o[13],this.Hh=0|o[14],this.Hl=0|o[15]}get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:a,Dh:s,Dl:o,Eh:l,El:c,Fh:u,Fl:f,Gh:d,Gl:h,Hh:p,Hl:m}=this;return[e,t,r,n,i,a,s,o,l,c,u,f,d,h,p,m]}set(e,t,r,n,i,a,s,o,l,c,u,f,d,h,p,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|a,this.Dh=0|s,this.Dl=0|o,this.Eh=0|l,this.El=0|c,this.Fh=0|u,this.Fl=0|f,this.Gh=0|d,this.Gl=0|h,this.Hh=0|p,this.Hl=0|m}process(e,t){for(let r=0;r<16;r++,t+=4)m[r]=e.getUint32(t),y[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|m[e-15],r=0|y[e-15],n=l.rE(t,r,1)^l.rE(t,r,8)^l.xn(t,r,7),i=l.ry(t,r,1)^l.ry(t,r,8)^l.jm(t,r,7),a=0|m[e-2],s=0|y[e-2],o=l.rE(a,s,19)^l.qh(a,s,61)^l.xn(a,s,6),c=l.ry(a,s,19)^l.Ei(a,s,61)^l.jm(a,s,6),u=l.CW(i,c,y[e-7],y[e-16]),f=l.CQ(u,n,o,m[e-7],m[e-16]);m[e]=0|f,y[e]=0|u}let{Ah:r,Al:n,Bh:i,Bl:a,Ch:s,Cl:o,Dh:c,Dl:u,Eh:f,El:d,Fh:b,Fl:g,Gh:w,Gl:v,Hh:x,Hl:E}=this;for(let e=0;e<80;e++){let t=l.rE(f,d,14)^l.rE(f,d,18)^l.qh(f,d,41),B=l.ry(f,d,14)^l.ry(f,d,18)^l.Ei(f,d,41),P=f&b^~f&w,A=d&g^~d&v,I=l.F8(E,B,A,p[e],y[e]),C=l.TH(I,x,t,P,h[e],m[e]),T=0|I,N=l.rE(r,n,28)^l.qh(r,n,34)^l.qh(r,n,39),S=l.ry(r,n,28)^l.Ei(r,n,34)^l.Ei(r,n,39),k=r&i^r&s^i&s,R=n&a^n&o^a&o;x=0|w,E=0|v,w=0|b,v=0|g,b=0|f,g=0|d,({h:f,l:d}=l.WQ(0|c,0|u,0|C,0|T)),c=0|s,u=0|o,s=0|i,o=0|a,i=0|r,a=0|n;let O=l.Vl(T,S,R);r=l.Vr(O,C,N,k),n=0|O}({h:r,l:n}=l.WQ(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:a}=l.WQ(0|this.Bh,0|this.Bl,0|i,0|a)),({h:s,l:o}=l.WQ(0|this.Ch,0|this.Cl,0|s,0|o)),({h:c,l:u}=l.WQ(0|this.Dh,0|this.Dl,0|c,0|u)),({h:f,l:d}=l.WQ(0|this.Eh,0|this.El,0|f,0|d)),({h:b,l:g}=l.WQ(0|this.Fh,0|this.Fl,0|b,0|g)),({h:w,l:v}=l.WQ(0|this.Gh,0|this.Gl,0|w,0|v)),({h:x,l:E}=l.WQ(0|this.Hh,0|this.Hl,0|x,0|E)),this.set(r,n,i,a,s,o,c,u,f,d,b,g,w,v,x,E)}roundClean(){(0,n.uH)(m,y)}destroy(){(0,n.uH)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class g extends b{constructor(){super(48),this.Ah=0|s[0],this.Al=0|s[1],this.Bh=0|s[2],this.Bl=0|s[3],this.Ch=0|s[4],this.Cl=0|s[5],this.Dh=0|s[6],this.Dl=0|s[7],this.Eh=0|s[8],this.El=0|s[9],this.Fh=0|s[10],this.Fl=0|s[11],this.Gh=0|s[12],this.Gl=0|s[13],this.Hh=0|s[14],this.Hl=0|s[15]}}let w=(0,n.qj)(()=>new f),v=(0,n.qj)(()=>new b),x=(0,n.qj)(()=>new g)},55088:(e,t,r)=>{r.d(t,{h:()=>c});var n=r(51011),i=r(6593),a=r(53385),s=r(49586),o=r(69960),l=r(80771);async function c(e,t){let{account:r=e.account,chainId:c,nonce:u}=t;if(!r)throw new i.T({docsPath:"/docs/eip7702/prepareAuthorization"});let f=(0,n.J)(r),d=(()=>{if(t.executor)return"self"===t.executor?t.executor:(0,n.J)(t.executor)})(),h={address:t.contractAddress??t.address,chainId:c,nonce:u};return void 0===h.chainId&&(h.chainId=e.chain?.id??await (0,s.T)(e,o.T,"getChainId")({})),void 0===h.nonce&&(h.nonce=await (0,s.T)(e,l.y,"getTransactionCount")({address:f.address,blockTag:"pending"}),("self"===d||d?.address&&(0,a.h)(d.address,f.address))&&(h.nonce+=1)),h}},57513:(e,t,r)=>{r.d(t,{q:()=>c});var n=r(94747),i=r(49586),a=r(28992),s=r(43609),o=r(91497),l=r(17626);function c(e,{emitOnBegin:t=!1,emitMissed:r=!1,onBlockNumber:c,onError:u,poll:f,pollingInterval:d=e.pollingInterval}){let h,p,m;return(void 0!==f?f:"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type))?(p=(0,o.A)(["watchBlockNumber",e.uid,t,r,d]),(0,a.lB)(p,{onBlockNumber:c,onError:u},n=>(0,s.w)(async()=>{try{let t=await (0,i.T)(e,l.G,"getBlockNumber")({cacheTime:0});if(void 0!==h){if(t===h)return;if(t-h>1&&r)for(let e=h+1n;e<t;e++)n.onBlockNumber(e,h),h=e}(void 0===h||t>h)&&(n.onBlockNumber(t,h),h=t)}catch(e){n.onError?.(e)}},{emitOnBegin:t,interval:d}))):(m=(0,o.A)(["watchBlockNumber",e.uid,t,r]),(0,a.lB)(m,{onBlockNumber:c,onError:u},t=>{let r=!0,i=()=>r=!1;return(async()=>{try{let a=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),{unsubscribe:s}=await a.subscribe({params:["newHeads"],onData(e){if(!r)return;let i=(0,n.uU)(e.result?.number);t.onBlockNumber(i,h),h=i},onError(e){t.onError?.(e)}});i=s,r||i()}catch(e){u?.(e)}})(),()=>i()}))}},58275:(e,t,r)=>{r.d(t,{g:()=>f});var n=r(90964),i=r(76429),a=r(22106),s=r(84428),o=r(66568),l=r(14870);function c(e){if(e<256)return 1;if(e<65536)return 2;if(e<0x1000000)return 3;if(e<0x100000000)return 4;throw new o.C("Length is too large.")}var u=r(18860);async function f(e){let{authorization:t,signature:r}=e;return(0,n.x)({hash:function(e){let{chainId:t,nonce:r,to:n}=e,o=e.contractAddress??e.address,f=(0,u.S)((0,i.aP)(["0x05",function(e,t="hex"){let r=function e(t){var r,n;let i,s,o,l;return Array.isArray(t)?(s=c(i=(r=t.map(t=>e(t))).reduce((e,t)=>e+t.length,0)),{length:i<=55?1+i:1+s+i,encode(e){for(let{encode:t}of(i<=55?e.pushByte(192+i):(e.pushByte(247+s),1===s?e.pushUint8(i):2===s?e.pushUint16(i):3===s?e.pushUint24(i):e.pushUint32(i)),r))t(e)}}):(l=c((o="string"==typeof(n=t)?(0,a.aT)(n):n).length),{length:1===o.length&&o[0]<128?1:o.length<=55?1+o.length:1+l+o.length,encode(e){1===o.length&&o[0]<128||(o.length<=55?e.pushByte(128+o.length):(e.pushByte(183+l),1===l?e.pushUint8(o.length):2===l?e.pushUint16(o.length):3===l?e.pushUint24(o.length):e.pushUint32(o.length))),e.pushBytes(o)}})}(e),n=(0,l.l)(new Uint8Array(r.length));return(r.encode(n),"hex"===t)?(0,s.My)(n.bytes):n.bytes}([t?(0,s.cK)(t):"0x",o,r?(0,s.cK)(r):"0x"])]));return"bytes"===n?(0,a.aT)(f):f}(t),signature:r??t})}},58575:(e,t,r)=>{r.d(t,{secp256k1:()=>h});var n=r(53906),i=r(23642),a=r(53014);let s=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),o=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),l=BigInt(0),c=BigInt(1),u=BigInt(2),f=(e,t)=>(e+t/u)/t,d=(0,a.D0)(s,void 0,void 0,{sqrt:function(e){let t=BigInt(3),r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),l=BigInt(44),c=BigInt(88),f=e*e*e%s,h=f*f*e%s,p=(0,a.zH)(h,t,s)*h%s,m=(0,a.zH)(p,t,s)*h%s,y=(0,a.zH)(m,u,s)*f%s,b=(0,a.zH)(y,n,s)*y%s,g=(0,a.zH)(b,i,s)*b%s,w=(0,a.zH)(g,l,s)*g%s,v=(0,a.zH)(w,c,s)*w%s,x=(0,a.zH)(v,l,s)*g%s,E=(0,a.zH)(x,t,s)*h%s,B=(0,a.zH)(E,o,s)*b%s,P=(0,a.zH)(B,r,s)*f%s,A=(0,a.zH)(P,u,s);if(!d.eql(d.sqr(A),e))throw Error("Cannot find square root");return A}}),h=(0,i.s)({a:l,b:BigInt(7),Fp:d,n:o,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-c*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=BigInt("0x100000000000000000000000000000000"),s=f(t*e,o),l=f(-r*e,o),u=(0,a.zi)(e-s*t-l*n,o),d=(0,a.zi)(-s*r-l*t,o),h=u>i,p=d>i;if(h&&(u=o-u),p&&(d=o-d),u>i||d>i)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:h,k1:u,k2neg:p,k2:d}}}},n.sc)},60337:(e,t,r)=>{r.d(t,{X:()=>y,J:()=>m});var n=r(18587),i=r(95889),a=r(18893),s=r(80044),o=r(76429),l=r(56213),c=r(44497),u=r(24029),f=r(42330);let d="/docs/contract/encodeErrorResult";function h(e){let{abi:t,errorName:r,args:n}=e,i=t[0];if(r){let e=(0,f.iY)({abi:t,args:n,name:r});if(!e)throw new s.yy(r,{docsPath:d});i=e}if("error"!==i.type)throw new s.yy(void 0,{docsPath:d});let a=(0,u.B)(i),h=(0,l.V)(a),p="0x";if(n&&n.length>0){if(!i.inputs)throw new s.ZP(i.name,{docsPath:d});p=(0,c.h)(i.inputs,n)}return(0,o.aP)([h,p])}let p="/docs/contract/encodeFunctionResult",m="x-batch-gateway:true";async function y(e){let{data:t,ccipRequest:r}=e,{args:[o]}=(0,a.J)({abi:n.b2,data:t}),l=[],u=[];return await Promise.all(o.map(async(e,t)=>{try{u[t]=e.urls.includes(m)?await y({data:e.data,ccipRequest:r}):await r(e),l[t]=!1}catch(e){var a;l[t]=!0,u[t]="HttpRequestError"===(a=e).name&&a.status?h({abi:n.b2,errorName:"HttpError",args:[a.status,a.shortMessage]}):h({abi:[i.Mc],errorName:"Error",args:["shortMessage"in a?a.shortMessage:a.message]})}})),function(e){let{abi:t,functionName:r,result:n}=e,i=t[0];if(r){let e=(0,f.iY)({abi:t,name:r});if(!e)throw new s.Iz(r,{docsPath:p});i=e}if("function"!==i.type)throw new s.Iz(void 0,{docsPath:p});if(!i.outputs)throw new s.MR(i.name,{docsPath:p});let a=(()=>{if(0===i.outputs.length)return[];if(1===i.outputs.length)return[n];if(Array.isArray(n))return n;throw new s.dm(n)})();return(0,c.h)(i.outputs,a)}({abi:n.b2,functionName:"query",result:[l,u]})}},69960:(e,t,r)=>{r.d(t,{T:()=>i});var n=r(94747);async function i(e){let t=await e.request({method:"eth_chainId"},{dedupe:!0});return(0,n.ME)(t)}},70969:(e,t,r)=>{r.d(t,{p:()=>s});var n=r(4174),i=r(96002),a=r(31750);function s(e,{docsPath:t,...r}){let s,o=(s=(0,a.l)(e,r))instanceof n.RM?e:s;return new i.$s(o,{docsPath:t,...r})}},73062:(e,t,r)=>{r.d(t,{Q:()=>g});var n=r(51011),i=r(66568),a=r(58275),s=r(84428),o=r(70536),l=r(22160),c=r(96002);class u extends i.C{constructor(e,{account:t,docsPath:r,chain:n,data:i,gas:a,gasPrice:s,maxFeePerGas:u,maxPriorityFeePerGas:f,nonce:d,to:h,value:p}){super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",(0,c.aO)({from:t?.address,to:h,value:void 0!==p&&`${(0,o.c)(p)} ${n?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:a,gasPrice:void 0!==s&&`${(0,l.Q)(s)} gwei`,maxFeePerGas:void 0!==u&&`${(0,l.Q)(u)} gwei`,maxPriorityFeePerGas:void 0!==f&&`${(0,l.Q)(f)} gwei`,nonce:d})].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}var f=r(4174),d=r(31750),h=r(89649),p=r(58637),m=r(77309),y=r(95420),b=r(15674);async function g(e,t){let{account:r=e.account,prepare:o=!0}=t,l=r?(0,n.J)(r):void 0,c=Array.isArray(o)?o:l?.type!=="local"?["blobVersionedHashes"]:void 0;try{let{accessList:r,authorizationList:n,blobs:u,blobVersionedHashes:f,blockNumber:d,blockTag:g,data:w,gas:v,gasPrice:x,maxFeePerBlobGas:E,maxFeePerGas:B,maxPriorityFeePerGas:P,nonce:A,value:I,stateOverride:C,...T}=o?await (0,b.ft)(e,{...t,parameters:c}):t,N=("bigint"==typeof d?(0,s.cK)(d):void 0)||g,S=(0,m.yH)(C),k=await (async()=>T.to?T.to:n&&n.length>0?await (0,a.g)({authorization:n[0]}).catch(()=>{throw new i.C("`to` is required. Could not infer from `authorizationList`")}):void 0)();(0,y.c)(t);let R=e.chain?.formatters?.transactionRequest?.format,O=(R||p.Bv)({...(0,h.o)(T,{format:R}),account:l,accessList:r,authorizationList:n,blobs:u,blobVersionedHashes:f,data:w,gas:v,gasPrice:x,maxFeePerBlobGas:E,maxFeePerGas:B,maxPriorityFeePerGas:P,nonce:A,to:k,value:I},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:S?[O,N??e.experimental_blockTag??"latest",S]:N?[O,N]:[O]}))}catch(r){throw function(e,{docsPath:t,...r}){let n;return new u((n=(0,d.l)(e,r))instanceof f.RM?e:n,{docsPath:t,...r})}(r,{...t,account:l,chain:e.chain})}}},73260:(e,t,r)=>{r.d(t,{Lj:()=>s,uL:()=>o});var n=r(94747),i=r(40098),a=r(43748);let s={"0x0":"reverted","0x1":"success"};function o(e,t){let r={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(e=>(0,i.e)(e)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?(0,n.ME)(e.transactionIndex):null,status:e.status?s[e.status]:null,type:e.type?a.b4[e.type]||e.type:null};return e.blobGasPrice&&(r.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(r.blobGasUsed=BigInt(e.blobGasUsed)),r}},74833:(e,t,r)=>{r.d(t,{Q:()=>i});var n=r(84428);async function i(e,{address:t,blockNumber:r,blockTag:i="latest"}){let a=void 0!==r?(0,n.cK)(r):void 0,s=await e.request({method:"eth_getCode",params:[t,a||i]},{dedupe:!!a});if("0x"!==s)return s}},75255:(e,t,r)=>{r.d(t,{BH:()=>h,vB:()=>d,yM:()=>p});var n=r(51011),i=r(66568),a=r(65261),s=r(4181),o=r(76429),l=r(94747),c=r(84428),u=r(70969),f=r(27426);let d="0x5792579257925792579257925792579257925792579257925792579257925792",h=(0,c.cK)(0,{size:32});async function p(e,t){let{account:r=e.account,capabilities:p,chain:m=e.chain,experimental_fallback:y,experimental_fallbackDelay:b=32,forceAtomic:g=!1,id:w,version:v="2.0.0"}=t,x=r?(0,n.J)(r):null,E=t.calls.map(e=>{let t=e.abi?(0,s.p)({abi:e.abi,functionName:e.functionName,args:e.args}):e.data;return{data:e.dataSuffix&&t?(0,o.xW)([t,e.dataSuffix]):t,to:e.to,value:e.value?(0,c.cK)(e.value):void 0}});try{let t=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:g,calls:E,capabilities:p,chainId:(0,c.cK)(m.id),from:x?.address,id:w,version:v}]},{retryCount:0});if("string"==typeof t)return{id:t};return t}catch(r){if(y&&("MethodNotFoundRpcError"===r.name||"MethodNotSupportedRpcError"===r.name||"UnknownRpcError"===r.name||r.details.toLowerCase().includes("does not exist / is not available")||r.details.toLowerCase().includes("missing or invalid. request()")||r.details.toLowerCase().includes("did not match any variant of untagged enum")||r.details.toLowerCase().includes("account upgraded to unsupported contract")||r.details.toLowerCase().includes("eip-7702 not supported")||r.details.toLowerCase().includes("unsupported wc_ method")||r.details.toLowerCase().includes("feature toggled misconfigured")||r.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(p&&Object.values(p).some(e=>!e.optional)){let e="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new a.L5(new i.C(e,{details:e}))}if(g&&E.length>1){let e="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new a.jz(new i.C(e,{details:e}))}let t=[];for(let r of E){let n=(0,f.v)(e,{account:x,chain:m,data:r.data,to:r.to,value:r.value?(0,l.uU)(r.value):void 0});t.push(n),b>0&&await new Promise(e=>setTimeout(e,b))}let r=await Promise.allSettled(t);if(r.every(e=>"rejected"===e.status))throw r[0].reason;let n=r.map(e=>"fulfilled"===e.status?e.value:h);return{id:(0,o.xW)([...n,(0,c.cK)(m.id,{size:32}),d])}}throw(0,u.p)(r,{...t,account:x,chain:t.chain})}}},80771:(e,t,r)=>{r.d(t,{y:()=>a});var n=r(94747),i=r(84428);async function a(e,{address:t,blockTag:r="latest",blockNumber:a}){let s=await e.request({method:"eth_getTransactionCount",params:[t,"bigint"==typeof a?(0,i.cK)(a):r]},{dedupe:!!a});return(0,n.ME)(s)}},81278:(e,t,r)=>{r.d(t,{v:()=>i});var n=r(4879);function i({chain:e,currentChainId:t}){if(!e)throw new n.jF;if(t!==e.id)throw new n.EH({chain:e,currentChainId:t})}},83893:(e,t,r)=>{r.d(t,{Zh:()=>l});var n=r(44497),i=r(76429),a=r(84428),s=r(18860),o=r(35895);function l(e){let{domain:t={},message:r,primaryType:n}=e,a={EIP712Domain:(0,o.H4)({domain:t}),...e.types};(0,o.$$)({domain:t,message:r,primaryType:n,types:a});let l=["0x1901"];return t&&l.push(function({domain:e,types:t}){return c({data:e,primaryType:"EIP712Domain",types:t})}({domain:t,types:a})),"EIP712Domain"!==n&&l.push(c({data:r,primaryType:n,types:a})),(0,s.S)((0,i.xW)(l))}function c({data:e,primaryType:t,types:r}){let i=function e({data:t,primaryType:r,types:i}){let o=[{type:"bytes32"}],l=[function({primaryType:e,types:t}){let r=(0,a.nj)(function({primaryType:e,types:t}){let r="",n=function e({primaryType:t,types:r},n=new Set){let i=t.match(/^\w*/u),a=i?.[0];if(n.has(a)||void 0===r[a])return n;for(let t of(n.add(a),r[a]))e({primaryType:t.type,types:r},n);return n}({primaryType:e,types:t});for(let i of(n.delete(e),[e,...Array.from(n).sort()]))r+=`${i}(${t[i].map(({name:e,type:t})=>`${t} ${e}`).join(",")})`;return r}({primaryType:e,types:t}));return(0,s.S)(r)}({primaryType:r,types:i})];for(let c of i[r]){let[r,u]=function t({types:r,name:i,type:o,value:l}){if(void 0!==r[o])return[{type:"bytes32"},(0,s.S)(e({data:l,primaryType:o,types:r}))];if("bytes"===o){let e=l.length%2?"0":"";return l=`0x${e+l.slice(2)}`,[{type:"bytes32"},(0,s.S)(l)]}if("string"===o)return[{type:"bytes32"},(0,s.S)((0,a.nj)(l))];if(o.lastIndexOf("]")===o.length-1){let e=o.slice(0,o.lastIndexOf("[")),a=l.map(n=>t({name:i,type:e,types:r,value:n}));return[{type:"bytes32"},(0,s.S)((0,n.h)(a.map(([e])=>e),a.map(([,e])=>e)))]}return[{type:o},l]}({types:i,name:c.name,type:c.type,value:t[c.name]});o.push(r),l.push(u)}return(0,n.h)(o,l)}({data:e,primaryType:t,types:r});return(0,s.S)(i)}},89529:(e,t,r)=>{r.d(t,{$:()=>i});var n=r(43748);function i(e,t){let r=(e.transactions??[]).map(e=>"string"==typeof e?e:(0,n.uP)(e));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:r,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}},90731:(e,t,r)=>{r.d(t,{k:()=>l});var n=r(81693),i=r(12581),a=r(94747),s=r(73260),o=r(75255);async function l(e,t){let r;async function l(t){if(t.endsWith(o.vB.slice(2))){let r=(0,i.B)((0,n.iN)(t,-64,-32)),s=(0,n.iN)(t,0,-64).slice(2).match(/.{1,64}/g),l=await Promise.all(s.map(t=>o.BH.slice(2)!==t?e.request({method:"eth_getTransactionReceipt",params:[`0x${t}`]},{dedupe:!0}):void 0)),c=l.some(e=>null===e)?100:l.every(e=>e?.status==="0x1")?200:l.every(e=>e?.status==="0x0")?500:600;return{atomic:!1,chainId:(0,a.ME)(r),receipts:l.filter(Boolean),status:c,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[t]})}let{atomic:c=!1,chainId:u,receipts:f,version:d="2.0.0",...h}=await l(t.id),[p,m]=(r=h.status)>=100&&r<200?["pending",r]:r>=200&&r<300?["success",r]:r>=300&&r<700?["failure",r]:"CONFIRMED"===r?["success",200]:"PENDING"===r?["pending",100]:[void 0,r];return{...h,atomic:c,chainId:u?(0,a.ME)(u):void 0,receipts:f?.map(e=>({...e,blockNumber:(0,a.uU)(e.blockNumber),gasUsed:(0,a.uU)(e.gasUsed),status:s.Lj[e.status]}))??[],statusCode:m,status:p,version:d}}},90964:(e,t,r)=>{r.d(t,{x:()=>f});var n=r(96685),i=r(18860),a=r(89762),s=r(45696),o=r(94747),l=r(84428);async function c({hash:e,signature:t}){let n=(0,a.q)(e)?e:(0,l.nj)(e),{secp256k1:i}=await Promise.resolve().then(r.bind(r,58575)),c=(()=>{if("object"==typeof t&&"r"in t&&"s"in t){let{r:e,s:r,v:n,yParity:a}=t,s=u(Number(a??n));return new i.Signature((0,o.uU)(e),(0,o.uU)(r)).addRecoveryBit(s)}let e=(0,a.q)(t)?t:(0,l.nj)(t);if(65!==(0,s.E)(e))throw Error("invalid signature length");let r=u((0,o.ME)(`0x${e.slice(130)}`));return i.Signature.fromCompact(e.substring(2,130)).addRecoveryBit(r)})().recoverPublicKey(n.substring(2)).toHex(!1);return`0x${c}`}function u(e){if(0===e||1===e)return e;if(27===e)return 0;if(28===e)return 1;throw Error("Invalid yParityOrV value")}async function f({hash:e,signature:t}){var r;let a;return r=await c({hash:e,signature:t}),a=(0,i.S)(`0x${r.substring(4)}`).substring(26),(0,n.o)(`0x${a}`)}},94310:(e,t,r)=>{r.d(t,{L:()=>n});async function n(e){return BigInt(await e.request({method:"eth_gasPrice"}))}},96023:(e,t,r)=>{r.d(t,{s:()=>s});var n=r(96002),i=r(73260),a=r(84428);async function s(e,{serializedTransaction:t,throwOnReceiptRevert:r,timeout:s}){let o=await e.request({method:"eth_sendRawTransactionSync",params:s?[t,(0,a.cK)(s)]:[t]},{retryCount:0}),l=(e.chain?.formatters?.transactionReceipt?.format||i.uL)(o);if("reverted"===l.status&&r)throw new n.Sq({receipt:l});return l}}}]);