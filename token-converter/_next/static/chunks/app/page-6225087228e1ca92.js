(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8974],{10118:(e,t,r)=>{"use strict";r.d(t,{mc:()=>l,UF:()=>c,SF:()=>o});var a=r(41535);let s={customGasLimit:void 0,estimatedGas:BigInt(0)};var i=r(68147);let n={isAdvanced:!1},o=(0,i.YV)(),l=((e=s)=>(0,a.v)(t=>({customGasLimit:e.customGasLimit,estimatedGas:e.estimatedGas,setCustomGasLimit:e=>t({customGasLimit:e}),setEstimatedGas:e=>t({estimatedGas:e})})))(),c=((e=n)=>(0,a.v)((t,r)=>({isAdvanced:e.isAdvanced,setIsAdvanced:e=>t({isAdvanced:e})})))()},14346:(e,t,r)=>{"use strict";r.d(t,{g:()=>i,o:()=>n});var a=r(88576),s=r(68147);let i={[a.iF.MAINNET]:{[s.BF.CHEAP]:BigInt(120),[s.BF.FAST]:BigInt(200)}},n=BigInt(100)},16576:(e,t,r)=>{"use strict";async function a({hash:e,publicClient:t,maxRetries:r=3,delay:a=500}){for(let s=0;s<r;s++){try{let r=await t.getTransaction({hash:e});if(r)return r}catch(e){console.log(`Attempt ${s+1}: Transaction not found yet.`)}await new Promise(e=>setTimeout(e,a*s))}try{await t.waitForTransactionReceipt({hash:e});let r=await t.getTransaction({hash:e});if(r)return r}catch(e){throw Error("Transaction not found after retries.")}}r.d(t,{h:()=>a})},20799:(e,t,r)=>{"use strict";r.d(t,{Q:()=>a});let a=(0,r(41535).v)(e=>({isOpen:!1,setIsOpen:t=>e({isOpen:t})}))},24251:(e,t,r)=>{"use strict";r.d(t,{Qq:()=>o,eh:()=>n,cu:()=>l});var a,s,i=r(41535),n=((a={})[a.INITIAL=0]="INITIAL",a[a.PENDING_APPROVE=1]="PENDING_APPROVE",a[a.LOADING_APPROVE=2]="LOADING_APPROVE",a[a.ERROR_APPROVE=3]="ERROR_APPROVE",a[a.PENDING_CONVERT=4]="PENDING_CONVERT",a[a.LOADING_CONVERT=5]="LOADING_CONVERT",a[a.ERROR_CONVERT=6]="ERROR_CONVERT",a[a.SUCCESS=7]="SUCCESS",a),o=((s={})[s.OUT_OF_GAS=0]="OUT_OF_GAS",s[s.UNKNOWN=1]="UNKNOWN",s);let l=function({initialStatus:e,errorType:t,operations:r}){return(0,i.v)((a,s)=>{let i=Object.fromEntries(r.map(e=>[`${e}Hash`,void 0])),n=Object.fromEntries(r.map(e=>{let t=`set${e.charAt(0).toUpperCase()}${e.slice(1)}Hash`,r=`${e}Hash`;return[t,e=>a({[r]:e})]}));return{status:e,errorType:t,setStatus:t=>{t===e?a({...i,status:t}):a({status:t})},setErrorType:e=>a({errorType:e}),...i,...n}})}({initialStatus:0,operations:["approve","convert"],errorType:1})},24275:(e,t,r)=>{"use strict";r.d(t,{N:()=>h});var a=r(12115),s=r(14886),i=r(50277),n=r(1069),o=r(64783),l=r(74674);let c=BigInt(Number.MAX_SAFE_INTEGER);var d=r(88576),m=r(50879),x=r(47450),g=r(16576);let u={[d.iF.MAINNET]:{base:BigInt(5e4),additional:BigInt(12e3)}},p=BigInt(46e3);function h({token:e,contractAddress:t,amountToCheck:r}){let{address:d}=(0,s.F)(),h=(0,m.A)(),f=(0,i.e)(),{data:b}=(0,n.G)(),{refetch:y,data:v}=(0,o.Q)({abi:l.i,address:e?.address0,functionName:"allowance",args:[d,t],scopeKey:`${e?.address0}-${t}-${d}-${h}`,query:{enabled:!!e?.address0&&!!d&&!!t}}),P=(0,a.useMemo)(()=>u[h]?u[h].additional+u[h].base:p,[h]),E=(0,a.useCallback)(async e=>{f&&(await f.waitForTransactionReceipt({hash:e}),await y())},[f,y]),N=(0,a.useMemo)(()=>!!(v&&r&&v>=r),[r,v]),j=(0,a.useCallback)(async({customAmount:a,customGasSettings:s})=>{let i=a||r;if(!i||!t||!e||!b||!d||!h||!f)return void console.error("Error: writeTokenApprove ~ something undefined");let n={address:e.address0,account:d,abi:l.i,functionName:"approve",args:[t,i]},o="0xdac17f958d2ee523a2206206994597c13d831ec7"===e.address0.toLowerCase();if(!N&&v!==BigInt(0)&&o){let e={...n,args:[t,BigInt(0)]};await b.writeContract({...e,...s||{},gas:P,account:void 0})}try{let e;try{if(o)e=await b.writeContract({...n,...s||{},args:[t,c],gas:P,account:void 0});else{let{request:t}=await f.simulateContract({...n,...s||{},gas:P});e=await b.writeContract({...t,account:void 0})}}catch(e){console.log(e)}if(e&&await (0,g.h)({hash:e,publicClient:f}))return(await f.getTransaction({hash:e,blockTag:"pending"})).nonce,E(e),{success:!0,hash:e};return{success:!1}}catch(e){return console.log(e),(0,x.A)(e.toString(),"error"),{success:!1}}},[r,t,e,b,d,h,f,N,v,P,E]);return{isAllowed:N,writeTokenApprove:j,currentAllowance:v,estimatedGas:u[h]?.base||p,updateAllowance:y}}},31553:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>G,Qv:()=>R});var a=r(12115),s=r(16323),i=r(4181),n=r(14886),o=r(50277),l=r(1069),c=r(10757),d=r(6067),m=r(14887),x=r(88576),g=r(13390),u=r(24275),p=r(50879),h=r(46455),f=r(61451),b=r(94522),y=r(10118),v=r(24251),P=r(17931),E=r(47450),N=r(14346),j=r(68147),A=r(16576),w=r(38797);function C(){let{token:e,tokenStandard:t}=(0,P.y)(),r=(0,p.A)(),{address:o}=(0,n.F)(),{typedValue:l}=(0,b.k)();return{convertParams:(0,a.useMemo)(()=>e&&r&&x.iJ.includes(r)&&l&&o?t===g.a.ERC223?{address:(0,g.Y)(e,t),abi:c.H,functionName:"transfer",args:[m.u[r],(0,s.X)(l,e.decimals),(0,i.p)({abi:d.O,functionName:"convertERC20",args:[e.address0,(0,s.X)(l,e.decimals)]})]}:t===g.a.ERC20?{address:m.u[r],abi:d.O,functionName:"convertERC20",args:[e.address0,(0,s.X)(l,e.decimals)]}:void 0:null,[o,r,t,e,l])}}function R(){let{address:e}=(0,n.F)(),{convertParams:t}=C(),r=(0,o.e)(),{setEstimatedGas:a}=(0,y.mc)(),{token:i,tokenStandard:l}=(0,P.y)(),c=(0,p.A)(),{typedValue:d}=(0,b.k)(),{isAllowed:x}=(0,u.N)({token:i,contractAddress:m.u[c],amountToCheck:(0,s.X)(d,i?.decimals??18)});(0,h.A)(()=>{(0,w.m)(async()=>{if(!t||!e||!x&&l===g.a.ERC20){a(BigInt(1e5)),console.log("Can't estimate gas");return}try{let s=await r?.estimateContractGas({account:e,...t});s?a(s+BigInt(1e4)):a(BigInt(1e5))}catch(e){console.log(e),a(BigInt(1e5))}})},[r,e,t,x])}function G(){let{data:e}=(0,l.G)(),{token:t,tokenStandard:r}=(0,P.y)(),{address:i}=(0,n.F)(),c=(0,o.e)(),d=(0,p.A)(),{customGasLimit:x,estimatedGas:h}=(0,y.mc)(),{gasPriceOption:w,gasPriceSettings:R}=(0,y.SF)(),{baseFee:G,priorityFee:F,gasPrice:I}=(0,f.K)(),{typedValue:k}=(0,b.k)(),{status:T,setStatus:L,setConvertHash:S,setApproveHash:M,setErrorType:O}=(0,v.cu)(),{isAllowed:B,writeTokenApprove:_,updateAllowance:U}=(0,u.N)({token:t,contractAddress:m.u[d],amountToCheck:(0,s.X)(k,t?.decimals??18)}),D=(0,a.useMemo)(()=>k,[k]),{convertParams:V}=C(),H=(0,a.useMemo)(()=>(({baseFee:e,chainId:t,gasPrice:r,priorityFee:a,gasPriceOption:s,gasPriceSettings:i})=>{if(s!==j.BF.CUSTOM){let n=N.g[t][s];switch(i.model){case j.Rp.EIP1559:if(a&&e)return{maxPriorityFeePerGas:a*n/N.o,maxFeePerGas:e*n/N.o};break;case j.Rp.LEGACY:if(r)return{gasPrice:r*n/N.o}}}else switch(i.model){case j.Rp.EIP1559:return{maxPriorityFeePerGas:i.maxPriorityFeePerGas,maxFeePerGas:i.maxFeePerGas};case j.Rp.LEGACY:return{gasPrice:i.gasPrice}}})({baseFee:G,chainId:d,gasPrice:I,priorityFee:F,gasPriceOption:w,gasPriceSettings:R}),[G,d,I,F,w,R]);return{handleConvert:(0,a.useCallback)(async a=>{let n;if(c&&t){if(!B&&r===g.a.ERC20){L(v.eh.PENDING_APPROVE);let e=await _({customAmount:(0,s.X)(a,t?.decimals??18),customGasSettings:H});if(!e?.success)return void L(v.eh.INITIAL);if(M(e.hash),L(v.eh.LOADING_APPROVE),"reverted"===(await c.waitForTransactionReceipt({hash:e.hash})).status)return void L(v.eh.ERROR_APPROVE)}if(!e||!i||!t||!V)return void console.log({walletClient:e,address:i,token:t,output:D,publicClient:c,chainId:d,convertParams:V});L(v.eh.PENDING_CONVERT);try{let t,r=await c.estimateContractGas({account:i,...V}),a=x||r+BigInt(3e4);try{let{request:e,result:r}=await c.simulateContract({...V,account:i,...H,gas:a});console.log("Swap simulation result:",r),t=e}catch(e){t={...V,...H,gas:a,account:void 0}}if(n=await e.writeContract({...t,account:void 0})){if(S(n),L(v.eh.LOADING_CONVERT),await (0,A.h)({hash:n,publicClient:c})){let e=await c.waitForTransactionReceipt({hash:n});if(U(),"success"===e.status&&L(v.eh.SUCCESS),"reverted"===e.status){L(v.eh.ERROR_CONVERT);let t=a*BigInt(98)/BigInt(100);e.gasUsed>=t&&e.gasUsed<=a?O(v.Qq.OUT_OF_GAS):O(v.Qq.UNKNOWN)}}}else L(v.eh.INITIAL)}catch(e){console.log(e),(0,E.A)("Error while executing contract","error"),L(v.eh.INITIAL)}}},[i,_,d,V,x,H,B,D,c,M,O,S,L,t,r,U,e]),isAllowedA:B,handleApprove:()=>null}}},46455:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(94449),s=r.n(a),i=r(12115);let n=(e,t)=>{let r=(0,i.useRef)([]);s()(t,r.current)||(r.current=t),(0,i.useEffect)(e,[r.current])}},49381:(e,t,r)=>{"use strict";r.d(t,{default:()=>ep});var a,s=r(95155),i=r(29722),n=r(12115),o=r(16323),l=r(80339),c=r(71374),d=r(70536),m=r(22160),x=r(49235),g=r(14346),u=r(13390),p=r(31553),h=r(50879),f=r(36746),b=r(61451);let y={[r(88576).iF.MAINNET]:{symbol:"ETH",name:"Ethereum",logoURI:"/images/coins/ETH.svg"}};function v(){return y[(0,h.A)()]}var P=r(6356),E=r(36645),N=r(68147),j=r(20799),A=r(94522),w=r(10118),C=r(17931),R=r(9153),G=r(56296),F=r(45050),I=r(8151),k=r(48601),T=r(99693),L=r(88230),S=r.n(L),M=r(97619),O=r(46455),B=r(47450),_=r(64726);let U={success:(0,s.jsx)(F.A,{iconName:"success",className:"flex-shrink-0"}),info:(0,s.jsx)(F.A,{iconName:"info",className:"flex-shrink-0"}),error:(0,s.jsx)(F.A,{iconName:"warning",className:"flex-shrink-0"}),warning:(0,s.jsx)(F.A,{iconName:"warning",className:"flex-shrink-0"}),"info-border":(0,s.jsx)(F.A,{iconName:"info",className:"flex-shrink-0"})};function D({text:e,type:t="success",withIcon:r=!0,className:a=""}){return(0,s.jsxs)("div",{className:(0,_.B)(`
        relative
        flex
        outline
        rounded-2
        gap-2
        px-4
        md:px-5
        py-2
        overflow-hidden
        group
        text-14
        text-secondary-text
        `,"success"===t&&"outline-green bg-green-bg outline-1","error"===t&&"outline-red-light bg-red-bg outline-1","warning"===t&&"outline-orange bg-orange-bg outline-1","info"===t&&"outline-blue bg-blue-bg outline-1","info-border"===t&&"border-l-4 border-l-blue outline-0 bg-primary-bg pl-4",a),children:[r&&(0,s.jsx)("div",{className:(0,i.A)("flex justify-center flex-shrink-0 items-stretch","success"===t&&"text-green","error"===t&&"text-red-light","warning"===t&&"text-orange","info"===t&&"text-blue","info-border"===t&&"text-blue"),children:U[t]}),(0,s.jsx)("div",{className:"flex items-center",children:e})]})}var V=r(31335),H=r(14061),Y=((a=Y||{})[a.GREEN=0]="GREEN",a[a.PURPLE=1]="PURPLE",a);function W({checked:e,handleChange:t,small:r=!1,disabled:a=!1,colorScheme:n=0}){return(0,s.jsxs)("label",{className:(0,i.A)("relative inline-block w-12 h-6"),children:[(0,s.jsx)("input",{className:"peer appearance-none",disabled:a,checked:e,onChange:t,type:"checkbox"}),(0,s.jsx)("span",{className:(0,i.A)(`
          bg-secondary-bg
                      absolute
                      cursor-pointer
                      w-full
                      h-full
                      top-0
                      bottom-0
                      right-0
                      left-0
                      duration-200
                      peer-checked:hover:shadow
                      border-primary-border
                      border
                      rounded-5
                      peer-checked:before:translate-x-6
                      before:content-['']
                      before:absolute
                      before:top-[2px]
                      before:left-[2px]
                      before:h-[18px]
                      before:w-[18px]
                      before:bg-primary-border
                      before:rounded-full
                      before:duration-200
                  `,{0:"peer-hover:before:bg-green peer-checked:before:bg-green peer-hover:border-green peer-checked:border-green peer-checked:bg-green-bg peer-checked:hover:shadow-green/60",1:"peer-hover:before:bg-purple peer-checked:before:bg-purple peer-hover:border-purple peer-checked:border-purple peer-checked:bg-purple-bg peer-checked:hover:shadow-purple/60"}[n])})]})}var $=r(8769);function z({colorScheme:e=$.Q.GREEN,endIcon:t,children:r,className:a,...i}){return(0,s.jsxs)("button",{className:(0,_.B)("disabled:opacity-50 disabled:pointer-events-none disabled:text-tertiary-text rounded-2 flex items-center justify-center gap-2 px-6 duration-200","text-secondary-text ",{[$.Q.GREEN]:"hover:text-green-hover",[$.Q.PURPLE]:"hover:text-purple-hover"}[e],a),...i,children:[r,t&&(0,s.jsx)(F.A,{iconName:t})]})}function Q({gasPriceModel:e,setFieldValue:t}){let r=(0,h.A)(),{baseFee:a,priorityFee:i,gasPrice:n}=(0,b.K)();return(0,s.jsxs)("div",{className:"flex justify-between items-center pb-3 pt-3",children:[(0,s.jsx)("span",{children:(0,s.jsx)("span",{className:"hidden text-tertiary-text md:inline",children:"Custom gas settings"})}),(0,s.jsx)(z,{colorScheme:$.Q.PURPLE,onClick:()=>{let s=g.g[r][N.BF.CHEAP];e===N.Rp.EIP1559&&(a&&t("maxFeePerGas",(0,m.Q)(a*s/g.o)),i&&t("maxPriorityFeePerGas",(0,m.Q)(i*s/g.o))),e===N.Rp.LEGACY&&n&&t("gasPrice",(0,m.Q)(n*s/g.o))},type:"reset",endIcon:"reset",className:"pr-0",children:"Configure automatically"})]})}var X=r(24164);function q({errors:e,warnings:t}){return(0,s.jsx)(s.Fragment,{children:(!!e?.length||!!t?.length)&&(0,s.jsxs)("div",{className:"flex flex-col gap-5 mt-4",children:[e?.map(e=>(0,s.jsx)(D,{text:e,type:"error"},e)),t?.map(e=>(0,s.jsx)(D,{text:e,type:"warning"},e))]})})}function K({maxFeePerGas:e,maxPriorityFeePerGas:t,handleChange:r,handleBlur:a,currentMaxFeePerGas:i,setMaxFeePerGasValue:o,setMaxPriorityFeePerGasValue:l,currentMaxPriorityFeePerGas:c,maxFeePerGasError:d,maxFeePerGasWarning:x,maxPriorityFeePerGasError:g,maxPriorityFeePerGasWarning:u,helperButtonText:p="Current"}){let h=(0,n.useMemo)(()=>{let e=[];return[g,d].forEach(t=>{t&&e.push(t)}),e},[d,g]),f=(0,n.useMemo)(()=>{let e=[];return[u,x].forEach(t=>{t&&e.push(t)}),e},[x,u]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"grid gap-3 grid-cols-2",children:[(0,s.jsx)(I.Ay,{isNumeric:!0,isError:!!d,isWarning:!!x,placeholder:"Max fee",label:"Max fee",name:"maxFeePerGas",id:"maxFeePerGas",tooltipText:"The amount of fee that you are going to pay is calculated as (baseFee + priorityFee) * gasUsed. Base fee is determined by the network load. Priority fee is determined by the sender of the transaction. Gas requirement is determined by the type of action your transaction performs.  Max fee sets the upper bound of the payment that you allow your transaction to consume in total. The transaction will not confirm until the base fee in the network is small enough to allow your transaction to submit without exceeding max fee.",value:e,onChange:e=>{r(e)},onBlur:e=>{a(e)},helperText:(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{i&&o((0,m.Q)(i))},className:"text-green duration-200 hover:text-green-hover",children:p})," ",i?(0,R.kr)((0,m.Q)(i)):"0"," Gwei"]}),inputSize:X.YI.DEFAULT}),(0,s.jsx)(I.Ay,{isNumeric:!0,isError:!!g,isWarning:!!u,placeholder:"Priority fee",label:"Priority fee",name:"maxPriorityFeePerGas",id:"maxPriorityFeePerGas",tooltipText:"The amount of fee that you are going to pay is calculated as (baseFee + priorityFee) * gasUsed. Higher priority fee may reduce the amount of time needed for your transaction to submit if the network load is sufficiently low to satisfy the max fee criteria.",value:t,onChange:e=>{r(e)},onBlur:e=>{a(e)},helperText:(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{c&&l((0,m.Q)(c))},className:"text-green duration-200 hover:text-green-hover",children:p})," ",c?(0,R.kr)((0,m.Q)(c)):"0"," ","Gwei"]}),inputSize:X.YI.DEFAULT})]}),(0,s.jsx)(q,{errors:h,warnings:f})]})}function J({value:e,setFieldValue:t,onChange:r,onBlur:a,estimatedGas:i,gasLimitError:o}){let l=(0,n.useMemo)(()=>{let e=[];return[o].forEach(t=>{t&&e.push(t)}),e},[o]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(I.Ay,{isNumeric:!0,decimalScale:0,placeholder:"Gas limit",label:"Gas limit",name:"gasLimit",id:"gasLimit",tooltipText:"The amount of fee that you are going to pay is calculated as (baseFee + priorityFee) * gasUsed.  Gas Limit sets the upper bound for gasUsed variable in this formula. If your transaction will consume less gas than the Gas Limit then you will only pay for the gas required for your transaction to submit and the rest will be refunded.  Setting a low Gas Limit may result in transaction failure if the amount of actions triggered by this transaction require more gas than specified with Gas Limit.",value:e,onChange:r,onBlur:a,isError:!!o,helperText:(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("button",{type:"button",onClick:e=>{t(i?i.toString():"100000")},className:"text-green duration-200 hover:text-green-hover",children:"Estimated"})," ",i?i?.toString():1e5," Gwei"]}),inputSize:X.YI.DEFAULT}),(0,s.jsx)(q,{errors:l})]})}function Z({onClick:e,gasPriceGWEI:t,gasPriceCurrency:r,tooltipText:a,title:n,iconName:o,customContent:l,isActive:c,disabled:d}){return(0,s.jsxs)("div",{onClick:e,className:(0,i.A)("w-full rounded-3 bg-tertiary-bg group cursor-pointer",c&&"cursor-auto",d&&"pointer-events-none"),children:[(0,s.jsxs)("div",{className:(0,i.A)("flex justify-between px-5 items-center min-h-12 md:min-h-[60px] duration-200",l?"border-primary-bg rounded-t-3 border-b":"border-primary-bg rounded-3",!c&&"group-hover:bg-green-bg",d&&"opacity-50"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:(0,i.A)("w-4 h-4 duration-200 before:duration-200 border bg-secondary-bg rounded-full before:w-2.5 before:h-2.5 before:absolute before:top-1/2 before:rounded-full before:left-1/2 before:-translate-x-1/2 before:-translate-y-1/2 relative",c?"border-green before:bg-green":"border-secondary-border group-hover:border-green")}),(0,s.jsx)("span",{className:(0,i.A)(c?"text-green":"text-tertiary-text group-hover:text-primary-text","duration-200"),children:(0,s.jsx)(F.A,{iconName:o})}),(0,s.jsx)("div",{className:"flex flex-col md:flex-row md:items-center md:gap-2",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:(0,i.A)(c?"text-primary-text":"text-secondary-text group-hover:text-primary-text","duration-200 font-bold text-14 md:text-16"),children:n}),(0,s.jsx)("span",{className:"text-tertiary-text",children:(0,s.jsx)(k.A,{iconSize:20,text:a})})]})})]}),(0,s.jsxs)("div",{className:"flex flex-col items-end gap-0.5",children:[(0,s.jsx)("span",{className:(0,i.A)(c?"text-primary-text":"text-secondary-text group-hover:text-primary-text","duration-200  text-12 md:text-16"),children:r}),(0,s.jsx)("span",{className:(0,i.A)("text-tertiary-text","duration-200  text-12 md:text-14"),children:t})]})]}),l]})}function ee({value:e,onChange:t,onBlur:r,gasPrice:a,setFieldValue:i,legacyGasPriceError:o,legacyGasPriceWarning:l}){let c=(0,n.useMemo)(()=>{let e=[];return[o].forEach(t=>{t&&e.push(t)}),e},[o]),d=(0,n.useMemo)(()=>{let e=[];return[l].forEach(t=>{t&&e.push(t)}),e},[l]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(I.Ay,{isNumeric:!0,placeholder:"Gas price",label:"Gas price",name:"gasPrice",id:"gasPrice",tooltipText:" The amount of fee that you are going to pay with legacy transaction is calculated as gasPrice * gasUsed.  Your transaction will not confirm until your gasPrice is higher or equal to the gas price of the network in the last block. ",value:e,onChange:t,onBlur:r,helperText:(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{a&&i((0,m.Q)(a))},className:"text-green duration-200 hover:text-green-hover",children:"Current"})," ",a?(0,R.kr)((0,m.Q)(a)):"0"," Gwei"]}),inputSize:X.YI.DEFAULT}),(0,s.jsx)(q,{errors:c,warnings:d})]})}let et={[N.BF.CHEAP]:"Cheaper",[N.BF.FAST]:"Faster",[N.BF.CUSTOM]:"Custom"},er={[N.BF.CHEAP]:"cheap-gas",[N.BF.FAST]:"fast-gas",[N.BF.CUSTOM]:"custom-gas"},ea=[N.BF.CHEAP,N.BF.FAST,N.BF.CUSTOM];function es(e,t,r,a){return e===N.BF.CUSTOM&&r?(0,m.Q)(r):t?(0,m.Q)(t*g.g[a][N.BF.CHEAP]/g.o):""}let ei={[N.BF.CHEAP]:"GAS values will be set to minimize the fee you are going to pay. It might result in the transaction being pending for longer before confirming.",[N.BF.CUSTOM]:"With custom transaction configuration you can set the gas values manually.",[N.BF.FAST]:"GAS values will be set to minimize the amount of time your transaction will take to confirm. It might result in higher gas fee payment."};function en({isAdvanced:e,setIsOpen:t,gasPriceOption:r,gasPriceSettings:a,setGasPriceSettings:o,setGasPriceOption:l,estimatedGas:x,customGasLimit:u,setCustomGasLimit:p}){let f=(0,h.A)(),{baseFee:y,priorityFee:P,gasPrice:E}=(0,b.K)();(0,O.A)(()=>{if(r===N.BF.CHEAP){if(a.model===N.Rp.EIP1559&&!a.maxFeePerGas&&y&&!a.maxPriorityFeePerGas&&P){let e=g.g[f][N.BF.CHEAP];o({model:N.Rp.EIP1559,maxFeePerGas:y*e/g.o,maxPriorityFeePerGas:P*e/g.o})}if(a.model===N.Rp.LEGACY&&!a.gasPrice&&E){let e=g.g[f][N.BF.CHEAP];o({model:N.Rp.LEGACY,gasPrice:E*e/g.o})}}},[y,P]);let j=(0,n.useCallback)(e=>{if((!y||!P)&&!E)return;let{option:t}=e;l(t),t===N.BF.CUSTOM&&o(e.gasSettings)},[y,E,P,l,o]),A=(0,n.useCallback)(()=>{t(!1)},[t]),[w,C]=(0,n.useState)(!1);(0,n.useEffect)(()=>{y&&P&&E&&(a.model===N.Rp.EIP1559&&a.maxFeePerGas&&a.maxPriorityFeePerGas&&C(!0),a.model===N.Rp.LEGACY&&a.gasPrice&&C(!0))},[E,P,y,a]);let F=v(),{handleChange:I,handleBlur:L,touched:S,values:_,setFieldValue:U,handleSubmit:V,handleReset:H}=(0,T.Wx)({enableReinitialize:!w,initialValues:{maxFeePerGas:es(r,y,a.model===N.Rp.EIP1559?a.maxFeePerGas:void 0,f),maxPriorityFeePerGas:es(r,P,a.model===N.Rp.EIP1559?a.maxPriorityFeePerGas:void 0,f),gasPrice:es(r,E,a.model===N.Rp.LEGACY?a.gasPrice:void 0,f),gasPriceOption:r,gasPriceModel:a.model,gasLimit:u?u.toString():x.toString()},onSubmit:(r,a)=>{r.gasPriceOption!==N.BF.CUSTOM?j({option:r.gasPriceOption}):(r.gasPriceModel===N.Rp.EIP1559?j({option:N.BF.CUSTOM,gasSettings:{model:N.Rp.EIP1559,maxFeePerGas:(0,c._)(r.maxFeePerGas),maxPriorityFeePerGas:(0,c._)(r.maxPriorityFeePerGas)},gasLimit:BigInt(r.gasLimit)}):r.gasPriceModel===N.Rp.LEGACY&&j({option:N.BF.CUSTOM,gasSettings:{model:N.Rp.LEGACY,gasPrice:(0,c._)(r.gasPrice)},gasLimit:BigInt(r.gasLimit)}),e&&p(BigInt(r.gasLimit))),t(!1),(0,B.A)("Settings applied")}}),{maxFeePerGasError:Y,maxFeePerGasWarning:W,maxPriorityFeePerGasError:$,maxPriorityFeePerGasWarning:z,legacyGasPriceError:X,legacyGasPriceWarning:q,gasLimitError:en}=function({...e}){let{baseFee:t,priorityFee:r,gasPrice:a}=(0,b.K)(),s=(0,n.useMemo)(()=>t&&(0,c._)(e.maxFeePerGas)<t?"Max fee per gas is too low for current network condition":void 0,[t,e.maxFeePerGas]),i=(0,n.useMemo)(()=>t&&(0,c._)(e.maxFeePerGas)>t*BigInt(3)?"Max fee per gas is unnecessarily high for current network condition":void 0,[t,e.maxFeePerGas]),o=(0,n.useMemo)(()=>(0,c._)(e.maxPriorityFeePerGas)===BigInt(0)?"Max priority fee per gas is too low for current network condition":void 0,[e.maxPriorityFeePerGas]),l=(0,n.useMemo)(()=>r&&(0,c._)(e.maxPriorityFeePerGas)>r*BigInt(3)?"Max priority fee per gas is unnecessarily high for current network condition":void 0,[r,e.maxPriorityFeePerGas]),d=(0,n.useMemo)(()=>a&&(0,c._)(e.gasPrice)<a?"Gas price is too low for current network condition":void 0,[a,e.gasPrice]);return{maxFeePerGasError:s,maxFeePerGasWarning:i,maxPriorityFeePerGasError:o,maxPriorityFeePerGasWarning:l,legacyGasPriceError:d,legacyGasPriceWarning:(0,n.useMemo)(()=>a&&(0,c._)(e.gasPrice)>a*BigInt(3)?"Gas price is unnecessarily high for current network condition":void 0,[a,e.gasPrice]),gasLimitError:(0,n.useMemo)(()=>BigInt(e.gasLimit)<e.estimatedGas?"Gas limit is lower then recommended":void 0,[e.gasLimit,e.estimatedGas])}}({maxFeePerGas:_.maxFeePerGas,maxPriorityFeePerGas:_.maxPriorityFeePerGas,gasPrice:_.gasPrice,gasLimit:_.gasLimit,estimatedGas:x}),eo=(0,n.useCallback)(e=>{if(e===N.BF.CUSTOM&&(y||E)){if(_.gasPriceModel===N.Rp.LEGACY)return(0,c._)(_.gasPrice);if(_.gasPriceModel===N.Rp.EIP1559)return(0,c._)(_.maxFeePerGas)}if(e!==N.BF.CUSTOM&&(y||E)){if(_.gasPriceModel===N.Rp.EIP1559&&y)return y*g.g[f][e]/g.o;if(E)return E*g.g[f][e]/g.o}return BigInt(0)},[y,f,E,_.gasPrice,_.gasPriceModel,_.maxFeePerGas]);return(0,s.jsxs)("form",{className:"max-md:h-[calc(100%-60px)]",onSubmit:V,children:[(0,s.jsx)("div",{className:"max-md:h-[calc(100%-80px)] overflow-auto flex flex-col gap-2 card-spacing-x",children:ea.map(t=>{let r=(0,R.kr)((0,d.c)(eo(t)*x));return(0,s.jsx)(Z,{gasPriceGWEI:`${(0,R.kr)((0,m.Q)(eo(t)))} GWEI`,gasPriceCurrency:`${r} ${F.symbol}`,tooltipText:ei[t],title:et[t],iconName:er[t],customContent:t===N.BF.CUSTOM?(0,s.jsxs)("div",{className:(0,i.A)(_.gasPriceOption!==N.BF.CUSTOM&&"opacity-30 pointer-events-none"),children:[!e&&(0,M.R)(f)&&(0,s.jsxs)("div",{className:(0,i.A)("px-5 pb-4"),children:[(0,s.jsx)(Q,{gasPriceModel:_.gasPriceModel,setFieldValue:U}),(0,s.jsx)(K,{maxPriorityFeePerGas:_.maxPriorityFeePerGas,maxFeePerGas:_.maxFeePerGas,setMaxFeePerGasValue:e=>U("maxFeePerGas",e),setMaxPriorityFeePerGasValue:e=>U("maxPriorityFeePerGas",e),currentMaxFeePerGas:y,currentMaxPriorityFeePerGas:P,handleChange:I,handleBlur:L,maxFeePerGasError:Y,maxFeePerGasWarning:W,maxPriorityFeePerGasError:$,maxPriorityFeePerGasWarning:z})]}),!e&&!(0,M.R)(f)&&(0,s.jsxs)("div",{className:(0,i.A)("px-5 pb-4"),children:[(0,s.jsx)(Q,{gasPriceModel:_.gasPriceModel,setFieldValue:U}),(0,s.jsx)(ee,{value:_.gasPrice,onChange:e=>{I(e)},onBlur:e=>{L(e)},gasPrice:E,setFieldValue:e=>U("gasPrice",e),legacyGasPriceError:X,legacyGasPriceWarning:q})]}),e&&!(0,M.R)(f)&&(0,s.jsxs)("div",{className:(0,i.A)("px-5 pb-4 flex flex-col gap-4"),children:[(0,s.jsx)(Q,{gasPriceModel:_.gasPriceModel,setFieldValue:U}),(0,s.jsx)(ee,{value:_.gasPrice,onChange:e=>{I(e)},onBlur:e=>{L(e)},gasPrice:E,setFieldValue:e=>U("gasPrice",e),legacyGasPriceError:X,legacyGasPriceWarning:q}),(0,s.jsx)(J,{onChange:e=>U("gasLimit",e.target.value),onBlur:e=>L(e),setFieldValue:e=>U("gasLimit",e),value:_.gasLimit,estimatedGas:x,gasLimitError:en})]}),e&&(0,M.R)(f)&&(0,s.jsxs)("div",{className:"px-5 pb-4",children:[(0,s.jsx)(Q,{gasPriceModel:_.gasPriceModel,setFieldValue:U}),(0,s.jsxs)("div",{className:"pb-5",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-1 p-1 rounded-3 bg-secondary-bg mb-4",children:[(0,s.jsxs)("button",{type:"button",className:(0,i.A)(_.gasPriceModel===N.Rp.EIP1559?"bg-green-bg border-green":"bg-primary-bg border-transparent","flex flex-col gap-1 justify-center group/button items-center py-3 px-5 border group  rounded-3 duration-200","hover:bg-green-bg"),onClick:()=>U("gasPriceModel",N.Rp.EIP1559),children:[(0,s.jsxs)("span",{className:(0,i.A)("flex items-center gap-1",_.gasPriceModel!==N.Rp.EIP1559&&"text-secondary-text"),children:["EIP-1559",(0,s.jsx)(k.A,{text:"There are two types of transactions: EIP-1559 and legacy. The type of transaction affects the formula for gas payments calculation. EIP-1559 transactions are recommended for networks and wallets that have it supported."})]}),(0,s.jsx)("span",{className:(0,i.A)("text-12 duration-200",_.gasPriceModel===N.Rp.EIP1559?"text-secondary-text ":"text-tertiary-text group-hover/button:text-secondary-text"),children:"Network Fee = gasLimit \xd7 (Base Fee + PriorityFee)"})]}),(0,s.jsxs)("button",{type:"button",className:(0,i.A)(_.gasPriceModel===N.Rp.LEGACY?"bg-green-bg border-green":"bg-primary-bg border-transparent","flex flex-col gap-1 justify-center group/button items-center py-3 px-5 border group  rounded-3 duration-200","hover:bg-green-bg"),onClick:()=>U("gasPriceModel",N.Rp.LEGACY),children:[(0,s.jsxs)("span",{className:(0,i.A)("flex items-center gap-1",_.gasPriceModel!==N.Rp.LEGACY&&"text-secondary-text"),children:["Legacy"," ",(0,s.jsx)(k.A,{text:"There are two types of transactions: EIP-1559 and legacy. The type of transaction affects the formula for gas payments calculation. Legacy transactions allow you to determine the exact gasPrice you are going to pay. EIP-1559 transactions are recommended for networks that support it."})]}),(0,s.jsx)("span",{className:(0,i.A)("text-12 duration-200",_.gasPriceModel===N.Rp.LEGACY?"text-secondary-text ":"text-tertiary-text group-hover/button:text-secondary-text"),children:"Network Fee = gasLimit \xd7 gasPrice"})]})]}),_.gasPriceModel===N.Rp.EIP1559&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(K,{maxPriorityFeePerGas:_.maxPriorityFeePerGas,maxFeePerGas:_.maxFeePerGas,setMaxFeePerGasValue:e=>U("maxFeePerGas",e),setMaxPriorityFeePerGasValue:e=>U("maxPriorityFeePerGas",e),currentMaxFeePerGas:y,currentMaxPriorityFeePerGas:P,handleChange:I,handleBlur:L,maxFeePerGasError:Y,maxFeePerGasWarning:W,maxPriorityFeePerGasError:$,maxPriorityFeePerGasWarning:z}),(0,s.jsx)("div",{className:"mt-5",children:(0,s.jsx)(D,{text:"Ð¡hanging Priority Fee only in order to make transaction cheaper or speed it up at a cost of paying higher fee.",type:"info-border"})})]}),_.gasPriceModel===N.Rp.LEGACY&&(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(ee,{value:_.gasPrice,onChange:e=>{I(e)},onBlur:e=>{L(e)},gasPrice:E,setFieldValue:e=>U("gasPrice",e),legacyGasPriceError:X,legacyGasPriceWarning:q})})]}),(0,s.jsx)(J,{onChange:e=>U("gasLimit",e.target.value),onBlur:e=>L(e),setFieldValue:e=>U("gasLimit",e),value:_.gasLimit,estimatedGas:x,gasLimitError:en})]})]}):void 0,isActive:_.gasPriceOption===t,onClick:()=>U("gasPriceOption",t)},t)})}),(0,s.jsxs)("div",{className:"px-4 mb-4 md:px-10 md:mb-10 pt-4 grid grid-cols-2 gap-3",children:[(0,s.jsx)(G.Ay,{type:"button",fullWidth:!0,onClick:A,colorScheme:G.mq.LIGHT_GREEN,children:"Cancel"}),(0,s.jsx)(G.Ay,{disabled:!!(!e&&(Y||$)&&_.gasPriceOption===N.BF.CUSTOM&&_.gasPriceModel===N.Rp.EIP1559||en||!e&&_.gasPriceOption===N.BF.CUSTOM&&_.gasPriceModel===N.Rp.LEGACY&&X),type:"submit",fullWidth:!0,children:"Apply"})]})]})}function eo({isOpen:e,setIsOpen:t,isAdvanced:r,setIsAdvanced:a,...i}){let[o,l]=(0,n.useState)("auto"),c=(0,n.useRef)(null);return(0,n.useEffect)(()=>{if(!c.current)return;let e=()=>{let e=c.current?.scrollHeight;e&&(e>window.innerHeight&&window.innerWidth<768?l("100dvh"):l("auto"))};e();let t=S()(e,300);return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t),t.cancel()}},[r]),(0,s.jsx)(H.A,{isOpen:e,setIsOpen:t,children:(0,s.jsxs)("div",{ref:c,className:"w-full md:w-[800px] duration-200 overflow-hidden",style:{height:o},children:[(0,s.jsx)(V.A,{onClose:()=>t(!1),title:"Gas settings",settings:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-12",children:"Advanced mode"}),(0,s.jsx)(W,{checked:r,handleChange:()=>a(!r)})]})}),(0,s.jsx)(en,{...i,setIsOpen:t,isAdvanced:r})]})})}var el=r(87531),ec=r(57981);function ed({tokenAddress:e,standard:t,chainId:r}){return(0,s.jsxs)("div",{className:"flex text-10",children:[(0,s.jsx)(k.A,{renderTrigger:(e,r)=>(0,s.jsx)("div",{onClick:e=>e.stopPropagation(),ref:e.setReference,...r,className:"whitespace-nowrap border rounded-l-2 border-secondary-border bg-quaternary-bg px-2 flex items-center text-secondary-text cursor-pointer",children:t}),iconSize:16,text:(u.a.ERC20,"Text")}),(0,s.jsxs)("a",{href:(0,ec.A)(ec.I.ADDRESS,e,r),target:"_blank",className:"bg-quaternary-bg pl-2 pr-1 flex gap-1 py-px text-secondary-text hover:text-primary-text hover:bg-green-bg duration-200 border border-secondary-border rounded-r-2 items-center border-l-0",children:[e&&`${e.slice(0,6)}...${e.slice(-6)}`,(0,s.jsx)(F.A,{size:16,iconName:"forward"})]})]})}function em({token:e}){return(0,s.jsxs)("div",{className:"flex gap-2 flex-col md:flex-row",children:[(0,s.jsx)(ed,{tokenAddress:e.address0,standard:u.a.ERC20,chainId:e?.chainId}),(0,s.jsx)(ed,{tokenAddress:e.address1,standard:u.a.ERC223,chainId:e.chainId})]})}function ex({token:e}){return(0,s.jsxs)("div",{className:"bg-tertiary-bg pt-2.5 pb-3.5 px-5 @container relative z-20 rounded-3",children:[(0,s.jsx)("div",{className:"flex justify-between gap-x-4",children:(0,s.jsx)("div",{className:"flex items-center justify-between flex-wrap sm:flex-nowrap flex-grow gap-2",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("img",{src:e.logoURI||"/images/tokens/placeholder.svg",alt:"Ethereum",className:"flex-shrink-0 w-8 h-8"}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("div",{className:"flex gap-2 items-center",children:(0,s.jsx)("div",{className:"table table-fixed w-full",children:(0,s.jsx)("span",{className:"table-cell overflow-hidden overflow-ellipsis whitespace-nowrap",children:e.name})})}),(0,s.jsx)("div",{className:"text-secondary-text text-12",children:(0,s.jsx)("div",{className:"table table-fixed w-full",children:(0,s.jsx)("span",{className:"table-cell overflow-hidden overflow-ellipsis whitespace-nowrap",children:e.symbol})})})]})]})})}),(0,s.jsx)("div",{className:"w-full mt-2",children:(0,s.jsx)(em,{token:e})})]})}function eg({symbol:e,standard:t}){return(0,s.jsxs)("div",{className:"pl-5 pr-4 py-2.5 rounded-3 bg-quaternary-bg flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex text-secondary-text text-16 md:text-18 gap-1 items-center",children:[(0,s.jsx)("span",{className:t===u.a.ERC20?"text-purple font-medium":"text-green font-semibold",children:t})," ",e]}),(0,s.jsx)(k.A,{text:"Text"})]})}function eu({standard:e}){return(0,s.jsx)("span",{className:e===u.a.ERC20?"text-purple ":"text-green font-semibold",children:e})}function ep(){let e=(0,h.A)(),{setIsOpen:t}=(0,j.Q)(),{typedValue:r,setTypedValue:a}=(0,A.k)(),{token:y,tokenStandard:T,setTokenStandard:L,setToken:S,switchStandard:M}=(0,C.y)(),{balance:O}=(0,P.A)(y);(0,p.Qv)();let B=(0,n.useMemo)(()=>T===u.a.ERC20?(0,R.kr)(O?.erc20Balance?.formatted||0):(0,R.kr)(O?.erc223Balance?.formatted||0),[O?.erc20Balance?.formatted,O?.erc223Balance?.formatted,T]),_=(0,n.useMemo)(()=>!!(r&&y&&T===u.a.ERC20&&O.erc20Balance&&O.erc20Balance.value>=(0,o.X)(r,y.decimals))||!!(r&&y&&T===u.a.ERC223&&O.erc223Balance&&O.erc223Balance.value>=(0,o.X)(r,y.decimals)),[O,y,T,r]);console.log(O);let[U,D]=(0,n.useState)(!1),{gasPriceSettings:V,gasPriceOption:H,setGasPriceOption:Y,setGasPriceSettings:W,updateDefaultState:$}=(0,w.SF)();(0,n.useEffect)(()=>{$(e)},[e,$]);let{customGasLimit:z,estimatedGas:Q,setCustomGasLimit:X,setEstimatedGas:q}=(0,w.mc)(),{isAdvanced:K,setIsAdvanced:J}=(0,w.UF)(),[Z,ee]=(0,n.useState)(""),et=(0,E.A)(),er=(0,n.useMemo)(()=>{if(Z&&et)return et.find(e=>e.address0.toLowerCase()===Z.toLowerCase()||e.address1.toLowerCase()===Z.toLowerCase())},[et,Z]),{isLoading:ea,token:es}=(0,f.A)({tokenAddressToImport:Z,enabled:!!Z&&(0,l.P)(Z)&&!er});console.log("Loading derived token...",ea),(0,n.useEffect)(()=>{let e=er||es;Z&&(0,l.P)(Z)&&e&&(S(e),Z.toLowerCase()===e.address1.toLowerCase()?L(u.a.ERC223):L(u.a.ERC20))},[Z,es,S,L,er]);let{baseFee:ei,priorityFee:en,gasPrice:ec}=(0,b.K)(),ed=v(),em=(0,n.useCallback)(()=>{if(H===N.BF.CUSTOM){if(V.model===N.Rp.LEGACY&&ec)return(0,c._)(ec.toString());if(V.model===N.Rp.EIP1559&&V.maxFeePerGas)return(0,c._)(V.maxFeePerGas.toString())}if(H!==N.BF.CUSTOM&&(ei||ec)){if(V.model===N.Rp.EIP1559&&ei)return ei*g.g[e][H]/g.o;if(ec)return ec*g.g[e][H]/g.o}return BigInt(0)},[ei,e,ec,ec,H,V]),ep=(0,n.useMemo)(()=>(0,R.kr)((0,d.c)(em()*Q)),[Q,em]),eh=(0,n.useMemo)(()=>`${(0,R.kr)((0,m.Q)(em()))} GWEI`,[em]),ef=(0,n.useMemo)(()=>`${ep} ${ed.symbol}`,[ep,ed.symbol]);return(0,s.jsxs)("div",{className:"max-w-[680px] mx-auto",children:[(0,s.jsxs)("h1",{className:"gap-1 text-28 md:text-40 font-medium mb-2 mt-4 md:mt-10 text-center",children:["ERC-20 ",(0,s.jsx)(F.A,{className:"inline",iconName:"swap"})," ERC-223 token converter"]}),(0,s.jsxs)("p",{className:"text-secondary-text text-center",children:["This is a token converter that converts ERC-20 tokens to ERC-223. It can also convert ERC-223 tokens back to ERC-20 at any time. No fees are charged."," "]}),(0,s.jsx)("p",{className:"text-secondary-text text-center mb-3 md:mb-8",children:"Read more about the conversion process"}),(0,s.jsxs)("div",{className:"card-spacing-x card-spacing-y rounded-5 bg-primary-bg flex flex-col gap-4",children:[(0,s.jsxs)("div",{className:"bg-tertiary-bg px-4 md:px-5 py-3 rounded-3",children:[(0,s.jsx)("h2",{className:"text-16 md:text-20 font-medium mb-1",children:"Select token to convert"}),(0,s.jsx)("div",{className:ea?"opacity-50 pointer-events-none":"",children:(0,s.jsx)(el.A,{onPick:()=>{ee("")}})}),(0,s.jsx)("div",{className:"relative mt-1 flex justify-center before:absolute before:left-0 before:h-px before:w-full before:top-1/2 before:-translate-y-1/2 before:bg-secondary-border",children:(0,s.jsx)("span",{className:"block bg-tertiary-bg px-2 relative z-10 text-tertiary-text",children:"OR"})}),(0,s.jsx)(I.Ay,{value:Z,onChange:e=>{ee(e.target.value)},label:"",placeholder:"Enter token contract address"})]}),(0,s.jsxs)("div",{className:(0,i.A)("bg-tertiary-bg flex flex-col md:grid md:grid-cols-[1fr_48px_1fr] rounded-3 px-4 md:px-5  pb-4 md:pb-5 pt-3 gap-6 md:gap-3 relative",ea&&"opacity-50 pointer-events-none"),children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"mb-1 text-16 md:text-20  font-medium",children:"You send"}),(0,s.jsx)(eg,{symbol:y?.symbol,standard:T})]}),(0,s.jsx)("div",{className:"flex items-end max-md:absolute max-md:top-1/2 max-md:left-1/2 max-md:-translate-x-1/2 max-md:-translate-y-[9px]",children:(0,s.jsx)("button",{onClick:M,className:"bg-secondary-bg w-10 md:w-12 h-10 md:h-12 flex items-center justify-center rounded-3 text-green hover:text-[#A5E7E6] cursor-pointer duration-200",children:(0,s.jsx)(F.A,{iconName:"swap"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"mb-1 text-16 md:text-20 font-medium",children:"You receive"}),(0,s.jsx)(eg,{symbol:y?.symbol,standard:T===u.a.ERC20?u.a.ERC223:u.a.ERC20})]})]}),(0,s.jsxs)("div",{className:(0,i.A)("bg-tertiary-bg rounded-3 px-4 md:px-5  py-3",ea&&"opacity-50 pointer-events-none"),children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("p",{className:"text-16 md:text-20 font-medium",children:"Enter amount"}),(0,s.jsx)(G.Ay,{size:G.Mp.EXTRA_SMALL,colorScheme:G.mq.LIGHT_GREEN,onClick:()=>{O.erc20Balance&&T===u.a.ERC20&&a({typedValue:(0,x.J)(O.erc20Balance.value,y?.decimals??18)}),O.erc223Balance&&T===u.a.ERC223&&a({typedValue:(0,x.J)(O.erc223Balance.value,y?.decimals??18)})},children:"Max"})]}),(0,s.jsx)(I.Ay,{value:r,onChange:e=>{a({typedValue:e.target.value})},internalText:y?.symbol,label:"",placeholder:"0",helperText:y?(0,s.jsxs)("span",{children:[(0,s.jsx)("span",{className:"text-tertiary-text",children:"Balance:"})," ",B," ",y.symbol||"Unknown"]}):""})]}),(0,s.jsxs)("div",{className:(0,i.A)("bg-tertiary-bg rounded-3 border border-blue px-4 md:px-5  py-3 flex items-center gap-2",ea&&"opacity-50 pointer-events-none"),children:[(0,s.jsx)(F.A,{className:"text-blue shrink-0",iconName:"convert"}),(0,s.jsxs)("p",{children:["You are converting your ",(0,s.jsx)(eu,{standard:T})," tokens to"," ",(0,s.jsx)(eu,{standard:T===u.a.ERC20?u.a.ERC223:u.a.ERC20})," ","tokens"]})]}),(0,s.jsx)("div",{className:(0,i.A)("bg-tertiary-bg rounded-3 overflow-hidden",ea&&"opacity-50 pointer-events-none"),children:(0,s.jsxs)("button",{onClick:()=>D(!U),className:"w-full min-h-12 flex items-center justify-between px-4 md:px-5 py-2.5  hover:bg-green-bg cursor-pointer duration-200",children:[(0,s.jsxs)("span",{className:"flex items-center gap-x-2 max-md: flex-wrap",children:[(0,s.jsx)(k.A,{iconSize:20,text:"Text"}),(0,s.jsx)("span",{className:"text-secondary-text block mr-1",children:"Network fee"}),(0,s.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,s.jsx)("span",{children:ef}),(0,s.jsx)("div",{className:"w-px h-4 bg-primary-border"}),(0,s.jsx)("span",{className:"text-tertiary-text",children:eh})]})]})," ",(0,s.jsx)(F.A,{iconName:"small-expand-arrow"})]})}),(0,s.jsx)(G.Ay,{disabled:ea||!r||!_,fullWidth:!0,onClick:()=>t(!0),children:ea?"Loading...":(0,s.jsx)(s.Fragment,{children:r?(0,s.jsxs)(s.Fragment,{children:[" ",_?(0,s.jsxs)(s.Fragment,{children:["Convert ",y?.symbol," to"," ",T===u.a.ERC223?"ERC-20":"ERC-223"]}):"Insufficient balance"]}):"Enter amount"})})]}),(0,s.jsxs)("div",{className:"mt-3 md:mt-8",children:[(0,s.jsx)("p",{className:"mb-1 font-bold",children:"Token contract addresses"}),y&&(0,s.jsx)(ex,{token:y})]}),(0,s.jsx)(eo,{isAdvanced:K,setIsAdvanced:J,estimatedGas:Q,setEstimatedGas:q,gasPriceSettings:V,gasPriceOption:H,customGasLimit:z,setCustomGasLimit:X,setGasPriceOption:Y,setGasPriceSettings:W,isOpen:U,setIsOpen:D})]})}},56296:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>p,Mp:()=>l,mq:()=>c});var a,s,i=r(95155),n=r(64726),o=r(45050),l=((a={})[a.EXTRA_SMALL=20]="EXTRA_SMALL",a[a.SMALL=32]="SMALL",a[a.MEDIUM=40]="MEDIUM",a[a.LARGE=48]="LARGE",a[a.EXTRA_LARGE=60]="EXTRA_LARGE",a),c=((s={})[s.GREEN=0]="GREEN",s[s.RED=1]="RED",s[s.LIGHT_GREEN=2]="LIGHT_GREEN",s[s.LIGHT_RED=3]="LIGHT_RED",s[s.LIGHT_YELLOW=4]="LIGHT_YELLOW",s[s.PURPLE=5]="PURPLE",s[s.LIGHT_PURPLE=6]="LIGHT_PURPLE",s);let d={contained:{1:"bg-red text-primary-text hover:bg-red-hover",0:"bg-green text-black hover:bg-green-hover",3:"bg-red-bg text-secondary-text border-transparent border hover:border-red-light hover:bg-red-bg-hover hover:text-primary-text",4:"bg-yellow-bg text-secondary-text border-transparent border hover:border-yellow-light hover:bg-yellow-bg-hover hover:text-primary-text",2:"bg-green-bg text-secondary-text border-transparent border hover:border-green hover:bg-green-bg-hover hover:text-primary-text",6:"bg-purple-bg text-secondary-text border-transparent border hover:border-purple-hover hover:bg-purple-bg-hover hover:text-primary-text",5:"bg-purple text-secondary-bg hover:bg-purple-hover"},outlined:{1:"border border-primary text-secondary-text hover:bg-red-bg hover:border-primary-text hover:text-primary-text",0:"border border-green text-primary-text hover:bg-green-bg",3:"bg-red-light text-black hover:bg-red-hover",4:"bg-yellow-light text-black hover:bg-red-hover",2:"bg-green-bg text-primary-text border-transparent border hover:border-green",5:"bg-red-bg text-secondary-text border-transparent border hover:border-red-light hover:bg-red-bg-hover hover:text-primary-text",6:"bg-red-bg text-secondary-text border-transparent border hover:border-red-light hover:bg-red-bg-hover hover:text-primary-text"}},m={20:"lg:text-12 lg:min-h-5 lg:rounded-20 lg:px-4",32:"lg:text-14 lg:font-medium lg:min-h-8 lg:rounded-20 lg:px-6",40:"lg:text-16 lg:font-medium lg:min-h-10 lg:rounded-2 lg:px-6",48:"lg:text-16 lg:font-medium lg:min-h-12 lg:rounded-3 lg:px-6",60:"lg:text-18 lg:font-medium lg:min-h-[60px] lg:rounded-3 lg:px-6"},x={20:"sm:text-12 sm:min-h-5 sm:rounded-20 sm:px-4",32:"sm:text-14 sm:font-medium sm:min-h-8 sm:rounded-20 sm:px-6",40:"sm:text-16 sm:font-medium sm:rounded-2 sm:min-h-10 sm:px-6",48:"sm:text-16 sm:font-medium sm:rounded-3 sm:min-h-12 sm:px-6",60:"sm:text-18 sm:font-medium sm:rounded-3 sm:min-h-[60px] sm:px-6"},g={20:"text-12 min-h-5 rounded-20 px-4",32:"text-14 font-medium rounded-2 min-h-8 px-6",40:"text-16 font-medium rounded-2 min-h-10 px-6",48:"text-16 font-medium rounded-3 min-h-12 px-6",60:"text-18 font-medium rounded-3 min-h-[60px] px-6"},u={contained:"disabled:bg-tertiary-bg disabled:text-secondary-text",outlined:"disabled:text-secondary-text disabled:border-secondary-border"};function p({variant:e="contained",size:t=48,mobileSize:r,tabletSize:a,startIcon:s,endIcon:l,fullWidth:c,colorScheme:p=0,children:h,className:f,isLoading:b,...y}){return(0,i.jsxs)("button",{className:(0,n.B)("flex items-center justify-center gap-2 duration-200 cursor-pointer disabled:pointer-events-none",d[e][p],m[t],x[a||t],g[r||t],c&&"w-full",u[e],b&&"opacity-50 pointer-events-none",f),...y,children:[s&&(0,i.jsx)(o.A,{iconName:s}),h,l&&(0,i.jsx)(o.A,{iconName:l})]})}},61451:(e,t,r)=>{"use strict";r.d(t,{K:()=>u});var a=r(12115),s=r(50277),i=r(50879),n=r(41535),o=r(31692),l=r(57489),c=r(1501),d=r(77046);let m=(0,c.h)()((0,o.eh)(()=>({lastByChain:{},startedByChain:{},unwatchByChain:{}}))),x=(0,n.v)()((0,o.eh)(()=>({byChain:{},inflight:{}})));async function g(e,t,r){if(!r)return;let a=x.getState();if(a.inflight[e])return a.inflight[e];let s=(async()=>{x.setState(t=>({byChain:{...t.byChain,[e]:{...t.byChain[e]||{},loading:!0,error:null}}}));try{let[a,s,i]=await Promise.all([r.estimateFeesPerGas().catch(()=>void 0),r.getGasPrice().catch(()=>void 0),r.getBlock({blockTag:"latest"}).catch(()=>void 0)]);x.setState(r=>({byChain:{...r.byChain,[e]:{gasPrice:s,baseFee:a?.maxFeePerGas,priorityFee:a?.maxPriorityFeePerGas,updatedAtBlock:t,timestamp:i?.timestamp,loading:!1,error:null}}}))}catch(t){x.setState(r=>({byChain:{...r.byChain,[e]:{...r.byChain[e]||{},loading:!1,error:t?.message??"fee fetch failed"}}}))}finally{x.setState(t=>({inflight:{...t.inflight,[e]:void 0}}))}})();return x.setState(t=>({inflight:{...t.inflight,[e]:s}})),s}function u(){let e=(0,i.A)(),t=(0,s.e)({chainId:e});(0,a.useEffect)(()=>{if(!e||!t)return;let r=function(e,t){let r;if(t)return!function(e){var t,r;let a,s,i,n=e?.chainId;if(!n)return;let{startedByChain:o,unwatchByChain:c}=m.getState();if(o[n])return;m.setState(e=>({startedByChain:{...e.startedByChain,[n]:!0}}));let x=(t=e=>{"bigint"==typeof e&&m.setState(t=>({lastByChain:{...t.lastByChain,[n]:e}}))},r=e?.throttleMs??1200,a=0,function(...e){let n=Date.now();i=e,n-a>=r?(a=n,t.apply(this,i)):(clearTimeout(s),s=setTimeout(()=>{a=Date.now(),t.apply(this,i)},r-(n-a)))}),g=(0,l.q)(d.$,{chainId:n,poll:!0,emitOnBegin:!0,pollingInterval:e?.pollingIntervalMs??4e3,onBlockNumber:x,onError:e=>console.error("[blockTicker]",e)});m.setState(e=>({unwatchByChain:{...e.unwatchByChain,[n]:g}}))}({chainId:e}),m.subscribe(t=>t.lastByChain[e],a=>{a&&a!==r&&(r=a,g(e,a,t))},{fireImmediately:!0})}(e,t);return()=>r?.()},[e,t]);let r=x(t=>e?t.byChain[e]:void 0);return(0,a.useMemo)(()=>({gasPrice:r?.gasPrice,baseFee:r?.baseFee,priorityFee:r?.priorityFee,updatedAtBlock:r?.updatedAtBlock,loading:r?.loading??!0,error:r?.error??null,timestamp:r?.timestamp}),[r])}},68147:(e,t,r)=>{"use strict";r.d(t,{BF:()=>l,Rp:()=>o,YV:()=>m});var a,s,i=r(41535),n=r(97619),o=((a={})[a.EIP1559=0]="EIP1559",a[a.LEGACY=1]="LEGACY",a),l=((s={})[s.CHEAP=0]="CHEAP",s[s.FAST=1]="FAST",s[s.CUSTOM=2]="CUSTOM",s);let c={gasPriceOption:0,gasPriceSettings:{model:0,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0}},d={gasPriceOption:0,gasPriceSettings:{model:1,gasPrice:void 0}},m=(e=c)=>(0,i.v)(t=>({gasPriceOption:e.gasPriceOption,gasPriceSettings:e.gasPriceSettings,setGasPriceOption:e=>t({gasPriceOption:e}),setGasPriceSettings:e=>t({gasPriceSettings:e}),updateDefaultState:e=>t(()=>(0,n.R)(e)?c:d)}))},77046:(e,t,r)=>{"use strict";r.d(t,{$:()=>h});var a=r(15820),s=r(4723),i=r(70610),n=r(91514),o=r(37357),l=r(80288),c=r(93767),d=r(98771),m=r(28852),x=r(69206),g=r(40462),u=r(25601),p=r(41463);let h=(0,c.Z)({chains:"production"===p.env.NEXT_PUBLIC_ENV?[n.r]:[n.r,o.c],connectors:[(0,m.u)({projectId:"0af4613ea1c747c660416c4a7a114616"}),(0,x.m)({appName:"DEX223",appLogoUrl:"https://test-app.dex223.io/tokens/DEX.svg"}),(0,g.e)({dappMetadata:{name:"dex223.io",url:"https://app.dex223.io"},useDeeplink:!0}),(0,u.b)({target:"trust"}),(0,u.b)({target:()=>({name:"SafePal Wallet",id:"safePal",provider:window.safepalProvider,icon:"/images/wallets/safepal-logo.svg"})})],ssr:!0,storage:(0,d.wE)({storage:{getItem:e=>(0,l.Kh)(document.cookie,e)??null,setItem(e,t){document.cookie=`${e}=${t};path=/;samesite=Lax`},removeItem(e){document.cookie=`${e}=;path=/;max-age=-1`}}}),multiInjectedProviderDiscovery:!1,transports:{[n.r.id]:(0,a.Np)([(0,s.K)("wss://lb.drpc.org/ogws?network=ethereum&dkey=AkwuSJ_nLEH3t2kOUJMm2iFCwFk2Dk4R8JcUgk2scBzi"),(0,i.L)("https://lb.drpc.org/ogrpc?network=ethereum&dkey=AkwuSJ_nLEH3t2kOUJMm2iFCwFk2Dk4R8JcUgk2scBzi"),(0,s.K)("wss://ethereum.callstaticrpc.com"),(0,s.K)("wss://ethereum-rpc.publicnode.com"),(0,i.L)("https://ethereum-rpc.publicnode.com"),(0,i.L)("https://eth.drpc.org"),(0,i.L)("https://1rpc.io/eth"),(0,i.L)()]),[o.c.id]:(0,a.Np)([(0,i.L)("https://api.zan.top/bsc-testnet"),(0,i.L)("https://endpoints.omniatech.io/v1/bsc/testnet/public"),(0,i.L)("https://bsc-testnet.public.blastapi.io"),(0,i.L)("https://bsc-testnet-rpc.publicnode.com"),(0,i.L)("https://data-seed-prebsc-1-s1.bnbchain.org:8545"),(0,i.L)()])}})},79050:(e,t,r)=>{Promise.resolve().then(r.bind(r,94750)),Promise.resolve().then(r.bind(r,49381))},94522:(e,t,r)=>{"use strict";r.d(t,{k:()=>a});let a=(0,r(41535).v)((e,t)=>({typedValue:"",setTypedValue:({typedValue:t})=>{e({typedValue:t})},reset:()=>e({typedValue:""})}))},94750:(e,t,r)=>{"use strict";r.d(t,{default:()=>Y});var a,s=r(95155),i=r(29722),n=r(5772),o=r(12115),l=r(53965),c=r(22160),d=r(16323),m=r(29241),x=r(56296),g=r(31335),u=r(14061);let p={assets:"/images/empty/empty-assets.svg",edit:"/images/empty/empty-edit.svg",history:"/images/empty/empty-history.svg",imported:"/images/empty/empty-imported.svg",list:"/images/empty/empty-list.svg",pair:"/images/empty/empty-pair.svg",pool:"/images/empty/empty-pool.svg",search:"/images/empty/empty-search.svg","search-list":"/images/empty/empty-search-list.svg",wallet:"/images/empty/empty-wallet.svg",custom:"/images/empty/empty-custom-tokens.svg",tokens:"/images/empty/empty-tokens.svg",warning:"/images/empty/empty-warning.svg",autolisting:"/images/empty/empty-autolisting.svg","deposited-tokens":"/images/empty/empty-deposited-tokens.svg","margin-positions":"/images/empty/empty-margin-positions.svg","lending-orders":"/images/empty/empty-lending-orders.svg","search-autolisting":"/images/empty/empty-autolisting-search.svg"};function h({iconName:e,size:t=80}){return(0,s.jsx)(n.default,{width:t,height:t,src:p[e],alt:""})}var f=r(24164),b=r(45050),y=r(50879),v=r(64726),P=r(57981),E=r(78861);function N({size:e=24,type:t="circular",color:r="green",smallDots:a=!1}){let n=(0,o.useMemo)(()=>e/Math.sqrt(2),[e]);switch(t){case"circular":return(0,s.jsx)("div",{style:{width:e,height:e},className:"flex items-center justify-center relative",children:(0,s.jsx)("div",{style:{borderWidth:e>50?4:2},className:(0,i.A)("rounded-full border-4 border-transparent top-0 left-0 w-full h-full bg-transparent animate-spin","green"===r&&"border-t-green border-l-green border-r-green","black"===r&&"border-t-secondary-bg border-l-secondary-bg border-r-secondary-bg")})});case"linear":return(0,s.jsxs)("div",{className:"flex items-center gap-[5px]",style:{height:e},children:[(0,s.jsx)("span",{className:(0,i.A)("block rounded-full animate-flicker1 bg-green",a?"w-[6px] h-[6px]":"w-2 h-2 ")}),(0,s.jsx)("span",{className:(0,i.A)("block rounded-full animate-flicker2 bg-green",a?"w-[6px] h-[6px]":"w-2 h-2 ")}),(0,s.jsx)("span",{className:(0,i.A)("block rounded-full animate-flicker3 bg-green",a?"w-[6px] h-[6px]":"w-2 h-2 ")})]});case"awaiting":return(0,s.jsx)("div",{className:"flex items-center justify-center",style:{width:e,height:e},children:(0,s.jsx)("div",{style:{width:n,height:n},className:"rotate-45 relative",children:[0,1,2,3,4].map(e=>(0,s.jsx)("div",{className:"absolute animate-orbit w-full h-full",style:{animationDelay:`${100*e}ms`,opacity:1-.2*(e+1),zIndex:e},children:(0,s.jsx)("div",{style:{width:n/5,height:n/5,boxShadow:`0px 0px ${n/2.5}px 2px #3ae374`},className:"absolute top-0 left-0 shadow-orbit w-[10px] h-[10px] bg-green rounded-full"})},e))})})}}var j=((a={})[a.IDLE=0]="IDLE",a[a.AWAITING_SIGNATURE=1]="AWAITING_SIGNATURE",a[a.LOADING=2]="LOADING",a[a.STEP_COMPLETED=3]="STEP_COMPLETED",a[a.STEP_FAILED=4]="STEP_FAILED",a[a.OPERATION_COMPLETED=5]="OPERATION_COMPLETED",a);function A({children:e}){return(0,s.jsx)("div",{className:"flex flex-col gap-5",children:e})}function w({status:e,statusTextMap:t,hash:r,iconName:a,isFirstStep:n}){let l=(0,y.A)(),c=(0,o.useMemo)(()=>t[e],[e,t]),d=(0,o.useMemo)(()=>0===e,[e]),m=(0,o.useMemo)(()=>{switch(e){case 4:return(0,s.jsx)(b.A,{className:"text-red-light",iconName:"warning",size:20});case 2:return(0,s.jsx)(N,{size:20});case 1:return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(N,{type:"linear"}),(0,s.jsx)("span",{className:"text-secondary-text text-14",children:"Proceed in your wallet"})]});case 3:case 5:return(0,s.jsx)(b.A,{className:"text-green",iconName:"done",size:20});default:return null}},[e]);return(0,s.jsxs)("div",{className:"grid grid-cols-[32px_auto_1fr] gap-2 h-10",children:[(0,s.jsx)("div",{className:"flex items-center h-full",children:(0,s.jsx)("div",{className:(0,v.B)("p-1 rounded-full h-8 w-8 relative",d?"bg-tertiary-bg":"bg-green-bg",4===e&&"bg-red-bg",!n&&"before:absolute before:rounded-5 before:-top-2 before:left-1/2 before:w-0.5 before:h-3 before:-translate-x-1/2 before:-translate-y-full",[5,1,2].includes(e)?"before:bg-green":"before:bg-[#3C4C4A]",3===e&&"opacity-50"),children:(0,s.jsx)(b.A,{className:(0,v.B)(d?"text-tertiary-text":"text-green",4===e&&"text-red-light"),iconName:a})})}),(0,s.jsx)("div",{className:"flex flex-col justify-center",children:(0,s.jsx)("span",{className:(0,i.A)("text-14",d||3===e?"text-tertiary-text":"text-primary-text"),children:c})}),(0,s.jsxs)("div",{className:"flex items-center gap-2 justify-end",children:[r&&(0,s.jsx)("a",{target:"_blank",href:(0,P.A)(P.I.TRANSACTION,r,l),children:(0,s.jsx)(E.Ay,{iconName:"forward"})}),m]})]})}var C=r(14887),R=r(13390),G=r(24275),F=r(31553),I=r(61451),k=r(68147),T=r(20799),L=r(94522),S=r(10118),M=r(24251),O=r(17931),B=r(9153),_=r(48601);function U({title:e,value:t,tooltipText:r}){return(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex gap-1 items-center text-secondary-text",children:[r&&(0,s.jsx)(_.A,{iconSize:20,text:r}),e]}),(0,s.jsx)("span",{children:t})]})}function D({assetStandard:e,assetSymbol:t}){var r;let a={iconName:"done",pending:M.eh.PENDING_APPROVE,loading:M.eh.LOADING_APPROVE,error:M.eh.ERROR_APPROVE,textMap:(r=t||"Unknown",{[j.IDLE]:`Approve ${r}`,[j.AWAITING_SIGNATURE]:`Approve ${r}`,[j.LOADING]:`Approving ${r}`,[j.STEP_COMPLETED]:`Approved ${r}`,[j.STEP_FAILED]:`Approve ${r} failed`,[j.OPERATION_COMPLETED]:`Approved ${r}`})},s={iconName:"swap",pending:M.eh.PENDING_CONVERT,loading:M.eh.LOADING_CONVERT,error:M.eh.ERROR_CONVERT,textMap:{[j.IDLE]:"Margin swap",[j.AWAITING_SIGNATURE]:"Margin swap",[j.LOADING]:"Processing margin swap",[j.STEP_COMPLETED]:"Margin swap completed",[j.STEP_FAILED]:"Failed to process margin swap",[j.OPERATION_COMPLETED]:"Margin swap completed"}};return e===R.a.ERC20?[a,s]:[s]}function V({disabled:e,amountToApprove:t}){let{handleConvert:r}=(0,F.Ay)(),{token:a,tokenStandard:i}=(0,O.y)(),{status:n,approveHash:l,convertHash:c}=(0,M.cu)(),d=(0,o.useMemo)(()=>i===R.a.ERC20?[l,c]:[c],[c,l,i]);return n!==M.eh.INITIAL?(0,s.jsx)(A,{children:D({assetStandard:i,assetSymbol:a?.symbol||"Unknown"}).map((e,t)=>(0,s.jsx)(w,{iconName:e.iconName,hash:d[t],statusTextMap:e.textMap,status:function({currentStatus:e,orderedSteps:t,stepIndex:r,pendingStep:a,loadingStep:s,errorStep:i,successStep:n}){return e===n?5:e===i?4:e===a?1:e===s?2:3*(Math.floor(t.indexOf(e)/3)>r)}({currentStatus:n,orderedSteps:D({assetStandard:i,assetSymbol:a?.symbol||"Unknown"}).flatMap(e=>[e.pending,e.loading,e.error]),stepIndex:t,pendingStep:e.pending,loadingStep:e.loading,errorStep:e.error,successStep:M.eh.SUCCESS}),isFirstStep:0===t},t))}):(0,s.jsx)(x.Ay,{disabled:e,onClick:()=>r(t),fullWidth:!0,children:"Confirm conversion"})}function H({token:e,amount:t,amountUSD:r,standard:a,title:i}){return(0,s.jsxs)("div",{className:"rounded-3 bg-tertiary-bg py-4 px-5 flex flex-col gap-1",children:[(0,s.jsx)("p",{className:"text-secondary-text text-14",children:i}),(0,s.jsxs)("div",{className:"flex justify-between items-center text-20",children:[(0,s.jsx)("span",{children:t}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n.default,{src:e?.logoURI||"/images/tokens/placeholder.svg",alt:"",width:32,height:32}),e?.symbol,(0,s.jsx)(m.A,{variant:m.x.STANDARD,standard:a})]})]}),(0,s.jsxs)("p",{className:"text-secondary-text text-14",children:["$",r]})]})}function Y(){let{token:e,tokenStandard:t,reset:r}=(0,O.y)(),{typedValue:a,reset:p}=(0,L.k)(),v=(0,y.A)(),{isOpen:P,setIsOpen:E}=(0,T.Q)(),{status:N,setStatus:j}=(0,M.cu)(),A=(0,o.useMemo)(()=>N===M.eh.INITIAL,[N]),w=(0,o.useMemo)(()=>N===M.eh.SUCCESS||N===M.eh.ERROR_CONVERT||N===M.eh.ERROR_APPROVE,[N]),F=(0,o.useMemo)(()=>!A&&!w,[w,A]),{estimatedGas:D,customGasLimit:Y}=(0,S.mc)(),[W,$]=(0,o.useState)(a);(0,o.useEffect)(()=>{a&&$(a)},[a]);let{gasPriceSettings:z}=(0,S.SF)(),{baseFee:Q}=(0,I.K)(),X=(0,o.useMemo)(()=>{if(z.model===k.Rp.LEGACY&&z.gasPrice)return(0,B.kr)((0,c.Q)(z.gasPrice));if(z.model===k.Rp.EIP1559&&z.maxFeePerGas&&z.maxPriorityFeePerGas&&Q){let e=z.maxFeePerGas>Q?Q:z.maxFeePerGas;return(0,B.kr)((0,c.Q)(e+z.maxPriorityFeePerGas))}return"0"},[Q,z]);(0,o.useEffect)(()=>{w&&!P&&setTimeout(()=>{j(M.eh.INITIAL)},400)},[w,P,j]);let[q,K]=(0,o.useState)(!1),{isAllowed:J}=(0,G.N)({token:e,contractAddress:C.u[v],amountToCheck:(0,d.X)(a,e?.decimals??18)});return(0,s.jsx)(u.A,{isOpen:P,setIsOpen:e=>{E(e)},children:(0,s.jsxs)("div",{className:"bg-primary-bg rounded-5 w-full sm:w-[600px]",children:[(0,s.jsx)(g.A,{onClose:()=>{E(!1)},title:"Review conversion"}),(0,s.jsxs)("div",{className:"card-spacing",children:[(A||F)&&(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsx)(H,{token:e,amount:a,amountUSD:"",standard:t,title:"You convert"}),(0,s.jsx)(H,{token:e,amount:a,amountUSD:"",standard:t===R.a.ERC20?R.a.ERC223:R.a.ERC20,title:"You receive"})]})}),F&&(0,s.jsx)(s.Fragment,{}),w&&(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"mx-auto w-[80px] h-[80px] flex items-center justify-center relative mb-5",children:[(N===M.eh.ERROR_APPROVE||N===M.eh.ERROR_CONVERT)&&(0,s.jsx)(h,{iconName:"warning"}),N===M.eh.SUCCESS&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-[54px] h-[54px] rounded-full border-[7px] blur-[8px] opacity-80 border-green"}),(0,s.jsx)(b.A,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-green",iconName:"success",size:65})]})]}),(0,s.jsx)("div",{className:"flex justify-center mb-1",children:(0,s.jsxs)("span",{className:"text-20 font-bold text-primary-text mb-1",children:[N===M.eh.ERROR_CONVERT&&"Conversion failed",N===M.eh.SUCCESS&&"Conversion completed",N===M.eh.ERROR_APPROVE&&"Approve failed"]})}),(0,s.jsxs)("div",{className:"flex justify-center gap-2 mb-2",children:[(0,s.jsx)(n.default,{src:e?.logoURI||"/images/tokens/placeholder.svg",alt:"",width:24,height:24}),(0,s.jsxs)("span",{children:[e?.symbol," ",a]})]}),(0,s.jsxs)("div",{className:"flex justify-center gap-2 items-center",children:[(0,s.jsx)(m.A,{variant:m.x.STANDARD,standard:t}),(0,s.jsx)(b.A,{className:"text-tertiary-text",iconName:"next"}),(0,s.jsx)(m.A,{variant:m.x.STANDARD,standard:t===R.a.ERC20?R.a.ERC223:R.a.ERC20})]})]})}),A&&(0,s.jsxs)("div",{className:"pb-4 flex flex-col gap-2 rounded-b-3 text-14 mt-4",children:[(0,s.jsx)(U,{title:"Network fee",value:(0,s.jsxs)("div",{children:[(0,s.jsxs)("span",{className:"text-secondary-text mr-1 text-14",children:[X," GWEI"]})," ",(0,s.jsx)("span",{className:"mr-1 text-14"})]}),tooltipText:"t(network_fee_tooltip, {networkName: networks.find((n) => n.chainId === chainId)?.name,})"}),(0,s.jsx)(U,{title:"Gas limit",value:Y?Y.toString():(D+BigInt(3e4)).toString()||"Loading...",tooltipText:"Gas tooltip"}),t===R.a.ERC20&&!J&&(0,s.jsxs)("div",{className:(0,i.A)("bg-tertiary-bg rounded-3 flex items-center px-5 py-2 min-h-12 mt-2 gap-2",+W<+a&&"sm:pb-[26px]"),children:[(0,s.jsxs)("div",{className:"sm:items-center sm:justify-between sm:gap-5 flex-grow flex flex-col gap-1 sm:flex-row",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1 text-secondary-text whitespace-nowrap sm:flex-row-reverse",children:[(0,s.jsx)("span",{children:"Approve amount"}),(0,s.jsx)(_.A,{text:"In order to make a swap with ERC-20 token you need to give the DEX contract permission to withdraw your tokens. All DEX'es require this operation. Here you are specifying the amount of tokens that you allow the contract to transfer on your behalf. Note that this amount never expires."})]}),q?(0,s.jsxs)("div",{className:"flex-grow",children:[(0,s.jsxs)("div",{className:"relative w-full flex-grow",children:[(0,s.jsx)(l.HG,{inputMode:"decimal",allowedDecimalSeparators:[","],isError:+W<+a,className:"h-8 pl-3",value:W,onValueChange:e=>{$(e.value)},customInput:f.Ay,allowNegative:!1,type:"text"}),(0,s.jsx)("span",{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-tertiary-text",children:e?.symbol||"Unknown"})]}),+W<+a&&(0,s.jsxs)("span",{className:"text-red-light sm:absolute text-12 sm:translate-y-0.5",children:["Must be higher or equal ",a]})]}):(0,s.jsxs)("span",{children:[W," ",e?.symbol||"Unknown"]})]}),(0,s.jsx)("div",{className:"flex items-center",children:q?(0,s.jsx)(x.Ay,{disabled:+W<+a,size:x.Mp.EXTRA_SMALL,mobileSize:x.Mp.SMALL,colorScheme:x.mq.LIGHT_GREEN,onClick:()=>K(!1),className:"!rounded-20 disabled:bg-quaternary-bg",children:"Save"}):(0,s.jsx)(x.Ay,{size:x.Mp.EXTRA_SMALL,mobileSize:x.Mp.SMALL,colorScheme:x.mq.LIGHT_GREEN,onClick:()=>K(!0),className:"!rounded-20",children:"Edit"})})]})]}),!A&&(0,s.jsx)("div",{className:"h-px w-full bg-secondary-border mb-4 mt-5"}),(0,s.jsx)(V,{disabled:q,amountToApprove:W})]})]})})}},97619:(e,t,r)=>{"use strict";r.d(t,{R:()=>s});let a={[r(88576).iF.MAINNET]:!0};function s(e){return a[e]}}},e=>{e.O(0,[2692,2545,9304,8409,4254,434,3864,3992,495,8730,6095,5364,905,8441,3794,7358],()=>e(e.s=79050)),_N_E=e.O()}]);